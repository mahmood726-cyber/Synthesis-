<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Der verborgene Patient: Ein Kurs zur Metaanalyse einzelner Teilnehmerdaten</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&amp;family=Source+Sans+Pro:wght@300;400;600;700&amp;display=swap" rel="stylesheet"/>
<style>
    /* Fallback fonts for offline use */
    @font-face {
      font-family: 'Cormorant Garamond';
      src: local('Cormorant Garamond'), local('Georgia'), local('Times New Roman');
      font-display: swap;
    }
    @font-face {
      font-family: 'Source Sans Pro';
      src: local('Source Sans Pro'), local('Segoe UI'), local('Arial');
      font-display: swap;
    }

    :root {
      --navy: #1E2761;
      --deep-navy: #141B3D;
      --gold: #D4AF37;
      --cream: #FAF8F5;
      --light-cream: #FFFFFF;
      --text: #2D3748;
      --light-text: #718096;
      --red: #C53030;
      --green: #22c55e;
      --teal: #00D4AA;
      --purple: #A855F7;
      --orange: #F97316;
      --blue: #3B82F6;
      --blood-red: #8B0000;
      --transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* Accessibility: Skip link */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--gold);
      color: var(--navy);
      padding: 8px 16px;
      z-index: 1000;
      font-weight: 600;
      text-decoration: none;
      border-radius: 0 0 4px 0;
    }
    .skip-link:focus {
      top: 0;
    }

    /* Accessibility: Focus indicators */
    *:focus {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
    }
    *:focus:not(:focus-visible) {
      outline: none;
    }
    *:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
    }

    /* Accessibility: Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
      .slide { transition: none; }
    }

    /* Accessibility: Screen reader only */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* Accessibility: Live region for announcements */
    .aria-live-region {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    html, body {
      height: 100%;
      font-family: 'Source Sans Pro', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--deep-navy);
      color: var(--cream);
    }

    .course-container {
      display: flex;
      height: 100vh;
      overflow: hidden;
    }

    /* Sidebar */
    .sidebar {
      width: 300px;
      background: linear-gradient(180deg, var(--deep-navy) 0%, #0a0f1a 100%);
      border-right: 1px solid rgba(212,175,55,0.2);
      display: flex;
      flex-direction: column;
      flex-shrink: 0;
    }

    /* mobile sidebar handled by hamburger toggle below */

    .sidebar-header {
      padding: 1.5rem;
      border-bottom: 1px solid rgba(212,175,55,0.2);
    }

    .sidebar-header h1 {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--gold);
      margin-bottom: 0.25rem;
    }

    .sidebar-header p {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.6);
    }

    .module-list {
      flex: 1;
      overflow-y: auto;
      padding: 1rem 0;
    }

    .module-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      transition: all 0.2s;
      border-left: 3px solid transparent;
    }

    .module-item:hover { background: rgba(212,175,55,0.1); }
    .module-item.active { background: rgba(212,175,55,0.15); border-left-color: var(--gold); }
    .module-item.completed .module-number { background: var(--green); color: white; }

    .module-number {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 700;
      flex-shrink: 0;
    }

    .module-item.active .module-number { background: var(--gold); color: var(--navy); }

    .module-info { flex: 1; min-width: 0; }
    .module-title { font-size: 0.85rem; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .module-subtitle { font-size: 0.7rem; color: rgba(255,255,255,0.7); }

    .sidebar-footer {
      padding: 1rem 1.5rem;
      border-top: 1px solid rgba(212,175,55,0.2);
      font-size: 0.7rem;
      color: rgba(255,255,255,0.4);
      line-height: 1.4;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .content-header {
      padding: 1rem 2rem;
      background: rgba(0,0,0,0.3);
      border-bottom: 1px solid rgba(212,175,55,0.2);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .breadcrumb { font-size: 0.85rem; color: rgba(255,255,255,0.6); }
    .breadcrumb span { color: var(--gold); }

    .header-actions { display: flex; gap: 0.5rem; }

    .btn {
      padding: 0.5rem 1rem;
      border: 1px solid rgba(212,175,55,0.3);
      border-radius: 6px;
      background: rgba(255,255,255,0.05);
      color: var(--cream);
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn:hover { background: rgba(212,175,55,0.2); border-color: var(--gold); }
    .btn:focus-visible { box-shadow: 0 0 0 3px rgba(212,175,55,0.5); }
    .btn.primary { background: var(--gold); color: var(--navy); border-color: var(--gold); font-weight: 600; }
    .btn.primary:focus-visible { box-shadow: 0 0 0 3px rgba(212,175,55,0.7); }

    .content-body { flex: 1; overflow: hidden; display: flex; }

    /* Slides */
    .slides-container { flex: 1; position: relative; overflow: hidden; }

    .module-slides { display: none; width: 100%; height: 100%; }
    .module-slides.active { display: block; }

    .slide {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      padding: 2rem 2rem 4rem 2rem;
      padding-top: 3rem;
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--transition), visibility var(--transition);
      overflow-y: auto;
      overflow-x: hidden;
    }

    .slide .content { margin-top: auto; margin-bottom: auto; }
    .slide > * { max-width: 100%; word-wrap: break-word; }
    .slide.active { opacity: 1; visibility: visible; }

    .slide.dark { background: var(--deep-navy); color: var(--cream); }
    .slide.light { background: var(--cream); color: var(--text); }
    .slide.black { background: #000; color: var(--cream); }
    .slide.gradient { background: linear-gradient(135deg, var(--deep-navy) 0%, #2a1a4a 100%); color: var(--cream); }
    .slide.blood { background: linear-gradient(135deg, #1a0a0a 0%, #2d1515 100%); color: var(--cream); }
    .slide.hope { background: linear-gradient(135deg, #0a1a0a 0%, #152d15 100%); color: var(--cream); }
    .slide.ipd { background: linear-gradient(135deg, #0a1a2d 0%, #152d3d 100%); color: var(--cream); }
    .slide.precision { background: linear-gradient(135deg, #1a0a2d 0%, #2d153d 100%); color: var(--cream); }

    /* Typography */
    .serif { font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif; }

    .title {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(1.8rem, 5vw, 3.5rem);
      font-weight: 700;
      margin-bottom: 1rem;
      line-height: 1.2;
    }

    .title.navy { color: var(--navy); }
    .title.gold { color: var(--gold); }
    .title.cream { color: var(--cream); }
    .title.red { color: var(--red); }
    .title.green { color: var(--green); }
    .title.blue { color: var(--blue); }
    .title.purple { color: var(--purple); }

    .subtitle {
      font-size: clamp(1rem, 2vw, 1.5rem);
      color: var(--light-text);
      margin-bottom: 2rem;
    }

    .slide.dark .subtitle { color: rgba(255,255,255,0.7); }

    .big-number {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(4rem, 15vw, 10rem);
      font-weight: 700;
      line-height: 1;
    }

    .big-number.navy { color: var(--navy); }
    .big-number.gold { color: var(--gold); }
    .big-number.red { color: var(--red); }
    .big-number.green { color: var(--green); }
    .big-number.blue { color: var(--blue); }

    /* Refrain */
    .refrain {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(1.4rem, 4vw, 2.5rem);
      font-style: italic;
      color: var(--gold);
      text-align: center;
      max-width: 800px;
      line-height: 1.4;
    }

    .refrain.warning {
      color: var(--red);
      border-left: 4px solid var(--red);
      padding-left: 1.5rem;
      text-align: left;
    }

    .refrain.hope { color: var(--green); }
    .refrain.insight { color: var(--blue); }

    /* Rhetorical */
    .rhetorical {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(1.2rem, 3vw, 2rem);
      color: rgba(255,255,255,0.9);
      text-align: center;
      max-width: 700px;
      line-height: 1.5;
    }

    .rhetorical em { color: var(--gold); font-style: normal; }

    /* Simple explanation box */
    .simple-box {
      background: linear-gradient(135deg, rgba(0,212,170,0.1), rgba(0,0,0,0.2));
      border: 2px solid var(--teal);
      border-radius: 12px;
      padding: 1.5rem;
      max-width: 600px;
      margin: 1rem 0;
    }

    .simple-box.blue {
      background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(0,0,0,0.2));
      border-color: var(--blue);
    }

    .simple-box.purple {
      background: linear-gradient(135deg, rgba(168,85,247,0.1), rgba(0,0,0,0.2));
      border-color: var(--purple);
    }

    .simple-box .simple-title {
      color: var(--teal);
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.1em;
      margin-bottom: 0.75rem;
    }

    .simple-box.blue .simple-title { color: var(--blue); }
    .simple-box.purple .simple-title { color: var(--purple); }

    .simple-box .simple-text {
      font-size: 1.1rem;
      line-height: 1.6;
    }

    .simple-box .simple-text strong { color: var(--gold); }

    /* Story card */
    .story-card {
      background: rgba(0,0,0,0.3);
      border-left: 4px solid var(--gold);
      padding: 1.5rem 2rem;
      max-width: 700px;
      margin: 1rem 0;
    }

    .story-card .place {
      font-size: 0.75rem;
      color: var(--gold);
      letter-spacing: 0.1em;
      margin-bottom: 0.5rem;
    }

    .story-card .narrative {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.1rem;
      line-height: 1.6;
      color: rgba(255,255,255,0.9);
    }

    .story-card .source {
      font-size: 0.7rem;
      color: rgba(255,255,255,0.5);
      margin-top: 1rem;
      font-style: italic;
    }

    /* Decision Tree */
    .decision-tree {
      background: rgba(0,0,0,0.3);
      border: 2px solid var(--gold);
      border-radius: 12px;
      padding: 1.5rem;
      max-width: 800px;
      width: 100%;
    }

    .decision-tree h4 {
      color: var(--gold);
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.1rem;
      margin-bottom: 1rem;
      text-align: center;
    }

    .tree-level {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin: 0.5rem 0;
      position: relative;
      flex-wrap: wrap;
    }

    .tree-node {
      background: var(--navy);
      border: 2px solid var(--gold);
      border-radius: 8px;
      padding: 0.75rem 1rem;
      text-align: center;
      min-width: 120px;
      font-size: 0.8rem;
    }

    .tree-node.root { background: var(--gold); color: var(--navy); font-weight: 700; }
    .tree-node.question { background: rgba(168,85,247,0.3); border-color: var(--purple); }
    .tree-node.yes { background: rgba(34,197,94,0.3); border-color: var(--green); }
    .tree-node.no { background: rgba(197,48,48,0.3); border-color: var(--red); }
    .tree-node.ipd { background: rgba(59,130,246,0.3); border-color: var(--blue); }
    .tree-node.aggregate { background: rgba(249,115,22,0.3); border-color: var(--orange); }
    .tree-node.action { background: var(--teal); color: var(--navy); font-weight: 600; }

    .tree-arrow {
      color: var(--gold);
      font-size: 1.5rem;
      text-align: center;
    }

    .tree-label {
      font-size: 0.7rem;
      color: rgba(255,255,255,0.7);
      text-align: center;
      margin-top: 0.25rem;
    }

    /* Comparison boxes */
    .compare-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      max-width: 800px;
      width: 100%;
    }

    @media (max-width: 600px) { .compare-grid { grid-template-columns: 1fr; } }

    .compare-box {
      background: rgba(0,0,0,0.3);
      border-radius: 12px;
      padding: 1.5rem;
      border: 2px solid;
    }

    .compare-box.aggregate { border-color: var(--orange); }
    .compare-box.ipd { border-color: var(--blue); }

    .compare-box h4 {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.1rem;
      margin-bottom: 0.75rem;
    }

    .compare-box.aggregate h4 { color: var(--orange); }
    .compare-box.ipd h4 { color: var(--blue); }

    .compare-box ul {
      list-style: none;
      font-size: 0.85rem;
      line-height: 1.8;
    }

    .compare-box li::before {
      content: "‚Ä¢ ";
      color: var(--gold);
    }

    /* Stats */
    .stats-grid {
      display: flex;
      gap: 1rem;
      margin: 1.5rem 0;
      flex-wrap: wrap;
      justify-content: center;
    }

    .stat-box {
      background: var(--navy);
      color: var(--cream);
      padding: 1rem 1.5rem;
      text-align: center;
      min-width: 130px;
      border-radius: 8px;
    }

    .stat-value {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(1.4rem, 3vw, 2rem);
      font-weight: 700;
    }

    .stat-label { font-size: 0.7rem; opacity: 0.8; margin-top: 0.25rem; }

    /* Death toll */
    .death-toll {
      background: linear-gradient(135deg, rgba(197,48,48,0.3), rgba(0,0,0,0.5));
      border: 2px solid var(--red);
      padding: 2rem;
      text-align: center;
      max-width: 400px;
      border-radius: 12px;
    }

    .death-toll .number {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 4rem;
      font-weight: 700;
      color: var(--red);
    }

    .death-toll .label {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.8);
      margin-top: 0.5rem;
    }

    /* Discovery box */
    .discovery-box {
      background: linear-gradient(135deg, rgba(59,130,246,0.3), rgba(0,0,0,0.5));
      border: 2px solid var(--blue);
      padding: 2rem;
      text-align: center;
      max-width: 450px;
      border-radius: 12px;
    }

    .discovery-box .insight {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 2rem;
      font-weight: 700;
      color: var(--blue);
    }

    .discovery-box .label {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.8);
      margin-top: 0.5rem;
    }

    /* Lesson items */
    .lesson-item {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      margin: 0.6rem 0;
      max-width: 800px;
      text-align: left;
    }

    .lesson-number {
      background: var(--gold);
      color: var(--navy);
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      flex-shrink: 0;
      border-radius: 4px;
    }

    .lesson-content h4 {
      font-size: 1rem;
      font-weight: 700;
      color: var(--cream);
      margin-bottom: 0.2rem;
    }

    .lesson-content p { font-size: 0.85rem; color: rgba(255,255,255,0.7); }

    /* Formula box */
    .formula-box {
      background: rgba(0,0,0,0.4);
      border: 1px solid var(--purple);
      border-radius: 8px;
      padding: 1rem 1.5rem;
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.2rem;
      text-align: center;
      max-width: 600px;
      margin: 1rem 0;
    }

    .formula-box .formula {
      color: var(--gold);
      margin: 0.5rem 0;
      font-size: 1.1rem;
    }

    .formula-box .label {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.6);
      font-family: 'Source Sans Pro', sans-serif;
    }

    /* Patient silhouettes */
    .patient-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      max-width: 400px;
      justify-content: center;
      padding: 1rem;
      background: rgba(0,0,0,0.3);
      border-radius: 12px;
    }

    .patient-icon {
      font-size: 1.2rem;
      opacity: 0.7;
    }

    .patient-icon.highlighted {
      opacity: 1;
      filter: drop-shadow(0 0 4px var(--gold));
    }

    .patient-icon.responder { color: var(--green); }
    .patient-icon.non-responder { color: var(--red); }
    .patient-icon.hidden { color: var(--orange); opacity: 0.4; }

    /* Timeline */
    .timeline {
      max-width: 600px;
      width: 100%;
    }

    .timeline-item {
      display: flex;
      gap: 1rem;
      margin: 1rem 0;
      padding-left: 1rem;
      border-left: 3px solid var(--gold);
    }

    .timeline-year {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--gold);
      min-width: 60px;
    }

    .timeline-content {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.8);
    }

    /* Gold line */
    .gold-line { width: 150px; height: 2px; background: var(--gold); margin: 1.5rem auto; }

    /* Content wrapper */
    .content {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 1000px;
    }

    /* Animation */
    .slide.active .animate { animation: fadeUp 0.6s ease-out forwards; }
    .slide.active .animate.delay-1 { animation-delay: 0.1s; }
    .slide.active .animate.delay-2 { animation-delay: 0.2s; }
    .slide.active .animate.delay-3 { animation-delay: 0.3s; }
    .slide.active .animate.delay-4 { animation-delay: 0.4s; }
    .slide.active .animate.delay-5 { animation-delay: 0.5s; }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate { opacity: 0; }

    /* Slide Nav */
    .slide-nav {
      position: absolute;
      bottom: 0; left: 0; right: 0;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      padding: 1rem 1rem 1.5rem 1rem;
      z-index: 100;
      pointer-events: none;
    }

    .nav-btn {
      background: rgba(0,0,0,0.5);
      border: 1px solid rgba(255,255,255,0.2);
      color: white;
      font-size: 1.25rem;
      cursor: pointer;
      opacity: 0.6;
      transition: all 0.2s;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      pointer-events: auto;
    }

    .nav-btn:hover { opacity: 1; background: rgba(0,0,0,0.7); border-color: var(--gold); }

    .nav-center {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      pointer-events: auto;
    }

    .slide-counter { color: rgba(255,255,255,0.6); font-size: 0.85rem; min-width: 50px; text-align: center; }
    .progress { display: flex; gap: 4px; flex-wrap: wrap; justify-content: center; max-width: 200px; }

    .progress-dot {
      width: 6px; height: 6px;
      border-radius: 50%;
      background: rgba(255,255,255,0.25);
      cursor: pointer;
      transition: all 0.2s;
    }

    .progress-dot.active { background: var(--gold); transform: scale(1.3); }
    .progress-dot:hover { background: rgba(255,255,255,0.6); }

    /* Quiz */
    .quiz-container {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(212,175,55,0.3);
      padding: 1.5rem;
      max-width: 700px;
      width: 100%;
      border-radius: 8px;
    }

    .quiz-question {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.2rem;
      margin-bottom: 1rem;
      color: var(--gold);
      line-height: 1.4;
    }

    .quiz-options { display: flex; flex-direction: column; gap: 0.5rem; }

    .quiz-option {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 0.75rem 1rem;
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
      border-radius: 6px;
      font-size: 0.9rem;
    }

    .quiz-option:hover { background: rgba(212,175,55,0.1); border-color: var(--gold); }
    .quiz-option.correct { background: rgba(34,197,94,0.2); border-color: var(--green); }
    .quiz-option.incorrect { background: rgba(197,48,48,0.2); border-color: var(--red); }

    .quiz-feedback {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 8px;
      display: none;
      font-size: 0.9rem;
    }

    .quiz-feedback.show { display: block; }
    .quiz-feedback.correct { background: rgba(34,197,94,0.2); border: 1px solid var(--green); }
    .quiz-feedback.incorrect { background: rgba(197,48,48,0.2); border: 1px solid var(--red); }

    /* Branching Scenario */
    .scenario-panel {
      background: rgba(0,0,0,0.3);
      border: 2px solid var(--purple);
      border-radius: 12px;
      padding: 1.5rem;
      max-width: 750px;
      width: 100%;
    }

    .scenario-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .scenario-icon { font-size: 1.5rem; }

    .scenario-title {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.3rem;
      color: var(--gold);
    }

    .scenario-situation {
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 1rem;
      color: rgba(255,255,255,0.9);
    }

    .scenario-question {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.1rem;
      color: var(--gold);
      margin-bottom: 1rem;
    }

    .scenario-choices {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .scenario-choice {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 0.75rem 1rem;
      cursor: pointer;
      transition: all 0.2s;
      border-radius: 6px;
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
    }

    .scenario-choice:hover { background: rgba(212,175,55,0.1); border-color: var(--gold); }
    .scenario-choice.answered { pointer-events: none; opacity: 0.6; }
    .scenario-choice.correct { background: rgba(34,197,94,0.2); border-color: var(--green); opacity: 1; }
    .scenario-choice.incorrect { background: rgba(197,48,48,0.2); border-color: var(--red); opacity: 1; }

    .choice-letter {
      background: var(--navy);
      color: var(--gold);
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      font-weight: 700;
      font-size: 0.8rem;
      flex-shrink: 0;
    }

    .choice-text { font-size: 0.9rem; line-height: 1.4; }

    .scenario-consequence {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 8px;
      display: none;
    }

    .scenario-consequence.visible { display: block; }
    .scenario-consequence.good { background: rgba(34,197,94,0.15); border: 1px solid var(--green); }
    .scenario-consequence.bad { background: rgba(197,48,48,0.15); border: 1px solid var(--red); }
    .scenario-consequence.neutral { background: rgba(249,115,22,0.15); border: 1px solid var(--orange); }

    .consequence-title {
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .scenario-consequence.good .consequence-title { color: var(--green); }
    .scenario-consequence.bad .consequence-title { color: var(--red); }
    .scenario-consequence.neutral .consequence-title { color: var(--orange); }

    .consequence-text { font-size: 0.9rem; line-height: 1.5; margin-bottom: 0.75rem; }
    .consequence-lesson { font-style: italic; color: var(--gold); font-size: 0.85rem; }

    /* References */
    .references {
      background: rgba(0,0,0,0.3);
      border: 1px solid rgba(212,175,55,0.3);
      border-radius: 8px;
      padding: 1.5rem;
      max-width: 700px;
      text-align: left;
      font-size: 0.75rem;
      line-height: 1.8;
    }

    .references h4 {
      color: var(--gold);
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .references ol { padding-left: 1.5rem; }
    .references li { margin-bottom: 0.5rem; color: rgba(255,255,255,0.8); }
    .references .journal { font-style: italic; }

    .text-center { text-align: center; }
    .mb-1 { margin-bottom: 1rem; }
    .mb-2 { margin-bottom: 2rem; }
    .mt-1 { margin-top: 1rem; }
    .mt-2 { margin-top: 2rem; }

    /* Interactive element focus states */
    .module-item:focus-visible {
      background: rgba(212,175,55,0.2);
      outline: 2px solid var(--gold);
      outline-offset: -2px;
    }
    .nav-btn:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
      opacity: 1;
    }
    .progress-dot:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
      transform: scale(1.5);
    }
    .quiz-option:focus-visible,
    .scenario-choice:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
      background: rgba(212,175,55,0.15);
    }

    /* High contrast mode support */
    @media (prefers-contrast: high) {
      :root {
        --gold: #FFD700;
        --cream: #FFFFFF;
        --text: #000000;
      }
      .btn { border-width: 2px; }
      .slide.dark, .slide.black { background: #000; }
    }

    /* Print stylesheet */
    @media print {
      .sidebar, .content-header, .slide-nav, .header-actions { display: none !important; }
      .course-container { display: block; height: auto; }
      .main-content { overflow: visible; }
      .content-body { overflow: visible; }
      .slides-container { overflow: visible; position: static; }
      .module-slides { display: block !important; }
      .slide {
        position: static !important;
        opacity: 1 !important;
        visibility: visible !important;
        page-break-inside: avoid;
        page-break-after: always;
        min-height: 100vh;
        background: white !important;
        color: black !important;
      }
      .slide * { color: black !important; }
      .title { color: #1E2761 !important; }
      .refrain, .gold-line { color: #8B7500 !important; }
      .simple-box, .story-card, .decision-tree, .compare-box {
        border: 2px solid #333 !important;
        background: #f5f5f5 !important;
      }
    }

    /* Light theme */
    body.light-theme {
      --deep-navy: #f5f5f5;
      --navy: #e8e8e8;
      --cream: #1a1a2e;
      --text: #2D3748;
      --light-text: #4a5568;
    }
    body.light-theme .sidebar {
      background: linear-gradient(180deg, #f0f0f0 0%, #e0e0e0 100%);
      border-right-color: rgba(30,39,97,0.2);
    }
    body.light-theme .sidebar-header h1 { color: var(--navy); }
    body.light-theme .module-item:hover { background: rgba(30,39,97,0.1); }
    body.light-theme .module-item.active { background: rgba(30,39,97,0.15); border-left-color: #1E2761; }
    body.light-theme .module-number { background: rgba(30,39,97,0.1); color: #1E2761; }
    body.light-theme .module-item.active .module-number { background: #1E2761; color: white; }
    body.light-theme .module-title { color: #1a1a2e; }
    body.light-theme .module-subtitle { color: #4a5568; }
    body.light-theme .content-header { background: rgba(0,0,0,0.05); border-bottom-color: rgba(30,39,97,0.2); }
    body.light-theme .breadcrumb { color: #4a5568; }
    body.light-theme .breadcrumb span { color: #1E2761; }
    body.light-theme .btn { background: rgba(30,39,97,0.05); color: #1a1a2e; border-color: rgba(30,39,97,0.3); }
    body.light-theme .btn:hover { background: rgba(30,39,97,0.15); }
    body.light-theme .btn.primary { background: #1E2761; color: white; }
    body.light-theme .slide.dark,
    body.light-theme .slide.black,
    body.light-theme .slide.gradient,
    body.light-theme .slide.blood,
    body.light-theme .slide.hope,
    body.light-theme .slide.ipd,
    body.light-theme .slide.precision {
      background: #fafafa;
      color: #1a1a2e;
    }
    body.light-theme .title.gold { color: #1E2761; }
    body.light-theme .title.cream { color: #1a1a2e; }
    body.light-theme .refrain { color: #1E2761; }
    body.light-theme .refrain.warning { color: #C53030; border-left-color: #C53030; }
    body.light-theme .refrain.hope { color: #166534; }
    body.light-theme .refrain.insight { color: #1E40AF; }
    body.light-theme .rhetorical { color: #1a1a2e; }
    body.light-theme .rhetorical em { color: #1E2761; }
    body.light-theme .simple-box { background: linear-gradient(135deg, rgba(0,212,170,0.1), rgba(240,240,240,0.8)); }
    body.light-theme .story-card { background: rgba(0,0,0,0.03); }
    body.light-theme .story-card .narrative { color: #2D3748; }
    body.light-theme .decision-tree { background: rgba(0,0,0,0.03); }
    body.light-theme .nav-btn { background: rgba(0,0,0,0.1); color: #1a1a2e; border-color: rgba(0,0,0,0.2); }
    body.light-theme .slide-counter { color: #4a5568; }
    body.light-theme .progress-dot { background: rgba(0,0,0,0.2); }
    body.light-theme .progress-dot.active { background: #1E2761; }
    body.light-theme .sidebar-footer { color: #4a5568; }
    body.light-theme .gold-line { background: #1E2761; }

    /* Certificate Modal */
    .certificate-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }
    .certificate-modal.visible { display: flex; }
    .certificate {
      background: linear-gradient(135deg, #faf8f5 0%, #fff 100%);
      border: 8px solid #D4AF37;
      border-radius: 12px;
      padding: 3rem;
      max-width: 700px;
      width: 90%;
      text-align: center;
      position: relative;
      box-shadow: 0 25px 50px rgba(0,0,0,0.3);
    }
    .certificate-header {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 2.5rem;
      color: #1E2761;
      margin-bottom: 0.5rem;
    }
    .certificate-subtitle {
      font-size: 1rem;
      color: #718096;
      margin-bottom: 2rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
    }
    .certificate-body {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.2rem;
      color: #2D3748;
      line-height: 1.8;
      margin-bottom: 2rem;
    }
    .certificate-name {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 2rem;
      font-weight: 700;
      color: #1E2761;
      border-bottom: 2px solid #D4AF37;
      display: inline-block;
      padding: 0 2rem 0.5rem;
      margin: 1rem 0;
    }
    .certificate-date {
      font-size: 0.9rem;
      color: #718096;
      margin-top: 1.5rem;
    }
    .certificate-seal {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #D4AF37, #B8860B);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 1.5rem auto 0;
      color: white;
      font-size: 2rem;
      box-shadow: 0 4px 15px rgba(212,175,55,0.4);
    }
    .certificate-actions {
      margin-top: 2rem;
      display: flex;
      gap: 1rem;
      justify-content: center;
    }
    .certificate-actions button {
      padding: 0.75rem 1.5rem;
      border: 2px solid #1E2761;
      border-radius: 6px;
      background: white;
      color: #1E2761;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .certificate-actions button:hover {
      background: #1E2761;
      color: white;
    }
    .certificate-actions button.primary {
      background: #1E2761;
      color: white;
    }
    .certificate-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #718096;
    }
    .certificate-close:hover { color: #1E2761; }

    /* Name input for certificate */
    .certificate-input {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.5rem;
      text-align: center;
      border: none;
      border-bottom: 2px solid #D4AF37;
      background: transparent;
      padding: 0.5rem 1rem;
      width: 80%;
      max-width: 300px;
      color: #1E2761;
    }
    .certificate-input:focus {
      outline: none;
      border-bottom-color: #1E2761;
    }
    .mobile-menu-toggle{display:none;position:fixed;top:12px;left:12px;z-index:1001;background:#1E2761;border:1px solid #D4AF37;color:#D4AF37;width:40px;height:40px;border-radius:8px;font-size:1.2rem;cursor:pointer;align-items:center;justify-content:center;}
    @media(max-width:768px){.mobile-menu-toggle{display:flex;}.sidebar{transform:translateX(-100%);transition:transform 0.3s ease;position:fixed;z-index:1000;height:100vh;}.sidebar.open{transform:translateX(0);}.sidebar-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:999;}.sidebar-overlay.show{display:block;}}
  </style>
</head>
<body>
<!-- Skip link for keyboard navigation -->
<a class="skip-link" href="#main-content">Skip to content</a>
<button aria-expanded="false" aria-label="Toggle navigation menu" class="mobile-menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
<div class="sidebar-overlay" onclick="document.querySelector('.sidebar').classList.remove('open');this.classList.remove('show');"></div>
<!-- Live region for screen reader announcements -->
<div aria-atomic="true" aria-live="polite" class="aria-live-region" id="ariaLiveRegion"></div>
<!-- Certificate Modal -->
<div aria-labelledby="certTitle" aria-modal="true" class="certificate-modal" id="certificateModal" role="dialog">
<div class="certificate" id="certificateContent">
<button aria-label="Zertifikat schlie√üen" class="certificate-close" onclick="closeCertificate()">√ó</button>
<div class="certificate-header" id="certTitle">Certificate of Completion</div>
<div class="certificate-subtitle">Metaanalyse der Daten einzelner Teilnehmer</div>
<div class="certificate-body">
        Dies bescheinigt das<br/>
<input aria-label="Ihr Name f√ºr das Zertifikat" class="certificate-input" id="certName" placeholder="Geben Sie Ihren Namen ein" type="text"/>
<br/><br/>
        hat den Kurs erfolgreich abgeschlossen<br/>
<strong>"The Hidden Patient: IPD Meta-Analysis"</strong><br/>
        demonstrating understanding of individual participant data<br/>
        Synthesemethoden und ihre klinischen Anwendungen.
      </div>
<div class="certificate-date" id="certDate"></div>
<div class="certificate-seal">‚úì</div>
<div class="certificate-actions">
<button aria-label="Zertifikat drucken" onclick="printCertificate()">üñ®Ô∏è Print</button>
<button aria-label="Zertifikat als Bild herunterladen" class="primary" onclick="downloadCertificate()">üì• Download</button>
</div>
</div>
</div>
<div aria-label="IPD-Metaanalyse Kurs" class="course-container">
<!-- Sidebar Navigation -->
<nav aria-label="Kursmodule" class="sidebar" role="navigation">
<div class="sidebar-header">
<a href="index.html" onmouseout="this.style.color='rgba(212,175,55,0.7)'" onmouseover="this.style.color='#D4AF37'" style="display:block;font-size:0.7rem;color:rgba(212,175,55,0.7);text-decoration:none;margin-bottom:0.5rem;">‚Üê Course Library</a>
<h1>Der verborgene Patient</h1>
<p>Metaanalyse der Daten einzelner Teilnehmer</p>
</div>
<div aria-label="Modulliste" class="module-list" id="moduleList" role="list"></div>
<div class="sidebar-footer">
<div aria-live="polite" id="progressPercent" style="color:var(--gold);margin-bottom:0.5rem;font-weight:600;"></div>
        ‚ÄûIm Aggregat verschwindet das Individuum.‚Äú
        <br/><br/>
        Jeder Patient hat eine Geschichte. IPD l√§sst Sie es h√∂ren.
        <br/><br/>
<details style="font-size:0.65rem;opacity:0.7;">
<summary style="cursor:pointer;">Keyboard shortcuts</summary>
<div style="margin-top:0.5rem;">
            ‚Üí / Space: Next slide<br/>
            ‚Üê: Previous slide<br/>
            Startseite: Erstes Modul<br/>
            Ende: Letztes Modul
          </div>
</details>
</div>
</nav>
<!-- Main Content -->
<main class="main-content" role="main">
<header class="content-header">
<div class="breadcrumb">
          IPD Course &gt; <span id="currentModule">The Vanishing</span>
</div>
<div aria-label="Kursaktionen" class="header-actions" role="toolbar">
<button aria-label="Toggle theme" class="btn" id="themeToggle" onclick="toggleTheme()" title="Toggle light/dark mode">‚òÄÔ∏è</button>
<button aria-label="Kursfortschritt zur√ºcksetzen" class="btn" onclick="resetProgress()" title="Von vorne beginnen">Reset</button>
<button aria-label="Zum Referenzmodul gehen" class="btn" onclick="goToModule(16)">References</button>
<button aria-label="Continue to next slide" class="btn primary" onclick="nextSlide()">Continue</button>
</div>
</header>
<div class="content-body">
<div aria-label="Kurs Folien" class="slides-container" id="main-content" role="region" tabindex="-1">
 ==================== MODUL 1: DAS VERSCHWINDEN (WARUM IPD WICHTIG IST) ==================== 
<div class="module-slides active" data-module="1">
<!-- Slide 1.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  Haben Sie nicht gesehen, wie tausend Patienten<br/>
                  can be <em>reduced to a single number</em>,<br/>
                  und in dieser Zahl, <em>Leben werden ausgel√∂scht</em>?
                </div>
</div>
</div>
 Folie 1.2: Die aggregierte Illusion 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Die aggregierte Illusion</div>
<div class="story-card animate delay-1">
<div class="place">EVERY META-ANALYSIS YOU'VE EVER READ</div>
<div class="narrative">
                    A meta-analysis reports: "Treatment reduces mortality by 15%."
                    <br/><br/>
                    Doch welche Patienten profitierten? Die Jungen oder die Alten? Diejenigen mit leichter oder schwerer Erkrankung? M√§nner oder Frauen?
                    <br/><br/>
<strong>Das Aggregat kann nicht antworten.</strong>
<br/><br/>
                    Denn im Durchschnitt wurden einige Patienten gerettet ‚Äì und einige wurden gesch√§digt.
                  </div>
</div>
</div>
</div>
 Folie 1.3: Die verborgene Heterogenit√§t 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">What Aggregates Hide</div>
<div class="patient-grid animate delay-1">
<span class="patient-icon responder">‚óè</span>
<span class="patient-icon non-responder">‚óè</span>
<span class="patient-icon responder">‚óè</span>
<span class="patient-icon responder">‚óè</span>
<span class="patient-icon non-responder">‚óè</span>
<span class="patient-icon responder">‚óè</span>
<span class="patient-icon non-responder">‚óè</span>
<span class="patient-icon responder">‚óè</span>
<span class="patient-icon responder">‚óè</span>
<span class="patient-icon non-responder">‚óè</span>
<span class="patient-icon responder">‚óè</span>
<span class="patient-icon responder">‚óè</span>
<span class="patient-icon non-responder">‚óè</span>
<span class="patient-icon responder">‚óè</span>
<span class="patient-icon responder">‚óè</span>
<span class="patient-icon non-responder">‚óè</span>
<span class="patient-icon responder">‚óè</span>
<span class="patient-icon responder">‚óè</span>
<span class="patient-icon non-responder">‚óè</span>
<span class="patient-icon responder">‚óè</span>
</div>
<p class="animate delay-2" style="margin-top:1rem;font-size:0.9rem;">
<span style="color:var(--green);">‚óè Responders</span> ¬†
                  <span style="color:var(--red);">‚óè Non-responders</span>
</p>
<div class="simple-box animate delay-3">
<div class="simple-title">THE TRAGEDY</div>
<div class="simple-text">
                    "Overall benefit: 30%"<br/><br/>
                    But <strong>who</strong> sind das 30%? Ohne individuelle Daten k√∂nnen wir die Antwortenden nicht von den Nicht-Antwortenden unterscheiden. Wir k√∂nnen nicht √ºben <strong>precision medicine</strong>.
                  </div>
</div>
</div>
</div>
<!-- Slide 1.4: The Breast Cancer Revelation -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Oxford, 1985</div>
<div class="story-card animate delay-1">
<div class="place">EARLY BREAST CANCER TRIALISTS' COLLABORATIVE GROUP</div>
<div class="narrative">
                    Richard Peto gathered something unprecedented: the <strong>raw data</strong>
                    on every woman in every tamoxifen trial.
                    <br/><br/>
                    Keine Zusammenfassungen. Keine Durchschnittswerte. <strong>Each patient, each tumor, each outcome.</strong>
<br/><br/>
                    What he discovered changed breast cancer treatment forever.
                  </div>
<div class="source">Early Breast Cancer Trialists' Collaborative Group. Lancet 1988;2:61-72</div>
</div>
</div>
</div>
 Folie 1.5: Die Entdeckung 
<div class="slide dark">
<div class="content text-center">
<div class="rhetorical animate">
                  In den ver√∂ffentlichten Studien hei√üt es:<br/>
                  "Tamoxifen works."
                  <br/><br/>
                  But the <em>individual data</em> revealed:
                </div>
<div class="discovery-box animate delay-2">
<div class="insight">ER+ vs ER‚àí</div>
<div class="label">Tamoxifen only worked in estrogen receptor positive tumors</div>
</div>
<div class="simple-box animate delay-3">
<div class="simple-title">WAS VERSTECKT WURDE</div>
<div class="simple-text">
                    Kein einziger Versuch war gro√ü genug, um diese Wechselwirkung festzustellen. Nur durch Kombinieren <strong>individuelle Patientendaten</strong> Aus allen Pr√ºfungen k√∂nnte die Wahrheit hervorgehen:<br/><br/>
<strong>Giving tamoxifen to ER‚àí patients was useless.</strong>
</div>
</div>
</div>
</div>
 Folie 1.6: Der Refrain 
<div class="slide black">
<div class="content text-center">
<div class="refrain insight animate">
                  ‚ÄûIm Aggregat verschwindet das Individuum.<br/>
                  Im Individuum erscheint die Wahrheit.<br/>
                  Deshalb suchen wir den verborgenen Patienten.‚Äú
                </div>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="color:rgba(255,255,255,0.6);font-style:italic;">
                  Dies ist eine Metaanalyse der Daten einzelner Teilnehmer.
                </p>
</div>
</div>
</div>
 ==================== MODUL 2: AGGREGATE VS IPD ==================== 
<div class="module-slides" data-module="2">
<!-- Slide 2.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  What is lost when we summarize?<br/>
                  What is found when we look closer?
                </div>
</div>
</div>
 Folie 2.2: Die zwei Ans√§tze 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Two Ways to Synthesize</div>
<div class="compare-grid animate delay-1">
<div class="compare-box aggregate">
<h4>Aggregate Data (AD)</h4>
<ul>
<li>Study-level summaries</li>
<li>Effektgr√∂√üen aus Ver√∂ffentlichungen</li>
<li>Mean age, % male, etc.</li>
<li>Schnell und zug√§nglich</li>
<li>Cannot see within-study variation</li>
</ul>
</div>
<div class="compare-box ipd">
<h4>Individuelle Teilnehmerdaten (IPD)</h4>
<ul>
<li>Rohdaten auf Patientenebene</li>
<li>Every participant's characteristics</li>
<li>Actual ages, actual outcomes</li>
<li>Time-intensive to obtain</li>
<li>Can see who responds and who doesn't</li>
</ul>
</div>
</div>
</div>
</div>
 Folie 2.3: Der √∂kologische Irrtum 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">Der √∂kologische Irrtum</div>
<div class="story-card animate delay-1">
<div class="place">DIE GEFAHR DES AUGGREGATEN DENKENS</div>
<div class="narrative">
                    Imagine two trials of a drug for heart failure.
                    <br/><br/>
                    Trial A: Mean age 55 years, Effect size 0.70 (benefit)<br/>
                    Trial B: Mean age 75 years, Effect size 0.90 (less benefit)
                    <br/><br/>
<strong>Tempting conclusion:</strong> "The drug works better in younger patients."
                    <br/><br/>
<strong>But this could be completely wrong.</strong>
</div>
</div>
</div>
</div>
<!-- Slide 2.4: Why It's Wrong -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">The Trap</div>
<div class="simple-box animate delay-1">
<div class="simple-title">ECOLOGICAL FALLACY</div>
<div class="simple-text">
                    Innerhalb jedes Versuchs k√∂nnte sich die Beziehung zwischen Alter und Behandlungseffekt <strong>completely different</strong> aus der Beziehung zwischen den Versuchen ergeben.
                    <br/><br/>
                    Perhaps in Trial A, <em>older</em> patients within that trial responded better.
                    Perhaps in Trial B, <em>younger</em> patients within that trial responded better.
                    <br/><br/>
<strong>Man kann es ohne Individuum nicht wissen Daten.</strong>
</div>
</div>
<div class="formula-box animate delay-2">
<div class="label">THE RULE</div>
<div class="formula">Between-study relationships ‚â† Within-study relationships</div>
<div class="label">Aggregate data can only show between-study patterns</div>
</div>
</div>
</div>
<!-- Slide 2.5: What IPD Enables -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">What IPD Enables</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--blue);">1</div>
<div class="lesson-content">
<h4>True Effect Modification</h4>
<p>Test whether treatment effect varies by patient characteristics (age, biomarkers, disease severity)</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--blue);">2</div>
<div class="lesson-content">
<h4>Time-to-Event Analysis</h4>
<p>Use actual survival curves, not just hazard ratios. Handle censoring properly.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--blue);">3</div>
<div class="lesson-content">
<h4>Consistent Definitions</h4>
<p>Standardize outcome definitions, exposure timing, covariate categories across studies</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background:var(--blue);">4</div>
<div class="lesson-content">
<h4>Subgroup Credibility</h4>
<p>Testen Sie Wechselwirkungen innerhalb von Studien und vermeiden Sie den √∂kologischen Irrtum</p>
</div>
</div>
</div>
</div>
<!-- Slide 2.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  "Aggregierte Daten zeigen den Wald.<br/>
                  Individual data shows each tree.<br/>
                  Wenn Sie wissen m√ºssen, welche B√§ume krank sind ‚Äì<br/>
                  you must walk among them."
                </div>
</div>
</div>
</div>
 ==================== MODUL 3: DIE CTT-OFFENBARUNG (STATINS) ==================== 
<div class="module-slides" data-module="3">
<!-- Slide 3.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  Haben Sie nicht gesehen, wie <em>one collaboration</em><br/>
                  gathered data on <em>170,000 patients</em><br/>
                  and answered questions no single trial could ask?
                </div>
</div>
</div>
 Folie 3.2: Die CTT 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Oxford, 1994-Present</div>
<div class="story-card animate delay-1">
<div class="place">CHOLESTEROL TREATMENT TRIALISTS' COLLABORATION</div>
<div class="narrative">
                    Die CTT sammelte individuelle Daten von <strong>every major statin trial</strong>.
                    <br/><br/>
                    27 trials. 174,149 patients. Every baseline characteristic.
                    Every cardiovascular event. Every death.
                    <br/><br/>
                    The published trials asked: "Do statins work?"
                    <br/><br/>
                    Das CTT fragte: <strong>"Bei wem wirken Statine?"</strong>
</div>
<div class="source">CTT Collaboration. Lancet 2010;376:1670-81</div>
</div>
</div>
</div>
 Folie 3.3: Die Zahlen 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Die Skala von IPD</div>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value" style="color:var(--blue);">27</div>
<div class="stat-label">Trials Combined</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--gold);">174,149</div>
<div class="stat-label">Individual Patients</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--teal);">5</div>
<div class="stat-label">Jahre der Daten Sammeln</div>
</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">THE INVESTMENT</div>
<div class="simple-text">
                    Das Sammeln von IPD erfordert jahrelange Verhandlungen, Daten√ºbertragung, Bereinigung und Harmonisierung.
                    <br/><br/>
                    Aber die Fragen, die Sie beantworten k√∂nnen, sind <strong>die Investition wert</strong>.
                  </div>
</div>
</div>
</div>
 Folie 3.4: Die Entdeckung 
<div class="slide precision">
<div class="content text-center">
<div class="title purple animate">What CTT Discovered</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--green);">‚úì</div>
<div class="lesson-content">
<h4>Benefit Proportional to LDL Reduction</h4>
<p>Every 1 mmol/L LDL reduction = 22% lower CV events. True across all subgroups.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--green);">‚úì</div>
<div class="lesson-content">
<h4>No Age Threshold</h4>
<p>Benefit continues even in patients &gt;75 years (contradicting earlier AD analyses)</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--green);">‚úì</div>
<div class="lesson-content">
<h4>Primary Prevention Works</h4>
<p>Patients without prior CVD benefit proportionally to their baseline risk</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background:var(--red);">‚úó</div>
<div class="lesson-content">
<h4>No Cancer Signal</h4>
<p>Bedenken, dass Statine Krebs verursachen k√∂nnten, wurden mit der IPD-Folgeuntersuchung endg√ºltig widerlegt</p>
</div>
</div>
</div>
</div>
 Folie 3.5: Warum AD nicht antworten konnte 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Warum Aggregatdaten fehlgeschlagen sind</div>
<div class="story-card animate delay-1">
<div class="place">THE LIMITATION</div>
<div class="narrative">
                    Published trials categorized patients differently.
                    <br/><br/>
                    Trial A: "High risk" = 10-year CVD risk &gt;20%<br/>
                    Trial B: "High risk" = Prior MI<br/>
                    Trial C: "High risk" = Diabetes
                    <br/><br/>
                    You cannot compare or combine what is defined differently.
                    <br/><br/>
<strong>IPD allowed the CTT to redefine everyone consistently.</strong>
</div>
</div>
</div>
</div>
<!-- Slide 3.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain hope animate">
                  "When trials speak different languages,<br/>
                  IPD liefert die √úbersetzung.<br/>
                  What seemed contradictory becomes clear:<br/>
                  the same truth, measured differently."
                </div>
</div>
</div>
</div>
<!-- ==================== MODULE 4: WHEN TO PURSUE IPD (DECISION TREE) ==================== -->
<div class="module-slides" data-module="4">
<!-- Slide 4.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  IPD takes <em>years</em> to gather.<br/>
                  Aggregierte Daten ben√∂tigen <em>weeks</em>.<br/>
<br/>
                  Wann lohnt sich die Investition?
                </div>
</div>
</div>
 Folie 4.2: Der Entscheidungsrahmen 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Der Entscheidungsbaum</div>
<div class="decision-tree animate delay-1">
<h4>Sollten Sie IPD anstreben?</h4>
<div class="tree-level">
<div class="tree-node root">Betrifft Ihre Frage Modifikation der Behandlungseffekte?</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level" style="gap: 2rem;">
<div>
<div class="tree-node yes">YES</div>
<div class="tree-label">"Who benefits most?"</div>
</div>
<div>
<div class="tree-node no">NO</div>
<div class="tree-label">"Does it work overall?"</div>
</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level" style="gap: 2rem;">
<div class="tree-node ipd">IPD likely needed</div>
<div class="tree-node aggregate">AD may suffice</div>
</div>
</div>
</div>
</div>
<!-- Slide 4.3: More Criteria -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">When IPD Is Essential</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Time-to-Event Outcomes</h4>
<p>Wenn √úberlebenskurven wichtig sind, nicht nur endg√ºltige Hazard-Verh√§ltnisse.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Continuous Effect Modifiers</h4>
<p>Testing whether treatment effect varies by age, BMI, biomarker level (not just "high" vs "low")</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Outcome Definition Problems</h4>
<p>Wenn Studien Ergebnisse unterschiedlich definieren und Sie standardisieren m√ºssen</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Longer Follow-Up Available</h4>
<p>Wenn Studienteilnehmer unver√∂ffentlichte Follow-up-Daten haben, die Sie m√∂chten include</p>
</div>
</div>
</div>
</div>
<!-- Slide 4.4: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-ipd-decision">
<div class="scenario-header">
<span class="scenario-icon">üîÄ</span>
<span class="scenario-title">Die Entscheidung zur Forschungsstrategie</span>
</div>
<div class="scenario-situation">
                    Sie planen eine Metaanalyse von Kortikosteroiden f√ºr COVID-19-Pneumonie. Ein Kollege fragt: ‚ÄûSollten wir versuchen, eine IPD zu erhalten, oder einfach eine aggregierte Analyse durchf√ºhren?‚Äú
                    <br/><br/>
                    Ihre Schl√ºsselfrage lautet: ‚ÄûVariiert der Nutzen je nach Schwere der Erkrankung und Zeitpunkt der Behandlung?‚Äú
                  </div>
<div class="scenario-question">Was empfehlen Sie?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('ipd-decision', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">Machen Sie einfach AD ‚Äì wir brauchen schnell Ergebnisse und IPD dauert zu lange</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('ipd-decision', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">Verfolgen Sie IPD ‚Äì unsere Frage betrifft die Effektmodifikation durch Patientenmerkmale</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('ipd-decision', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">F√ºhren Sie eine Untergruppenanalyse durch nach Schweregradkategorien auf Versuchsebene aus Ver√∂ffentlichungen</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-ipd-decision"></div>
</div>
</div>
</div>
<!-- Slide 4.5: When AD Is Enough -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Wenn aggregierte Daten ausreichen</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--orange);">‚úì</div>
<div class="lesson-content">
<h4>Overall Treatment Effect</h4>
<p>Wenn Ihre einzige Frage lautet: ‚ÄûFunktioniert es?‚Äú nicht ‚ÄûF√ºr wen?‚Äú</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--orange);">‚úì</div>
<div class="lesson-content">
<h4>Homogeneous Population</h4>
<p>When trials enrolled similar patients and effect modification is unlikely</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--orange);">‚úì</div>
<div class="lesson-content">
<h4>Binary Outcomes, Short Follow-up</h4>
<p>Wenn Zensur kein Problem darstellt und die Ergebnisse einfach Ja/Nein sind</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background:var(--orange);">‚úì</div>
<div class="lesson-content">
<h4>IPD Unobtainable</h4>
<p>Wenn Testteilnehmer nichts teilen, gehen Daten verloren oder Ressourcen sind nicht verf√ºgbar</p>
</div>
</div>
</div>
</div>
<!-- Slide 4.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  ‚ÄûNicht jede Frage erfordert den Einzelnen.<br/>
                  Aber jede Frage bzgl <em>which</em> individuals<br/>
                  erfordert ihre Pr√§senz in Ihren Daten.‚Äú
                </div>
</div>
</div>
</div>
 ==================== MODUL 5: EINSTUFIG VS ZWEISTUFIG ==================== 
<div class="module-slides" data-module="5">
<!-- Slide 5.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  Sie haben die einzelnen Daten zusammengestellt.<br/>
<br/>
                  Nun: Analysieren Sie es als? <em>one combined dataset</em><br/>
                  or <em>trial by trial, then combine</em>?
                </div>
</div>
</div>
<!-- Slide 5.2: Two Approaches -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Two Analytical Approaches</div>
<div class="compare-grid animate delay-1">
<div class="compare-box aggregate">
<h4>Two-Stage Approach</h4>
<ul>
<li>Stage 1: Analyze each trial separately</li>
<li>Stufe 2: Metaanalyse der Ergebnisse</li>
<li>Preserves trial structure</li>
<li>Familiar (like standard MA)</li>
<li>Cannot handle sparse data well</li>
</ul>
</div>
<div class="compare-box ipd">
<h4>One-Stage Approach</h4>
<ul>
<li>Analysieren Sie alle Daten gleichzeitig</li>
<li>Mixed-effects regression model</li>
<li>Zuf√§llige Effekte f√ºr Clustering</li>
<li>Besser f√ºr sp√§rliche Daten</li>
<li>More flexible modeling</li>
</ul>
</div>
</div>
</div>
</div>
<!-- Slide 5.3: Two-Stage Explained -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Zweistufig: Der bekannte Weg</div>
<div class="formula-box animate delay-1">
<div class="label">STAGE 1 (Within Each Trial)</div>
<div class="formula">Estimate treatment effect for trial k: Œ∏<sub>k</sub></div>
<div class="label">Verwendung individueller Patientendaten aus dieser Studie</div>
</div>
<div class="formula-box animate delay-2">
<div class="label">STAGE 2 (Across Trials)</div>
<div class="formula">Meta-analyze Œ∏<sub>1</sub>, Œ∏<sub>2</sub>, ... Œ∏<sub>K</sub></div>
<div class="label">Verwendung von Standard-Random-Effects-Methoden</div>
</div>
<div class="simple-box animate delay-3">
<div class="simple-title">ADVANTAGE</div>
<div class="simple-text">
                    Easy to understand. Easy to explain.
                    <br/>
                    Each trial's estimate is transparent.
                    <br/>
                    Bekannte Waldgrundst√ºcke und I<sup>2</sup> statistics.
                  </div>
</div>
</div>
</div>
<!-- Slide 5.4: One-Stage Explained -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Einstufig: Der kraftvolle Weg</div>
<div class="formula-box animate delay-1">
<div class="label">MIXED-EFFECTS MODEL</div>
<div class="formula">Y<sub>ij</sub> = Œ≤<sub>0</sub> + Œ≤<sub>1</sub>Treatment<sub>ij</sub> + u<sub>j</sub> + Œµ<sub>ij</sub></div>
<div class="label">i = patient, j = trial, u<sub>j</sub> = random trial effect</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">ADVANTAGES</div>
<div class="simple-text">
<strong>1.</strong> Handles trials with zero events (no continuity corrections)<br/>
<strong>2.</strong> More powerful for detecting interactions<br/>
<strong>3.</strong> Can model complex covariate relationships<br/>
<strong>4.</strong> Exact likelihood (no normal approximations)
                  </div>
</div>
</div>
</div>
<!-- Slide 5.5: Decision Tree -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">W√§hlen Sie Ihren Ansatz</div>
<div class="decision-tree animate delay-1">
<h4>One-Stage or Two-Stage?</h4>
<div class="tree-level">
<div class="tree-node question">Do trials have sparse events (rare outcomes)?</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level" style="gap: 2rem;">
<div>
<div class="tree-node yes">YES (sparse)</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-node ipd">One-stage preferred</div>
<div class="tree-label">Avoids zero-cell problems</div>
</div>
<div>
<div class="tree-node no">NO (common events)</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-node aggregate">Either works</div>
<div class="tree-label">Die Ergebnisse sollten √§hnlich sein</div>
</div>
</div>
</div>
</div>
</div>
<!-- Slide 5.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  "The two-stage preserves each trial's voice.<br/>
                  The one-stage hears all voices at once.<br/>
                  Wenn Daten sp√§rlich und Ereignisse selten sind ‚Äì<br/>
                  Die Ein-Stufe f√§ngt, was die Zwei-Stufe verfehlt.‚Äú
                </div>
</div>
</div>
</div>
 ==================== MODUL 6: DIE CORTICOSTEROID-TIMING-GESCHICHTE ==================== 
<div class="module-slides" data-module="6">
<!-- Slide 6.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  Haben Sie die Geschichte der Droge noch nicht geh√∂rt?<br/>
                  das rettete Babys das Leben‚Äî<br/>
<em>but only if given at the right time</em>?
                </div>
</div>
</div>
<!-- Slide 6.2: Preterm Birth -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Das Fr√ºhgeborenen-Paradoxon</div>
<div class="story-card animate delay-1">
<div class="place">NEONATAL INTENSIVE CARE UNITS WORLDWIDE</div>
<div class="narrative">
                    Vorgeburtliche Kortikosteroide senken die Sterblichkeit bei Fr√ºhgeborenen. Diese wurde in den 1970er Jahren gegr√ºndet.
                    <br/><br/>
                    But a puzzle remained: <strong>When should they be given?</strong>
<br/><br/>
                    24 hours before birth? 48 hours? A week?
                    <br/><br/>
                    Published trials couldn't answer‚Äîthey didn't report timing consistently.
                  </div>
<div class="source">Roberts D, et al. Cochrane Database Syst Rev 2017</div>
</div>
</div>
</div>
 Folie 6.3: Die IPD-L√∂sung 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">IPD enth√ºllte das Fenster</div>
<div class="stats-grid animate delay-1">
<div class="stat-box" style="border: 2px solid var(--green);">
<div class="stat-value" style="color:var(--green);">24h-7d</div>
<div class="stat-label">Optimal Window</div>
</div>
<div class="stat-box" style="border: 2px solid var(--red);">
<div class="stat-value" style="color:var(--red);">&gt;7 days</div>
<div class="stat-label">Benefit Wanes</div>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">THE DISCOVERY</div>
<div class="simple-text">
                    By examining each baby's exact time from steroid to delivery,
                    IPD meta-analysis showed:
                    <br/><br/>
<strong>Maximum benefit:</strong> 24 hours to 7 days before birth<br/>
<strong>Reduced benefit:</strong> &gt;7 days (lung maturity effect fades)<br/>
<strong>No benefit:</strong> &lt;24 hours (not enough time to work)
                  </div>
</div>
</div>
</div>
<!-- Slide 6.4: Clinical Impact -->
<div class="slide hope">
<div class="content text-center">
<div class="title green animate">Lives Saved, Practice Changed</div>
<div class="story-card animate delay-1">
<div class="place">DIE KLINISCHE AUSWIRKUNG</div>
<div class="narrative">
                    Vor IPD: √Ñrzte gaben Steroide und hofften auf das Beste.
                    <br/><br/>
                    After IPD: Guidelines now recommend <strong>repeat dosing</strong>
                    wenn die Lieferung nicht innerhalb von 7 Tagen nach dem ersten Kurs erfolgt ist.
                    <br/><br/>
                    Diese Pr√§zision ist ohne individuelle Daten nicht m√∂glich <strong>saved thousands of premature babies</strong>.
                  </div>
</div>
<div class="discovery-box animate delay-2">
<div class="insight">Timing is Treatment</div>
<div class="label">Das gleiche Medikament, zum falschen Zeitpunkt verabreicht, kann genauso gut ein Placebo sein</div>
</div>
</div>
</div>
<!-- Slide 6.5: Why AD Failed -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Warum aggregierte Daten dies nicht anzeigen konnten</div>
<div class="simple-box animate delay-1">
<div class="simple-title">THE PROBLEM</div>
<div class="simple-text">
                    Trial A reported: "Steroid given within 48 hours"<br/>
                    Trial B reported: "Steroid given antenatally"<br/>
                    Trial C reported: "Steroid-to-delivery interval: median 3 days"
                    <br/><br/>
                    Different categories. Different definitions. <strong>Incompatible summaries.</strong>
<br/><br/>
                    Only by examining each baby's actual steroid-to-delivery time
                    could the optimal window be identified.
                  </div>
</div>
</div>
</div>
<!-- Slide 6.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain hope animate">
                  ‚ÄûEs war bekannt, dass das Medikament wirkt.<br/>
                  But <em>when</em> es zu geben war unbekannt.<br/>
                  IPD hat aus ‚Äûirgendwann‚Äú den ‚Äûrichtigen Zeitpunkt‚Äú gemacht ‚Äì<br/>
                  und in dieser Pr√§zision lebten Kinder.‚Äú
                </div>
</div>
</div>
</div>
 ==================== MODUL 7: IPD ERHALTEN (DIE FRAGE) ==================== 
<div class="module-slides" data-module="7">
<!-- Slide 7.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  Die Daten sind vorhanden.<br/>
                  Irgendwo, in Dateien und Datenbanken,<br/>
<em>Die Geschichte jedes Patienten wird aufgezeichnet</em>.<br/>
<br/>
                  Die Frage ist: Werden sie es teilen?
                </div>
</div>
</div>
 Folie 7.2: Die Suche 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Die Suche nach Daten</div>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value" style="color:var(--green);">60-80%</div>
<div class="stat-label">Typical IPD Retrieval Rate</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--red);">6-24</div>
<div class="stat-label">Months to Gather</div>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">REALITY CHECK</div>
<div class="simple-text">
                    Das wirst du wahrscheinlich <strong>not</strong> get 100% of trials.
                    Some investigators will refuse. Some data is lost.
                    Some companies won't share.
                    <br/><br/>
<strong>This is expected.</strong> Plan for it.
                  </div>
</div>
</div>
</div>
 Folie 7.3: Datenquellen 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Where IPD Lives</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Trialist Collaboration</h4>
<p>Direct contact with trial investigators. Build relationships. Offer co-authorship.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Datenaustauschplattformen</h4>
<p>YODA Project, ClinicalStudyDataRequest.com, Vivli, ICPSR</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Regulatory Agencies</h4>
<p>EMA Policy 0070, FDA (limited), Health Canada</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Journal Requirements</h4>
<p>Many journals now require data sharing; check supplementary materials</p>
</div>
</div>
</div>
</div>
 Folie 7.4: Der Kooperationsbrief 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">The Approach</div>
<div class="story-card animate delay-1">
<div class="place">HOW TO ASK</div>
<div class="narrative">
<strong>1. Beginnen Sie mit Ihrer Frage</strong>‚Äîexplain why IPD is essential
                    <br/><br/>
<strong>2. Offer co-authorship</strong>‚Äîmake sharing worthwhile
                    <br/><br/>
<strong>3. Beschreiben Sie die Datensicherheit</strong>‚Äîhow you'll protect their patients
                    <br/><br/>
<strong>4. Stellen Sie Datenw√∂rterb√ºcher bereit</strong>‚Äîspecify exactly what you need
                    <br/><br/>
<strong>5. Set clear timelines</strong>‚Äîrespect their time
                  </div>
</div>
</div>
</div>
<!-- Slide 7.5: Missing IPD Problem -->
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">Die Verf√ºgbarkeitsbias-Falle</div>
<div class="simple-box animate delay-1">
<div class="simple-title">THE DANGER</div>
<div class="simple-text">
                    Was w√§re, wenn es das versuchen w√ºrde? <strong>share data</strong> unterscheiden sich systematisch von Studien, die <strong>don't share</strong>?
                    <br/><br/>
                    Industry trials: less likely to share<br/>
                    Negative trials: less likely to share<br/>
                    Older trials: data may be lost
                    <br/><br/>
<strong>Your IPD sample may be biased.</strong>
</div>
</div>
<div class="formula-box animate delay-2">
<div class="label">THE RULE</div>
<div class="formula">Always compare: IPD trials vs. non-IPD trials</div>
<div class="label">Do they differ in effect size, sample size, funding source?</div>
</div>
</div>
</div>
<!-- Slide 7.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  ‚ÄûDie Daten existieren. Die Frage ist Vertrauen.‚Äú<br/>
                  Will they share what they have guarded?<br/>
                  Baue die Br√ºcke sorgf√§ltig ‚Äì<br/>
                  denn auf dieser Br√ºcke kreuzen sich die Zukunftsaussichten der Patienten.‚Äú
                </div>
</div>
</div>
</div>
 ==================== MODUL 8: DATENHARMONISIERUNG ==================== 
<div class="module-slides" data-module="8">
<!-- Slide 8.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  Sie haben die Daten gesammelt<br/>
                  from twelve trials, five countries, three decades.<br/>
<br/>
                  But Trial A calls it <em>"cardiovascular death"</em><br/>
                  und Versuch B nennt es <em>"cardiac mortality"</em>.<br/>
<br/>
                  Sind sie gleich?
                </div>
</div>
</div>
 Folie 8.2: Die Herausforderung der Harmonisierung 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Das Turmbauproblem zu Babel</div>
<div class="story-card animate delay-1">
<div class="place">EVERY IPD META-ANALYSIS</div>
<div class="narrative">
                    Trial from Japan: Age in years since 1900 (e.g., "54" = 1954 birth)<br/>
                    Trial from USA: Age in decimal years (e.g., 65.7)<br/>
                    Testversion aus Gro√übritannien: Altersgruppen (‚Äû65‚Äì74‚Äú)<br/><br/>
                    Diabetes: HbA1c ‚â• 6.5% vs. fasting glucose ‚â• 126 vs. "physician diagnosis"<br/><br/>
                    Outcome: "Major adverse cardiac event" (one trial includes stroke, another doesn't)<br/><br/>
<strong>Vor der Analyse: Alles harmonisieren.</strong>
</div>
</div>
</div>
</div>
 Folie 8.3: Der Prozess 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Der Harmonisierungsprozess</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Erstellen Sie ein Stammdatenw√∂rterbuch</h4>
<p>Define every variable you need: name, type, permitted values, derivation rules</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Map Each Trial's Variables</h4>
<p>Document how each trial's coding maps to your standardized definitions</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Erkundigen Sie sich bei Trialisten</h4>
<p>√úberpr√ºfen Sie Ihre Interpretationen. Sie kennen ihre Daten besser als Sie.</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Validate Transformations</h4>
<p>Reproduzieren Sie ver√∂ffentlichte Ergebnisse des IPD. Wenn sie nicht √ºbereinstimmen, untersuchen Sie es.</p>
</div>
</div>
</div>
</div>
<!-- Slide 8.4: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-harmonization">
<div class="scenario-header">
<span class="scenario-icon">üîÄ</span>
<span class="scenario-title">Das Definitionsdilemma</span>
</div>
<div class="scenario-situation">
                    Sie harmonisieren IPD aus 8 Diabetes-Studien. Ihr prim√§rer Endpunkt ist ‚Äûkardiovaskul√§rer Tod‚Äú.
                    <br/><br/>
                    Sechs Studien verwendeten eine Standarddefinition (ICD-Codes). Zwei Studien aus den 1990er Jahren verwendeten den ‚Äûvom Pr√ºfarzt beurteilten Herztod‚Äú ohne standardisierte Kriterien. Diese beiden Studien zeigen gr√∂√üere Behandlungseffekte.
                  </div>
<div class="scenario-question">Wie gehen Sie damit um?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('harmonization', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">Beziehen Sie alle 8 Studien ein ‚Äì mehr Daten sind besser und die Definitionen sind ‚Äûnahe genug‚Äú</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('harmonization', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">Exclude the 2 non-standardized trials to maintain outcome consistency</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('harmonization', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">Prim√§ranalyse mit 6 konsistenten Versuchen; Sensitivit√§tsanalyse unter Hinzuf√ºgung der beiden anderen</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-harmonization"></div>
</div>
</div>
</div>
 Folie 8.5: Der Validierungsschritt 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Die entscheidende Validierung</div>
<div class="simple-box animate delay-1">
<div class="simple-title">THE TEST</div>
<div class="simple-text">
<strong>Vor jeder neuen Analyse:</strong>
<br/><br/>
                    Reproduzieren Sie die ver√∂ffentlichten Ergebnisse jeder Studie aus dem IPD.
                    <br/><br/>
                    Wenn Ihre Analyse RR = 0,78 ergibt, die Ver√∂ffentlichung jedoch RR = 0,85 sagt,
                    <br/>
<strong>something is wrong.</strong>
<br/><br/>
                    Find the discrepancy. Fix it. Then proceed.
                  </div>
</div>
</div>
</div>
<!-- Slide 8.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  "Different languages, different rulers,<br/>
                  different ways to name the same disease.<br/>
                  Bevor Sie kombinieren k√∂nnen, m√ºssen Sie √ºbersetzen.<br/>
                  Bevor Sie √ºbersetzen, m√ºssen Sie verstehen.‚Äú
                </div>
</div>
</div>
</div>
 ==================== MODUL 9: INTERAKTIONEN TESTEN ==================== 
<div class="module-slides" data-module="9">
<!-- Slide 9.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  Die Behandlung funktioniert <em>on average</em>.<br/>
<br/>
                  Aber funktioniert es bei Jung und Alt gleich?<br/>
                  F√ºr die Leichten und die Schweren?<br/>
                  F√ºr den mit und den ohne Biomarker?
                </div>
</div>
</div>
<!-- Slide 9.2: The Tamoxifen Discovery Revisited -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Die Interaktion, die die Onkologie ver√§nderte</div>
<div class="story-card animate delay-1">
<div class="place">EBCTCG, 1985-1998</div>
<div class="narrative">
                    The Early Breast Cancer Trialists' Group didn't just ask "Does tamoxifen work?"
                    <br/><br/>
                    They asked: <strong>"Does the effect differ by estrogen receptor status?"</strong>
<br/><br/>
                    Die Interaktion war riesig:
                    <br/><br/>
                    ER-positive: 47% reduction in recurrence<br/>
                    ER-negative: <strong>No benefit at all</strong>
</div>
<div class="source">EBCTCG. Lancet 1998;351:1451-67</div>
</div>
<div class="discovery-box animate delay-2">
<div class="insight">p<sub>interaction</sub> &lt; 0.00001</div>
<div class="label">The most important interaction in cancer medicine</div>
</div>
</div>
</div>
<!-- Slide 9.3: How to Test Interactions -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Testing Treatment-Covariate Interactions</div>
<div class="formula-box animate delay-1">
<div class="label">THE MODEL</div>
<div class="formula">Outcome = Œ≤<sub>1</sub>Treatment + Œ≤<sub>2</sub>Covariate + Œ≤<sub>3</sub>(Treatment √ó Covariate)</div>
<div class="label">Œ≤<sub>3</sub> is the interaction term - does treatment effect vary by covariate?</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">INTERPRETATION</div>
<div class="simple-text">
                    If Œ≤<sub>3</sub> is statistically significant:
                    <br/><br/>
                    Der Behandlungseffekt <strong>differs</strong> between subgroups defined by the covariate.
                    <br/><br/>
                    Wenn nicht: Der Behandlungseffekt ist <strong>similar</strong> across subgroups
                    (or you lack power to detect a difference).
                  </div>
</div>
</div>
</div>
<!-- Slide 9.4: Within vs Between Study Interactions -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Die entscheidende Unterscheidung</div>
<div class="compare-grid animate delay-1">
<div class="compare-box aggregate">
<h4>Between-Study Interaction</h4>
<ul>
<li>Compares trial-level averages</li>
<li>Ecological fallacy risk</li>
<li>Confounded by trial design</li>
<li>Low statistical power</li>
<li>Kann mit aggregierten Daten umgehen</li>
</ul>
</div>
<div class="compare-box ipd">
<h4>Within-Study Interaction</h4>
<ul>
<li>Compares patients within each trial</li>
<li>No ecological fallacy</li>
<li>Randomization preserved</li>
<li>Much higher power</li>
<li>Requires IPD</li>
</ul>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">DIE WICHTIGSTE ERKENNTNIS</div>
<div class="simple-text">
                    Mit IPD k√∂nnen Sie testen <strong>within-study interactions</strong>,
                    where randomization ensures the comparison is fair.
                    <br/><br/>
                    Dies ist der Goldstandard f√ºr Effektmodifikationen.
                  </div>
</div>
</div>
</div>
<!-- Slide 9.5: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-interaction">
<div class="scenario-header">
<span class="scenario-icon">üîÄ</span>
<span class="scenario-title">Die Frage der Altersinteraktion</span>
</div>
<div class="scenario-situation">
                    Ihre IPD-Metaanalyse zur Antikoagulation bei Vorhofflimmern umfasst 12.000 Patienten. Sie testen die Altersinteraktion und finden p=0,03. Patienten ‚â•75 Jahre zeigen einen gr√∂√üeren Nutzen (RR 0,55) als Patienten &lt;75 Jahre (RR 0,72).
                    <br/><br/>
                    Sie haben in Ihrer Analyse 8 potenzielle Wirkungsmodifikatoren getestet.
                  </div>
<div class="scenario-question">Wie interpretieren Sie diesen Befund?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('interaction', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">Berichten Sie, dass die Antikoagulation bei √§lteren Patienten besser wirkt ‚Äì die Wechselwirkung ist signifikant</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('interaction', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">Apply multiple testing correction; with 8 tests, p=0.03 is likely a false positive</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('interaction', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">Report as hypothesis-generating, note the multiple comparisons, request external validation</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-interaction"></div>
</div>
</div>
</div>
<!-- Slide 9.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  ‚ÄûDer Durchschnitt verbirgt die Interaktion.<br/>
                  The interaction reveals who benefits.<br/>
                  Testen Sie es im Rahmen von Studien, nicht zwischen ‚Ä¶<br/>
                  denn dort liegt die Wahrheit.‚Äú
                </div>
</div>
</div>
</div>
 ==================== MODUL 10: PROGNOSE UND VORHERSAGE ==================== 
<div class="module-slides" data-module="10">
<!-- Slide 10.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  IPD dient nicht nur der Behandlung.<br/>
<br/>
                  Wenn Sie es w√ºnschen <em>predict</em> who will die,<br/>
                  who will recover, who will relapse‚Äî<br/>
<em>das Individuum ist alles</em>.
                </div>
</div>
</div>
 Folie 10.2: Die IMPACT-Geschichte 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Predicting Recovery After Brain Injury</div>
<div class="story-card animate delay-1">
<div class="place">IMPACT CONSORTIUM, 2005-PRESENT</div>
<div class="narrative">
                    Nach einer traumatischen Hirnverletzung stellen Familien die niederschmetternde Frage:
                    <br/><br/>
<strong>"Will they ever wake up?"</strong>
<br/><br/>
                    Individual trials were too small to develop accurate prediction models.
                    <br/><br/>
                    IMPACT sammelte IPD aus 11 Studien mit 9.205 Patienten und erstellte ein Modell, das 6-Monats-Ergebnisse anhand der ersten klinischen Merkmale vorhersagt.
                  </div>
<div class="source">IMPACT Study Group. PLoS Med 2008;5:e165</div>
</div>
</div>
</div>
<!-- Slide 10.3: Why IPD for Prognosis -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Why Prognosis Demands IPD</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>External Validation Across Populations</h4>
<p>Develop in some studies, validate in others. True test of generalizability.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Non-linear Relationships</h4>
<p>Explore how predictors relate to outcome: linear? threshold? U-shaped?</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Multiple Predictor Interactions</h4>
<p>Age + GCS + pupil reactivity may interact in ways aggregate data cannot reveal</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Proper Handling of Missing Predictors</h4>
<p>Mehrfache Imputation auf Patientenebene, nicht auf Studienebene</p>
</div>
</div>
</div>
</div>
<!-- Slide 10.4: The TRIPOD+PRISMA-IPD Framework -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Reporting Standards</div>
<div class="compare-grid animate delay-1">
<div class="compare-box aggregate">
<h4>TRIPOD</h4>
<ul>
<li>Prediction model reporting</li>
<li>Entwicklung und Validierung</li>
<li>Kalibrierung und Diskriminierung</li>
<li>22 item checklist</li>
</ul>
</div>
<div class="compare-box ipd">
<h4>PRISMA-IPD</h4>
<ul>
<li>IPD meta-analysis reporting</li>
<li>Details zur Datenerfassung</li>
<li>Harmonization process</li>
<li>Integrity checking</li>
</ul>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">F√úR IPD-PROGNOSEMODELLE</div>
<div class="simple-text">
                    You need <strong>both</strong>: TRIPOD f√ºr das Modell selbst, PRISMA-IPD f√ºr den Datensyntheseprozess.
                  </div>
</div>
</div>
</div>
<!-- Slide 10.5: Clinical Impact -->
<div class="slide hope">
<div class="content text-center">
<div class="title green animate">When Prediction Saves Lives</div>
<div class="story-card animate delay-1">
<div class="place">DIE KLINISCHE AUSWIRKUNG</div>
<div class="narrative">
                    The IMPACT model is now embedded in clinical decision support systems worldwide.
                    <br/><br/>
                    Wenn ein Patient mit traumatischer Hirnverletzung eintrifft, bietet das Modell Folgendes: <strong>probability of survival</strong>
                    and <strong>probability of favorable outcome</strong>.
                    <br/><br/>
                    Dies leitet Gespr√§che mit Familien. Dies gibt Aufschluss √ºber die Behandlungsintensit√§t. Dies hilft bei der Zuweisung von Ressourcen auf der Intensivstation.
                    <br/><br/>
<strong>Aus individuellen Daten aufgebaut. Betreuung einzelner Patienten.</strong>
</div>
</div>
</div>
</div>
<!-- Slide 10.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain hope animate">
                  "To predict one patient's future,<br/>
                  Sie m√ºssen aus Tausenden von Vergangenheiten lernen.<br/>
                  IPD h√§lt diese Geschichten bereit ‚Äì<br/>
                  each one a teacher, if you will listen."
                </div>
</div>
</div>
</div>
 ==================== MODUL 11: DAS ASPIRIN-PARADOX (ATT) ==================== 
<div class="module-slides" data-module="11">
<!-- Slide 11.1: Opening Sign -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  Haben Sie nicht an die kleine wei√üe Tablette gedacht?<br/>
                  das wurde gegeben <em>millions</em> f√ºr ihre Herzen?<br/>
<br/>
                  Ihnen wurde gesagt: <em>‚ÄûNimm das und du wirst besch√ºtzt sein.‚Äú</em><br/>
<br/>
                  But was every heart equally in need of protection?
                </div>
</div>
</div>
 Folie 11.2: Die Geschichte des Netflix-Preises 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Die Geschichte des Netflix-Preises</div>
<div class="story-card animate delay-1">
<div class="place">A TRUE STORY</div>
<div class="narrative">
                    In 2006, Netflix released 100 million "anonymized" movie ratings for a $1 million prize.
                    <br/><br/>
                    Researchers quickly re-identified users by matching ratings with public IMDb reviews.
                    <br/><br/>
                    One lawsuit alleged a closeted lesbian was outed through her viewing patterns.
                    <br/><br/>
<strong>The lesson: removing names isn't anonymization.</strong>
<br/><br/>
                    IPD enth√§lt gen√ºgend Kombinationen aus Alter, Diagnose, Ansprechen auf die Behandlung und Daten, um Personen eindeutig zu identifizieren. Datenschutz erfordert mehr als das L√∂schen der Namensspalte ‚Äì es erfordert das Verst√§ndnis, wie Datenkombinationen zu Fingerabdr√ºcken werden.
                  </div>
</div>
</div>
</div>
 Folie 11.3: Die ATT-Zusammenarbeit 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Oxford, 2009</div>
<div class="story-card animate delay-1">
<div class="place">ANTITHROMBOTIC TRIALISTS' COLLABORATION</div>
<div class="narrative">
                    Das ATT sammelte individuelle Daten von <strong>95,000 patients</strong>
                    across 6 primary prevention trials of aspirin.
                    <br/><br/>
                    The published trials said: "Aspirin prevents heart attacks."
                    <br/><br/>
                    Doch der ATT stellte die verbotene Frage:
                    <br/><br/>
<strong>‚ÄûUm welchen Preis? Und f√ºr wen?‚Äú</strong>
</div>
<div class="source">ATT Collaboration. Lancet 2009;373:1849-60</div>
</div>
</div>
</div>
 Folie 11.4: Die Offenbarung 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">Die Zahlen enth√ºllt</div>
<div class="stats-grid animate delay-1">
<div class="stat-box" style="border: 2px solid var(--green);">
<div class="stat-value" style="color:var(--green);">-12%</div>
<div class="stat-label">Heart Attacks Prevented</div>
</div>
<div class="stat-box" style="border: 2px solid var(--red);">
<div class="stat-value" style="color:var(--red);">+32%</div>
<div class="stat-label">Major Bleeds Caused</div>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">THE BALANCE</div>
<div class="simple-text">
                    For every <strong>1,000 low-risk patients</strong> 5 Jahre lang Aspirin einnehmen:
                    <br/><br/>
<span style="color:var(--green);">2-3 heart attacks prevented</span><br/>
<span style="color:var(--red);">2-3 major bleeds caused</span>
<br/><br/>
<strong>Nutzen und Schaden heben sich auf.</strong>
</div>
</div>
</div>
</div>
 Folie 11.5: Der Entscheidungsbaum 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Die risikobasierte Entscheidung</div>
<div class="decision-tree animate delay-1">
<h4>Sollte dieser Patient zur Prim√§rpr√§vention Aspirin einnehmen?</h4>
<div class="tree-level">
<div class="tree-node root">10-Year CVD Risk?</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level" style="gap: 1rem;">
<div>
<div class="tree-node yes" style="background:rgba(34,197,94,0.3);">&gt;20%</div>
<div class="tree-label">High Risk</div>
</div>
<div>
<div class="tree-node question">10-20%</div>
<div class="tree-label">Intermediate</div>
</div>
<div>
<div class="tree-node no" style="background:rgba(197,48,48,0.3);">&lt;10%</div>
<div class="tree-label">Low Risk</div>
</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level" style="gap: 1rem;">
<div class="tree-node action">Consider aspirin<br/>(benefit &gt; harm)</div>
<div class="tree-node aggregate">Shared decision<br/>(benefit ‚âà harm)</div>
<div class="tree-node" style="background:rgba(197,48,48,0.5);border-color:var(--red);">Avoid aspirin<br/>(harm &gt; benefit)</div>
</div>
</div>
</div>
</div>
<!-- Slide 11.6: Why Aggregate Failed -->
<div class="slide dark">
<div class="content text-center">
<div class="rhetorical animate">
                  Why did published meta-analyses miss this?
                </div>
<div class="simple-box animate delay-1">
<div class="simple-title">Die Blindheit der Aggregate</div>
<div class="simple-text">
                    Published trials reported <strong>average benefits</strong>.
                    <br/><br/>
                    Sie konnten nicht nachweisen, dass Hochrisikopatienten davon profitierten<br/>
                    while low-risk patients lost.
                    <br/><br/>
                    Only by examining each patient's baseline risk,<br/>
                    each patient's outcomes,<br/>
                    could the <strong>interaction</strong> be revealed.
                  </div>
</div>
</div>
</div>
<!-- Slide 11.7: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-aspirin">
<div class="scenario-header">
<span class="scenario-icon">üîÄ</span>
<span class="scenario-title">Das prim√§re Pr√§ventionsdilemma</span>
</div>
<div class="scenario-situation">
                    Ein 52-j√§hriger Mann fragt nach Aspirin zur Herzinfarktpr√§vention. Er hat keine vorherige Herz-Kreislauf-Erkrankung, sein Cholesterinspiegel ist grenzwertig, sein Blutdruck ist kontrolliert, er ist Nichtraucher. Sein 10-Jahres-CVD-Risiko betr√§gt 8 %.
                    <br/><br/>
                    Er hat online gelesen, dass ‚ÄûAspirin Herzinfarkte verhindert‚Äú und m√∂chte Ihren Rat.
                  </div>
<div class="scenario-question">Was sagst du ihm?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('aspirin', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">"Yes, take aspirin daily - it's proven to prevent heart attacks"</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('aspirin', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">"At your risk level, aspirin's bleeding risk roughly equals its heart benefit - I'd recommend against it"</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('aspirin', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">"Take baby aspirin - the lower dose is safer"</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-aspirin"></div>
</div>
</div>
</div>
<!-- Slide 11.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain warning animate">
                  ‚ÄûDie Medizin, die die Gef√§hrdeten rettet<br/>
                  kann dem Sicheren schaden.<br/>
<br/>
                  Informieren Sie sich √ºber das Risiko Ihres Patienten, bevor Sie ihm etwas verschreiben.<br/>
                  Das haben uns die einzelnen Daten gelehrt.‚Äú
                </div>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="color:rgba(255,255,255,0.6);font-style:italic;">
                  95,000 patients. One truth: risk determines benefit.
                </p>
</div>
</div>
</div>
 ==================== MODUL 12: DIE BLUTDRUCK-OFFENBARUNG (BPLTTC) ==================== 
<div class="module-slides" data-module="12">
<!-- Slide 12.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  Haben Sie nicht gesehen, wie sie jahrzehntelang debattierten:<br/>
<em>‚ÄûSollten die Alten genauso behandelt werden wie die Jungen?‚Äú</em><br/>
<br/>
                  Some said: "Lower is always better."<br/>
                  Andere sagten: ‚ÄûDie Alten sind zerbrechlich. Seien Sie vorsichtig.‚Äú<br/>
<br/>
                  Wer hatte recht?
                </div>
</div>
</div>
 Folie 12.2: Die Debatte 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Die J-Kurve-Kontroverse</div>
<div class="story-card animate delay-1">
<div class="place">CARDIOLOGY CONFERENCES, 1980s-2000s</div>
<div class="narrative">
                    Jahrelang argumentierten √Ñrzte:
                    <br/><br/>
<strong>Das aggressive Lager:</strong> "Every mmHg of BP reduction saves lives.<br/>
                    Treat everyone to target 120/80."
                    <br/><br/>
<strong>Die Konservativen Camp:</strong> "In the elderly, low BP causes falls, strokes, death.<br/>
                    There's a J-curve‚Äîtoo low is dangerous."
                    <br/><br/>
                    Individual trials were too small to settle it.
                    <strong>Bis das BPLTTC die einzelnen Daten gesammelt hat.</strong>
</div>
</div>
</div>
</div>
 Folie 12.3: Die Zusammenarbeit 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">The Blood Pressure Lowering Treatment Trialists</div>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value" style="color:var(--blue);">48</div>
<div class="stat-label">Trials Combined</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--gold);">344,716</div>
<div class="stat-label">Individual Patients</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--teal);">15+</div>
<div class="stat-label">Years of Follow-up</div>
</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">THE QUESTION</div>
<div class="simple-text">
                    Does the benefit of BP lowering vary by age?
                    <br/>
                    Is there a J-curve at very low pressures?
                    <br/>
                    Do the very old (&gt;80 years) still benefit?
                  </div>
</div>
<div class="source animate delay-3" style="color:rgba(255,255,255,0.5);font-size:0.8rem;margin-top:1rem;">
                  BPLTTC. Lancet 2021;397:1625-36
                </div>
</div>
</div>
 Folie 12.4: Die Antwort 
<div class="slide hope">
<div class="content text-center">
<div class="title green animate">Die Antwort, At Zuletzt</div>
<div class="discovery-box animate delay-1">
<div class="insight">Benefit at Every Age</div>
<div class="label">Die proportionale Risikoreduktion war im Alter von 55 bis 85 Jahren konstant</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">WHAT IPD SHOWED</div>
<div class="simple-text">
<strong>Every 5 mmHg BP reduction:</strong>
<br/><br/>
                    Age 55-64: 10% lower major CV events<br/>
                    Age 65-74: 10% lower major CV events<br/>
                    Age 75-84: 10% lower major CV events<br/>
                    Age ‚â•85: <strong>Still 10% lower</strong>
<br/><br/>
<em>p</em><sub>interaction</sub> = 0,85. Keine Hinweise auf eine Altersver√§nderung.
                  </div>
</div>
</div>
</div>
 Folie 12.5: Der J-Kurven-Mythos 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Was ist mit der J-Kurve?</div>
<div class="story-card animate delay-1">
<div class="place">THE RESOLUTION</div>
<div class="narrative">
                    Das BPLTTC testete eine J-Kurve, indem es Patienten untersuchte<br/>
                    who achieved very low blood pressures.
                    <br/><br/>
<strong>Result:</strong> No J-curve in randomized comparisons.
                    <br/><br/>
                    Das scheinbare J-Kurve in Beobachtungsdaten war <em>reverse causation</em>‚Äî
                    sick patients have low BP because they're sick,
                    not sick because their BP is low.
                    <br/><br/>
<strong>Nur IPD aus RCTs konnte dies entschl√ºsseln.</strong>
</div>
</div>
</div>
</div>
<!-- Slide 12.6: Decision Tree -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Treating Hypertension by Age</div>
<div class="decision-tree animate delay-1">
<h4>Should This Elderly Patient Get BP Treatment?</h4>
<div class="tree-level">
<div class="tree-node root">Patient Age?</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level" style="gap: 2rem;">
<div class="tree-node yes" style="min-width:80px;">55-74</div>
<div class="tree-node yes" style="min-width:80px;">75-84</div>
<div class="tree-node yes" style="min-width:80px;">85+</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level">
<div class="tree-node action" style="background:var(--green);min-width:300px;">
                      Treat if BP elevated<br/>
<span style="font-size:0.75rem;">Proportional benefit maintained across all ages</span>
</div>
</div>
</div>
<div class="simple-box animate delay-2" style="margin-top:1.5rem;">
<div class="simple-title">THE LESSON</div>
<div class="simple-text">
                    Age alone is not a reason to withhold treatment.
                    <br/>
                    Consider frailty, life expectancy, patient preference‚Äîbut not age.
                  </div>
</div>
</div>
</div>
<!-- Slide 12.7: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-elderly-bp">
<div class="scenario-header">
<span class="scenario-icon">üîÄ</span>
<span class="scenario-title">Der Blutdruck der 82-J√§hrigen</span>
</div>
<div class="scenario-situation">
                    Eine 82-j√§hrige Frau hat einen Blutdruck von 158/88. Sie ist unabh√§ngig, kognitiv intakt und hat keine Sturzgeschichte. Ein Kollege sagt: ‚ÄûSie ist zu alt f√ºr eine aggressive Behandlung des Blutdrucks. Die J-Kurve, wissen Sie.‚Äú
                    <br/><br/>
                    Sie erinnern sich an die BPLTTC-IPD-Metaanalyse.
                  </div>
<div class="scenario-question">What do you do?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('elderly-bp', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">Stimmen Sie Ihrem Kollegen zu ‚Äì akzeptieren Sie h√∂here Blutdruckziele f√ºr √§ltere Menschen.</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('elderly-bp', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">Zeigen Sie die BPLTTC-Beweise, dass der Nutzen auch bei sehr √§lteren Menschen anh√§lt und Behandlung einleiten</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('elderly-bp', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">Wait for a cardiovascular event before treating</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-elderly-bp"></div>
</div>
</div>
</div>
<!-- Slide 12.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain hope animate">
                  "Sie sagten, die Alten seien zu zerbrechlich f√ºr die Medizin.<br/>
                  Aber die einzelnen Daten zeigten etwas anderes:<br/>
<br/>
                  At every age, the benefit endures.<br/>
                  Do not let age alone deny protection."
                </div>
</div>
</div>
</div>
 ==================== MODUL 13: DAS SCHLAG-ZEITFENSTER =================== 
<div class="module-slides" data-module="13">
<!-- Slide 13.1: Opening Sign -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  Haben Sie nicht den Wettlauf gegen die Zeit miterlebt?<br/>
                  when a clot blocks the brain?<br/>
<br/>
                  Every minute, <em>two million neurons die</em>.<br/>
<br/>
                  But when does the window close?<br/>
                  When is it too late to intervene?
                </div>
</div>
</div>
 Folie 13.2: Das Spiel 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">Time Is Brain</div>
<div class="stats-grid animate delay-1">
<div class="stat-box" style="border: 2px solid var(--red);">
<div class="stat-value" style="color:var(--red);">1.9M</div>
<div class="stat-label">Neurons Lost Per Minute</div>
</div>
<div class="stat-box" style="border: 2px solid var(--orange);">
<div class="stat-value" style="color:var(--orange);">14B</div>
<div class="stat-label">Synapses Lost Per Minute</div>
</div>
</div>
<div class="story-card animate delay-2">
<div class="place">THE QUESTION</div>
<div class="narrative">
                    Thrombolyse kann das Gerinnsel aufl√∂sen und das Blut wiederherstellen Flow.
                    <br/><br/>
                    But given too late, it causes bleeding into dying brain tissue.
                    <br/><br/>
<strong>What is the time window? 3 hours? 4.5 hours? 6 hours?</strong>
<br/><br/>
                    Individual trials disagreed. Guidelines were uncertain.
                  </div>
</div>
</div>
</div>
 Folie 13.3: Die IPD-L√∂sung 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Die Schlaganfall-Thrombolyse-Studierenden</div>
<div class="story-card animate delay-1">
<div class="place">STT COLLABORATIVE GROUP, 2014</div>
<div class="narrative">
                    Der STT sammelte individuelle Daten von <strong>6,756 patients</strong>
                    across 9 major alteplase trials.
                    <br/><br/>
                    They knew <em>exactly</em> when each patient's stroke began.
                    They knew <em>exactly</em> when thrombolysis was given.
                    They knew <em>exactly</em> who lived, who died, who recovered.
                    <br/><br/>
<strong>They could map benefit against time, minute by minute.</strong>
</div>
<div class="source">STT Collaborative Group. Lancet 2014;384:1929-35</div>
</div>
</div>
</div>
 Folie 13.4: Die Zeit Kurve 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Das verblassende Fenster</div>
<div class="stats-grid animate delay-1">
<div class="stat-box" style="border: 2px solid var(--green);">
<div class="stat-value" style="color:var(--green);">0-3h</div>
<div class="stat-label">ODER 1,75 f√ºr ein gutes Ergebnis</div>
</div>
<div class="stat-box" style="border: 2px solid var(--teal);">
<div class="stat-value" style="color:var(--teal);">3-4.5h</div>
<div class="stat-label">ODER 1,26 f√ºr ein gutes Ergebnis</div>
</div>
<div class="stat-box" style="border: 2px solid var(--orange);">
<div class="stat-value" style="color:var(--orange);">4.5-6h</div>
<div class="stat-label">OR 1.15 (not significant)</div>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">DER VERfall DES VORTEILS</div>
<div class="simple-text">
                    Every 15 minutes of delay reduced the benefit.
                    <br/><br/>
                    Treated at 90 min: <strong>1 in 4</strong> achieve excellent outcome<br/>
                    Treated at 180 min: <strong>1 in 7</strong> achieve excellent outcome<br/>
                    Treated at 270 min: <strong>1 in 14</strong> achieve excellent outcome
                  </div>
</div>
</div>
</div>
<!-- Slide 13.5: Decision Tree -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Die Thrombolyse-Entscheidung</div>
<div class="decision-tree animate delay-1">
<h4>Acute Ischemic Stroke: Give Thrombolysis?</h4>
<div class="tree-level">
<div class="tree-node root">Time Since Symptom Onset?</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level" style="gap: 0.75rem;">
<div>
<div class="tree-node yes" style="background:rgba(34,197,94,0.5);min-width:90px;">0-3h</div>
<div class="tree-label">Strong benefit</div>
</div>
<div>
<div class="tree-node yes" style="background:rgba(0,212,170,0.4);min-width:90px;">3-4.5h</div>
<div class="tree-label">Moderate benefit</div>
</div>
<div>
<div class="tree-node question" style="min-width:90px;">4.5-6h</div>
<div class="tree-label">Uncertain</div>
</div>
<div>
<div class="tree-node no" style="background:rgba(197,48,48,0.5);min-width:90px;">&gt;6h</div>
<div class="tree-label">Harm likely</div>
</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level" style="gap: 0.75rem;">
<div class="tree-node action" style="font-size:0.7rem;padding:0.5rem;">TREAT<br/>URGENTLY</div>
<div class="tree-node action" style="font-size:0.7rem;padding:0.5rem;">TREAT<br/>if eligible</div>
<div class="tree-node aggregate" style="font-size:0.7rem;padding:0.5rem;">Consider<br/>imaging</div>
<div class="tree-node" style="background:rgba(197,48,48,0.5);font-size:0.7rem;padding:0.5rem;">Generally<br/>avoid</div>
</div>
</div>
</div>
</div>
 Folie 13.6: Warum AD nicht antworten konnte 
<div class="slide dark">
<div class="content text-center">
<div class="rhetorical animate">
                  Why did we need individual data?
                </div>
<div class="simple-box animate delay-1">
<div class="simple-title">DIE BESCHR√ÑNKUNG DER DURCHSCHNITTE</div>
<div class="simple-text">
                    Trial A: "Patients treated within 3 hours" (average: 2.1 hours)<br/>
                    Trial B: "Patients treated within 6 hours" (average: 4.2 hours)
                    <br/><br/>
                    These <em>overlapping, inconsistent windows</em> couldn't be compared.
                    <br/><br/>
                    Only by knowing <strong>each patient's exact time</strong><br/>
                    could the continuous decay of benefit be mapped.
                  </div>
</div>
</div>
</div>
<!-- Slide 13.7: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-stroke">
<div class="scenario-header">
<span class="scenario-icon">üîÄ</span>
<span class="scenario-title">Der 4-Stunden-Schlaganfall</span>
</div>
<div class="scenario-situation">
                    Ein 68-J√§hriger stellt sich mit akutem Schlaganfall vor Das CT zeigt keine Blutung, der NIHSS-Wert liegt bei 12 (m√§√üig). Die Familie fragt: ‚ÄûIst es zu sp√§t f√ºr das gerinnungshemmende Medikament?‚Äú
                    <br/><br/>
                    Door-to-needle time will add 30 minutes, making total time ~4.5 hours.
                  </div>
<div class="scenario-question">What do you do?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('stroke', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">"It's too late - the 3-hour window has passed"</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('stroke', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">‚ÄûWir sind immer noch innerhalb des 4,5-Stunden-Fensters ‚Äì fahren Sie dringend mit der Thrombolyse fort‚Äú</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('stroke', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">"Wait for MRI to see if there's salvageable tissue"</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-stroke"></div>
</div>
</div>
</div>
<!-- Slide 13.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain warning animate">
                  "Every minute the clot remains,<br/>
                  two million neurons perish.<br/>
<br/>
                  Das IPD zeigte uns das verblassende Fenster.<br/>
                  Act quickly, or the window closes forever."
                </div>
</div>
</div>
</div>
 ==================== MODUL 14: FEHLENDE DATEN IN IPD ==================== 
<div class="module-slides" data-module="14">
<!-- Slide 14.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  Sie haben die einzelnen Daten zusammengestellt.<br/>
                  Sie √∂ffnen die Akten voller Hoffnung.<br/>
<br/>
                  Und dann sieht man es: <em>empty cells</em>.<br/>
<br/>
                  Age: 67. Sex: Male. Smoking status: <em>missing</em>.<br/>
                  Outcome at 1 year: <em>missing</em>.<br/>
<br/>
                  What now?
                </div>
</div>
</div>
 Folie 14.2: Die drei Typen 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Die drei Arten des Fehlens</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--green);">1</div>
<div class="lesson-content">
<h4>Missing Completely at Random (MCAR)</h4>
<p>Lab machine broke randomly. No relation to patient characteristics. <strong>Safe to ignore (but wasteful).</strong></p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--orange);">2</div>
<div class="lesson-content">
<h4>Missing at Random (MAR)</h4>
<p>Older patients more likely to miss follow-up. Missingness related to <em>observed</em> variables. <strong>Imputation can help.</strong></p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--red);">3</div>
<div class="lesson-content">
<h4>Nicht zuf√§llig vermisst (MNAR)</h4>
<p>Patienten mit schlechten Ergebnissen scheiden aus. Fehlen im Zusammenhang mit dem <em>missing value itself</em>. <strong>Gef√§hrlich. Erfordert eine Sensitivit√§tsanalyse.</strong></p>
</div>
</div>
</div>
</div>
 Folie 14.3: Der Entscheidungsbaum 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Umgang mit fehlenden Daten</div>
<div class="decision-tree animate delay-1">
<h4>Was tun bei fehlenden Werten?</h4>
<div class="tree-level">
<div class="tree-node root">How much is missing?</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level" style="gap: 1.5rem;">
<div>
<div class="tree-node yes" style="background:rgba(34,197,94,0.3);">&lt;5%</div>
<div class="tree-label">Minor</div>
</div>
<div>
<div class="tree-node question">5-20%</div>
<div class="tree-label">Moderate</div>
</div>
<div>
<div class="tree-node no" style="background:rgba(197,48,48,0.3);">&gt;20%</div>
<div class="tree-label">Substantial</div>
</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level" style="gap: 1.5rem;">
<div class="tree-node action" style="font-size:0.75rem;">Complete case<br/>may suffice</div>
<div class="tree-node ipd" style="font-size:0.75rem;">Multiple<br/>imputation</div>
<div class="tree-node aggregate" style="font-size:0.75rem;">Impute +<br/>sensitivity</div>
</div>
</div>
</div>
</div>
<!-- Slide 14.4: Multiple Imputation -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Multiple Imputation: Der Standard</div>
<div class="formula-box animate delay-1">
<div class="label">THE PROCESS</div>
<div class="formula">1. Impute ‚Üí 2. Analyze ‚Üí 3. Pool</div>
<div class="label">Create M imputed datasets, analyze each, combine using Rubin's rules</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">WHY MULTIPLE?</div>
<div class="simple-text">
                    Die einfache Imputation gibt vor, den fehlenden Wert zu kennen.
                    <br/><br/>
                    Multiple imputation (M=20-50 datasets) reflects <strong>uncertainty</strong>
                    dar√ºber, was der fehlende Wert gewesen sein k√∂nnte.
                    <br/><br/>
                    Dadurch bleiben g√ºltige Standardfehler und p-Werte erhalten.
                  </div>
</div>
</div>
</div>
<!-- Slide 14.5: IPD-Specific Issues -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">IPD-spezifische Herausforderungen bei fehlenden Daten</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Systematically Missing Variables</h4>
<p>Trial A measured biomarker X. Trial B didn't. Can't impute what was never collected.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Multilevel Structure</h4>
<p>Patients nested within trials. Imputation model must account for clustering.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Different Follow-up Durations</h4>
<p>Versuch A folgte 2 Jahre lang. Versuch B f√ºr 5 Jahre. Die √úberlebensanalyse erfordert Sorgfalt.</p>
</div>
</div>
</div>
</div>
<!-- Slide 14.6: Decision Tree for Systematically Missing -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">When a Variable Is Missing Entirely</div>
<div class="decision-tree animate delay-1">
<h4>Trial Didn't Collect Your Key Covariate</h4>
<div class="tree-level">
<div class="tree-node root">Is it an effect modifier or confounder?</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level" style="gap: 2rem;">
<div>
<div class="tree-node question">Effect Modifier</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-node aggregate" style="font-size:0.75rem;">Restrict interaction<br/>analysis to trials<br/>mit der Variablen</div>
</div>
<div>
<div class="tree-node question">Confounder</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-node ipd" style="font-size:0.75rem;">Sensitivity analysis<br/>varying assumptions<br/>about unmeasured</div>
</div>
</div>
</div>
</div>
</div>
<!-- Slide 14.7: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-missing">
<div class="scenario-header">
<span class="scenario-icon">üîÄ</span>
<span class="scenario-title">Der fehlende Biomarker</span>
</div>
<div class="scenario-situation">
                    Ihr IPD-MA testet, ob ein neues Krebsmedikament bei Biomarker-positiven Patienten besser wirkt. Sie haben IPD aus 8 Studien. Aber in drei Studien (40 % der Patienten) wurde der Biomarker √ºberhaupt nicht gemessen.
                    <br/><br/>
                    Diese 3 Studien sind tendenziell √§lter und kleiner.
                  </div>
<div class="scenario-question">Wie analysieren Sie die Interaktion?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('missing', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">Impute the biomarker status based on other patient characteristics</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('missing', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">Analysieren Sie die Interaktion nur in den 5 Studien mit Biomarker-Daten. Sensitivit√§tsanalyse einschlie√ülich aller Versuche zur Gesamtwirkung</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('missing', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">Schlie√üen Sie die drei Studien vollst√§ndig aus der Metaanalyse aus</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-missing"></div>
</div>
</div>
</div>
<!-- Slide 14.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  ‚ÄûDie leere Zelle ist nicht nichts.<br/>
                  It is a question: <em>Warum ist das unbekannt?</em><br/>
<br/>
                  Beantworten Sie diese Frage, bevor Sie die L√ºcke f√ºllen ‚Äì<br/>
                  denn der Grund der Abwesenheit pr√§gt die L√∂sung.‚Äú
                </div>
</div>
</div>
</div>
 ==================== MODUL 15: DIE VERF√úGBARKEITSFALLE ==================== 
<div class="module-slides" data-module="15">
<!-- Slide 15.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  Haben Sie den Forscher nicht gesehen?<br/>
                  von wem die Daten gesammelt wurden <em>willing</em> trialists<br/>
                  und den Sieg erkl√§rt?<br/>
<br/>
                  But the <em>unwilling</em> held secrets.<br/>
                  Und diese Geheimnisse haben alles ver√§ndert.
                </div>
</div>
</div>
 Folie 15.2: Die Geschichte von Tamiflu 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Die Geschichte von Tamiflu</div>
<div class="story-card animate delay-1">
<div class="place">A TRUE STORY</div>
<div class="narrative">
                    Jahrelang lagerten Regierungen Tamiflu gegen eine Grippepandemie ein und gaben daf√ºr Milliarden aus.
                    <br/><br/>
                    Cochrane reviewers requested trial data to verify efficacy. Roche refused, citing confidentiality.
                    <br/><br/>
                    F√ºnf Jahre lang setzte sich das BMJ f√ºr Transparenz ein. Als 2014 schlie√ülich die vollst√§ndigen klinischen Studienberichte ver√∂ffentlicht wurden, √§nderte sich das Bild: Tamiflu reduzierte die Symptomdauer um weniger als einen Tag und verhinderte keine Komplikationen.
                    <br/><br/>
<strong>Milliarden f√ºr ein Medikament ausgegeben, dessen vollst√§ndige Beweise unter Verschluss gehalten wurden.</strong>
<br/><br/>
                    Die Tamiflu-Saga hat die Erwartungen ver√§ndert ‚Äì heute wird die Transparenz klinischer Studien zur Norm und nicht zur Ausnahme.
                  </div>
</div>
</div>
</div>
 Folie 15.3: Die Evidenz 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">When IPD Is Selectively Available</div>
<div class="simple-box animate delay-1">
<div class="simple-title">DIE EMPIRISCHE ERGEBNISSE</div>
<div class="simple-text">
                    Studien haben Studien mit gemeinsamen IPD mit denen verglichen, die IPD aufweisen nicht:
                    <br/><br/>
<strong>Industry-sponsored trials:</strong> Less likely to share<br/>
<strong>Versuche mit negativen Ergebnissen:</strong> Less likely to share<br/>
<strong>Older trials:</strong> Daten gehen oft verloren
                    <br/><br/>
                    If these trials systematically differ in effect size,<br/>
<strong>Ihr IPD-MA ist voreingenommen.</strong>
</div>
</div>
<div class="source animate delay-2" style="color:rgba(255,255,255,0.5);font-size:0.8rem;margin-top:1rem;">
                  Ahmed I, et al. BMJ 2012;344:d7762
                </div>
</div>
</div>
 Folie 15.4: Die Vergleich 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Always Compare: IPD vs. Non-IPD Trials</div>
<div class="decision-tree animate delay-1">
<h4>Assessing Availability Bias</h4>
<div class="tree-level">
<div class="tree-node root">Compare AD effects: trials with IPD vs. without</div>
</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-level" style="gap: 2rem;">
<div>
<div class="tree-node yes">Similar Effects</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-node action" style="font-size:0.75rem;">Low concern<br/>for bias</div>
</div>
<div>
<div class="tree-node no">Different Effects</div>
<div class="tree-arrow">‚Üì</div>
<div class="tree-node" style="background:rgba(197,48,48,0.5);font-size:0.75rem;">High concern<br/>Sensitivit√§tsanalyse erforderlich</div>
</div>
</div>
</div>
</div>
</div>
 Folie 15.5: Die Checkliste 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Die Verf√ºgbarkeitsbias-Checkliste</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--green);">‚úì</div>
<div class="lesson-content">
<h4>Report IPD retrieval rate</h4>
<p>"Wir haben IPD aus 12/15 Versuchen erhalten (80 %)"</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--green);">‚úì</div>
<div class="lesson-content">
<h4>Compare IPD vs. non-IPD trial characteristics</h4>
<p>Stichprobengr√∂√üe, Finanzierung, Ver√∂ffentlichungsdatum, Effektgr√∂√üe aus aggregierten Daten</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--green);">‚úì</div>
<div class="lesson-content">
<h4>Sensitivity analysis including non-IPD trials</h4>
<p>Zweistufige Analyse, die IPD + AD aus nicht teilenden Studien kombiniert</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background:var(--green);">‚úì</div>
<div class="lesson-content">
<h4>Besprechen Sie die Gr√ºnde f√ºr die Nichtteilen</h4>
<p>Data lost? Refused? Never requested? Each has different implications.</p>
</div>
</div>
</div>
</div>
<!-- Slide 15.6: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-availability">
<div class="scenario-header">
<span class="scenario-icon">üîÄ</span>
<span class="scenario-title">The Reluctant Studienteilnehmer</span>
</div>
<div class="scenario-situation">
                    Ihr IPD-MA eines chirurgischen Eingriffs hat Daten aus 8 von 12 f√∂rderf√§higen Studien (67 %) erhalten. Die 4 Studien ohne gemeinsame Nutzung werden alle von der Industrie finanziert und zeigen in ihren Ver√∂ffentlichungen geringere Vorteile (gepoolter OR 0,95) im Vergleich zu den 8 IPD-Studien (gepoolter OR 0,72).
                    <br/><br/>
                    Ihre IPD-Analyse zeigt OR 0,70.
                  </div>
<div class="scenario-question">Wie berichten Sie? das?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('availability', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">Report IPD result (OR 0.70) as the main finding - IPD is gold standard</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('availability', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">IPD-Ergebnis mit deutlicher Warnung √ºber Verf√ºgbarkeitsverzerrung und Sensitivit√§tsanalyse einschlie√ülich AD aus nicht-austauschenden Studien melden</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('availability', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">Wait until you get 100% IPD before publishing</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-availability"></div>
</div>
</div>
</div>
 Folie 15.7: Der kombinierte Ansatz 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Die zweistufige Hybridl√∂sung</div>
<div class="formula-box animate delay-1">
<div class="label">COMBINING IPD + AD</div>
<div class="formula">Stage 1: Analyze IPD trials ‚Üí get Œ∏<sub>IPD</sub></div>
<div class="formula">Stage 2: Meta-analyze Œ∏<sub>IPD</sub> + Œ∏<sub>AD</sub> von Nicht-IPD Versuche</div>
<div class="label">Uses all available evidence, even when IPD incomplete</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">THE PRINCIPLE</div>
<div class="simple-text">
<strong>IPD ist nicht alles oder nichts.</strong>
<br/><br/>
                    Verwenden Sie IPD dort, wo Sie es haben (f√ºr Interaktionstests).<br/>
                    Erg√§nzung mit AD zur Absch√§tzung der Gesamtwirkung.<br/>
                    Transparenz dar√ºber, woher es kommt wobei.
                  </div>
</div>
</div>
</div>
<!-- Slide 15.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain warning animate">
                  "Der Wille repr√§sentiert m√∂glicherweise nicht das Ganze.<br/>
                  Die offenen T√ºren k√∂nnen die Wahrheit hinter verschlossenen verbergen.<br/>
<br/>
                  Always ask: Who refused to share?<br/>
                  And what might they be hiding?"
                </div>
</div>
</div>
</div>
 ==================== MODUL 16: QUIZ UND REFERENZEN =================== 
<div class="module-slides" data-module="16">
<!-- Slide 11.1: Quiz 1 -->
<div class="slide dark active">
<div class="content text-center">
<div class="quiz-container animate">
<div class="quiz-question">Was hat die Early Breast Cancer Trialists' Group herausgefunden, was Studien nicht einzelne konnten?</div>
<div class="quiz-options">
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Tamoxifen works better than placebo</div>
<div class="quiz-option" onclick="checkAnswer(this, true)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Tamoxifen only works in estrogen receptor positive tumors</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Tamoxifen has significant side effects</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Tamoxifen works better in younger women</div>
</div>
<div class="quiz-feedback"></div>
</div>
</div>
</div>
<!-- Slide 11.2: Quiz 2 -->
<div class="slide dark">
<div class="content text-center">
<div class="quiz-container animate">
<div class="quiz-question">What is the "ecological fallacy" in meta-analysis?</div>
<div class="quiz-options">
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Assuming environmental factors don't affect treatment</div>
<div class="quiz-option" onclick="checkAnswer(this, true)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Assuming between-study relationships apply to within-study (individual) relationships</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Zusammenfassung von Studien aus verschiedenen √∂kologischen Regionen</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Using outdated trials in modern meta-analyses</div>
</div>
<div class="quiz-feedback"></div>
</div>
</div>
</div>
<!-- Slide 11.3: Quiz 3 -->
<div class="slide dark">
<div class="content text-center">
<div class="quiz-container animate">
<div class="quiz-question">Wann wird eine einstufige IPD-Analyse gegen√ºber bevorzugt? zweistufig?</div>
<div class="quiz-options">
<div class="quiz-option" onclick="checkAnswer(this, true)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">When trials have sparse events or rare outcomes</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">When you have many large trials</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">When you want to create forest plots</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Wenn die Ergebnisse h√§ufig sind und die Nachbeobachtungszeit kurz ist</div>
</div>
<div class="quiz-feedback"></div>
</div>
</div>
</div>
<!-- Slide 11.4: Quiz 4 -->
<div class="slide dark">
<div class="content text-center">
<div class="quiz-container animate">
<div class="quiz-question">Was sollten Sie tun, bevor Sie die IPD aus mehreren Studien analysieren?</div>
<div class="quiz-options">
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Alle Daten sofort zusammenfassen und die Hauptanalyse durchf√ºhren</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Exclude trials with missing variables</div>
<div class="quiz-option" onclick="checkAnswer(this, true)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Reproduzieren Sie die ver√∂ffentlichten Ergebnisse jeder Studie aus der IPD zur √úberpr√ºfung der Datenintegrit√§t</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Convert all continuous variables to categorical</div>
</div>
<div class="quiz-feedback"></div>
</div>
</div>
</div>
<!-- Slide 11.5: References -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">References</div>
<div class="references animate delay-1">
<h4>Hier zitierte wichtige Quellen Kurs</h4>
<ol>
<li>Riley RD, et al. <span class="journal">Individuelle Teilnehmerdaten-Metaanalyse: Ein Handbuch f√ºr die Gesundheitsforschung.</span> Wiley, 2021.</li>
<li>Stewart LA, et al. PRISMA-IPD: Bevorzugte Berichtselemente f√ºr systematische √úberpr√ºfungen und Metaanalysen individueller Teilnehmerdaten. <span class="journal">JAMA</span> 2015;313:1657-65.</li>
<li>Early Breast Cancer Trialists' Collaborative Group. Tamoxifen for early breast cancer. <span class="journal">Cochrane Database Syst Rev</span> 2001.</li>
<li>Cholesterol Treatment Trialists' Collaboration. Efficacy and safety of LDL-lowering therapy. <span class="journal">Lancet</span> 2010;376:1670-81.</li>
<li>Roberts D, et al. Antenatal corticosteroids for accelerating fetal lung maturation. <span class="journal">Cochrane Database Syst Rev</span> 2017.</li>
<li>IMPACT Study Group. Predicting outcome after traumatic brain injury. <span class="journal">PLoS Med</span> 2008;5:e165.</li>
<li>Debray TPA, et al. Get real in individual participant data meta-analysis. <span class="journal">Int J Epidemiol</span> 2015;44:1287-97.</li>
<li>Burke DL, et al. Meta-analysis using individual participant data. <span class="journal">Stat Med</span> 2017;36:320-38.</li>
</ol>
</div>
</div>
</div>
<!-- Slide 11.6: Completion -->
<div class="slide hope">
<div class="content text-center">
<div class="big-number green animate" style="font-size:5rem;">‚úî</div>
<div class="title green animate delay-1">Course Complete</div>
<div class="gold-line animate delay-2"></div>
<div class="refrain hope animate delay-3">
                  ‚ÄûIm Aggregat verschwindet das Individuum.<br/>
                  But you have learned to find them.<br/>
                  You have learned to ask: Who benefits? Who is harmed?<br/>
<br/>
                  Jetzt gehen Sie ‚Äì und lassen Sie keinen Patienten im Durchschnitt verschwinden.‚Äú
                </div>
<p class="animate delay-4" style="color:var(--gold);font-family:'Cormorant Garamond',serif;font-size:1.2rem;margin-top:1.5rem;">
                  Der verborgene Patient ‚Äì ‚Äã‚Äãjetzt sehen Sie ihn.
                </p>
<button aria-label="Holen Sie sich Ihr Abschlusszertifikat" class="btn primary animate delay-5" onclick="showCertificate()" style="margin-top:2rem;padding:1rem 2rem;font-size:1.1rem;">
                  üéì Holen Sie sich Ihr Zertifikat
                </button>
</div>
</div>
</div>
<!-- Navigation -->
<nav aria-label="Slide navigation" class="slide-nav" role="navigation">
<button aria-label="Previous slide" class="nav-btn" onclick="prevSlide()" title="Previous slide (Left arrow)">‚Üê</button>
<div class="nav-center">
<div aria-atomic="true" aria-live="polite" class="slide-counter" id="slideCounter">1 / 6</div>
<div aria-label="Slide indicators" class="progress" id="progressDots" role="tablist"></div>
</div>
<button aria-label="Next slide" class="nav-btn" onclick="nextSlide()" title="Next slide (Right arrow or Space)">‚Üí</button>
</nav>
</div>
</div>
</main>
</div>
<script>
    function toggleSidebar() {
      document.querySelector('.sidebar').classList.toggle('open');
      var overlay = document.querySelector('.sidebar-overlay');
      if (overlay) overlay.classList.toggle('show');
      var btn = document.querySelector('.mobile-menu-toggle, .sidebar-toggle, .hamburger');
      if (btn) btn.setAttribute('aria-expanded', btn.getAttribute('aria-expanded') === 'true' ? 'false' : 'true');
    }

    const modules = [
      { id: 1, title: "The Vanishing", subtitle: "Why IPD matters", slides: 6 },
      { id: 2, title: "Aggregate vs IPD", subtitle: "Der √∂kologische Irrtum", slides: 6 },
      { id: 3, title: "Die CTT-Offenbarung", subtitle: "Statins for 170,000", slides: 6 },
      { id: 4, title: "When to Pursue IPD", subtitle: "Der Entscheidungsbaum", slides: 6 },
      { id: 5, title: "One-Stage vs Two-Stage", subtitle: "Analysis approaches", slides: 6 },
      { id: 6, title: "Die Timing-Entdeckung", subtitle: "Corticosteroids & preterm birth", slides: 6 },
      { id: 7, title: "Obtaining IPD", subtitle: "Die Suche nach Daten", slides: 6 },
      { id: 8, title: "Data Harmonization", subtitle: "Speaking one language", slides: 6 },
      { id: 9, title: "Testing Interactions", subtitle: "Who benefits most?", slides: 6 },
      { id: 10, title: "Prognosis & Prediction", subtitle: "AUSWIRKUNGEN und dar√ºber hinaus", slides: 6 },
      { id: 11, title: "Das Aspirin-Paradoxon", subtitle: "ATT: Risk determines benefit", slides: 8 },
      { id: 12, title: "The BP Revelation", subtitle: "BPLTTC: Alter ist keine Barriere", slides: 8 },
      { id: 13, title: "Das Schlaganfallfenster", subtitle: "Time is brain", slides: 8 },
      { id: 14, title: "Missing Data", subtitle: "Die leeren Zellen", slides: 8 },
      { id: 15, title: "Die Verf√ºgbarkeit Falle", subtitle: "Who refused to share?", slides: 8 },
      { id: 16, title: "Quiz & Sources", subtitle: "Testen Sie Ihr Wissen", slides: 6 }
    ];

    // State management with localStorage persistence
    const STORAGE_KEY = 'ipd-course-progress';

    function loadProgress() {
      try {
        const saved = localStorage.getItem(STORAGE_KEY);
        if (saved) {
          const data = JSON.parse(saved);
          return {
            currentModule: Math.min(Math.max(1, data.currentModule || 1), modules.length),
            currentSlide: Math.max(1, data.currentSlide || 1),
            completedModules: new Set(data.completedModules || [])
          };
        }
      } catch (e) {
        console.warn('Could not load progress:', e);
      }
      return { currentModule: 1, currentSlide: 1, completedModules: new Set() };
    }

    function saveProgress() {
      try {
        const data = {
          currentModule,
          currentSlide,
          completedModules: Array.from(completedModules)
        };
        localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
      } catch (e) {
        console.warn('Could not save progress:', e);
      }
    }

    // Initialize state from localStorage or defaults
    const savedState = loadProgress();
    let currentModule = savedState.currentModule;
    let currentSlide = savedState.currentSlide;
    const completedModules = savedState.completedModules;

    // Branching scenarios
    const scenarios = {
      'ipd-decision': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'Gef√§hrliche Abk√ºrzung! Die REACT-Arbeitsgruppe der WHO verfolgte IPD f√ºr COVID-Steroide und entdeckte entscheidende Wechselwirkungen: Der Nutzen war bei Patienten, die Sauerstoff ben√∂tigten, am deutlichsten. Bei einer aggregierten Analyse w√§re diese Nuance, die die klinische Praxis pr√§gte, √ºbersehen worden.', lesson: 'Wenn es um die Frage geht, ‚Äûwer davon profitiert‚Äú, ist IPD nicht optional.' },
          'b': { type: 'good', text: 'Richtig! Ihre Frage zur Effektmodifikation nach Schweregrad und Zeitpunkt erfordert Daten auf Patientenebene. Die IPD-Analyse der REACT-Gruppe zeigte, dass sich der Nutzen von Dexamethason auf Patienten konzentrierte, die Sauerstoff erhielten, was zu einer gezielten Behandlung f√ºhrte.' , lesson: 'IPD is essential when testing treatment-covariate interactions.' },
          'c': { type: 'neutral', text: 'Verlockend, aber fehlerhaft. Die Kategorien auf Pr√ºfungsebene unterscheiden sich: ‚ÄûSchwer‚Äú bei Pr√ºfung A kann ‚Äûmittel‚Äú bei Pr√ºfung B sein. Sie w√ºrden √Ñpfel und Birnen vergleichen. Nur IPD erm√∂glicht die Anwendung konsistenter Schweregraddefinitionen auf alle Patienten.', lesson: 'Die aggregierte Untergruppenanalyse leidet unter dem √∂kologischen Irrtum.' }
        }
      },
      'harmonization': {
        correct: 'c',
        consequences: {
          'a': { type: 'bad', text: 'Risiko! Die unterschiedlichen Ergebnisdefinitionen k√∂nnten die gr√∂√üeren Effekte in diesen Studien erkl√§ren (lockerere Definitionen erfassen mehr Ereignisse). Wenn Sie sie ohne Best√§tigung einbeziehen, kann dies zu einer √úberh√∂hung Ihrer Gesamtsch√§tzung f√ºhren.', lesson: 'Definition heterogeneity is a form of bias. Acknowledge it.' },
          'b': { type: 'neutral', text: 'Konservativ, kann jedoch zum Verlust wertvoller Informationen f√ºhren. Die Studien der 1990er-Jahre umfassen m√∂glicherweise unterschiedliche Populationen, die es wert sind, untersucht zu werden. Ein vollst√§ndiger Ausschluss sollte begr√ºndet und nicht reflexiv sein.', lesson: 'Ausschluss ist eine Entscheidung mit Konsequenzen. Dokumentieren Sie Ihre Argumentation.' },
          'c': { type: 'good', text: 'Richtig! Dieser Ansatz liefert eine saubere prim√§re Sch√§tzung und untersucht gleichzeitig die Robustheit. Wenn sich die Ergebnisse bei den nicht standardisierten Studien erheblich √§ndern, ist das eine wichtige Information √ºber die Empfindlichkeit gegen√ºber der Ergebnisdefinition.', lesson: 'Sensitivity analyses reveal what depends on your assumptions.' }
        }
      },
      'interaction': {
        correct: 'c',
        consequences: {
          'a': { type: 'bad', text: 'Overinterpretation! With 8 tests at alpha=0.05, you expect ~0.4 false positives by chance. A single p=0.03 after multiple testing is not compelling evidence of true effect modification.', lesson: 'Multiple testing inflates false positive risk. Adjust or acknowledge.' },
          'b': { type: 'neutral', text: 'Statistically appropriate (Bonferroni: 0.05/8 = 0.006 threshold) but perhaps too rigid. Biological plausibility matters too - older patients have higher stroke risk, so larger relative benefit is mechanistically sensible.', lesson: 'Statistics and biology should inform each other.' },
          'c': { type: 'good', text: 'Richtig! Eine transparente Berichterstattung √ºber den explorativen Charakter, die Anerkennung mehrfacher Tests und die Forderung nach externer Validierung sind der wissenschaftliche Ansatz. Der Befund ist interessant, aber nicht endg√ºltig.', lesson: 'Subgroup findings require replication before changing practice.' }
        }
      },
      'aspirin': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'Gef√§hrliche Vereinfachung! Die ATT-IPD-Analyse von 95.000 Patienten zeigte, dass bei Personen mit geringem Risiko (wie diesem Patienten mit 8 % 10-Jahres-Risiko) der Blutungsschaden in etwa dem kardiovaskul√§ren Nutzen entspricht. Sie w√ºrden ihn einem Blutungsrisiko aussetzen, ohne dass der Nettonutzen vernachl√§ssigbar w√§re.', lesson: 'Average benefit masks risk-stratified truth. Not everyone benefits equally.' },
          'b': { type: 'good', text: 'Richtig! Die ATT IPD-MA zeigte, dass das Nutzen-Schaden-Verh√§ltnis von Aspirin vom Ausgangs-CVD-Risiko abh√§ngt. Bei einem 10-Jahres-Risiko von 8 % sind die Anzahl der erforderlichen Behandlungen und die Anzahl der erforderlichen Sch√§den √§hnlich. Aktuelle Leitlinien (AHA 2019) raten von routinem√§√üigem Aspirin in der Prim√§rpr√§vention mit geringem Risiko ab.', lesson: 'IPD enth√ºllte die Risiko-Nutzen-Interaktion, die Aggregate verbargen.' },
          'c': { type: 'bad', text: 'Die Dosis √§ndert nichts am grundlegenden Problem. Niedrig dosiertes Aspirin verst√§rkt immer noch die Blutung. Der ATT zeigte, dass das Nutzen-Schaden-Verh√§ltnis vom Ausgangsrisiko und nicht von der Dosis abh√§ngt. Bei geringem CVD-Risiko verursacht selbst Baby-Aspirin mehr Schaden als Nutzen.', lesson: 'Changing the dose doesn\'t fix an indication problem.' }
        }
      },
      'elderly-bp': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'Der J-Kurven-Mythos wurde durch IPD-Beweise entlarvt. Die BPLTTC-Metaanalyse von 344.716 Patienten zeigte, dass der proportionale Nutzen der Blutdrucksenkung auch bei Patienten ‚â• 85 Jahren erhalten bleibt. Der altersbasierte Behandlungsnihilismus verweigert denjenigen eine wirksame Pr√§vention, die am meisten davon profitieren k√∂nnten (h√∂heres absolutes Risiko).', lesson: 'Die J-Kurve in Beobachtungsdaten war eine umgekehrte Kausalit√§t, kein Behandlungsschaden.' },
          'b': { type: 'good', text: 'Correct! The BPLTTC IPD-MA found no interaction between age and treatment benefit (p=0.85). A fit 82-year-old with elevated BP stands to gain from treatment. Consider frailty and life expectancy, but not age alone.', lesson: 'IPD aus RCTs √ºbertrifft √∂kologische Assoziationen aus Beobachtungsstudien.' },
          'c': { type: 'bad', text: 'Das Warten auf einen Schlaganfall oder Myokardinfarkt vor der Behandlung macht den Zweck der Pr√§vention zunichte. Das BPLTTC zeigte, dass Prim√§rpr√§vention in allen Altersgruppen funktioniert. Wachsames Abwarten bei einem Patienten mit klarer Indikation ist sch√§dlich.', lesson: 'Pr√§vention bedeutet, vor dem Ereignis zu behandeln, nicht danach.' }
        }
      },
      'stroke': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'Outdated thinking! The STT IPD analysis showed benefit extends to 4.5 hours, and the 2018 guidelines expanded the window. The 3-hour cutoff was from earlier, smaller trials. Every minute counts, but 4 hours is not too late.', lesson: 'IPD allowed continuous modeling of time-benefit relationship.' },
          'b': { type: 'good', text: 'Richtig! Der STT IPD-MA zeigte, dass der Thrombolysevorteil, auch wenn er verringert ist, bis zu 4,5 Stunden anh√§lt. Nach 4‚Äì4,5 Stunden betr√§gt der OR f√ºr ein gutes Ergebnis immer noch ~1,26. Fahren Sie dringend fort ‚Äì jede Minute weiterer Verz√∂gerung verringert den Nutzen.', lesson: 'IPD enth√ºllte die Abklingkurve, die durch diskrete Versuchsfenster verdeckt wurde.' },
          'c': { type: 'bad', text: 'Dangerous delay! MRI takes time you don\'t have. The STT showed benefit declines continuously with time. At 4 hours, you\'re already in the diminishing returns zone. Standard CT to rule out hemorrhage is sufficient; adding MRI delays treatment when every minute costs neurons.', lesson: 'Perfect is the enemy of good when time is brain.' }
        }
      },
      'missing': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'Risante Unterstellung! Man kann einen Biomarker, der nie gemessen wurde, nicht zuverl√§ssig auf andere Merkmale zur√ºckf√ºhren. Dabei handelt es sich um ‚Äûsystematisch fehlende‚Äú Daten ‚Äì eine Unterstellung w√§re Spekulation im Gewand einer Analyse. Der Missing-Mechanismus ist MNAR (Versuche, bei denen dies nicht gemessen wurde, hatten m√∂glicherweise Gr√ºnde).', lesson: 'Sie k√∂nnen nicht unterstellen, was nie erfasst wurde. Das ist eine Erfindung, keine Unterstellung.' },
          'b': { type: 'good', text: 'Correct! Interaction analysis should be restricted to trials with the data. For the overall effect, you can include all trials (two-stage: IPD from 5 trials + AD from 3 trials). This maximizes appropriate use of available data while maintaining validity for each analysis type.', lesson: 'Verschiedene Fragen k√∂nnen unterschiedliche Teilmengen Ihrer Daten verwenden.' },
          'c': { type: 'neutral', text: 'Zu aggressiv! Diese drei Studien liefern g√ºltige Informationen √ºber den gesamten Behandlungseffekt, auch wenn sie keine Informationen √ºber die Biomarker-Interaktion liefern k√∂nnen. Wenn man sie vollst√§ndig ausschlie√üt, verschwendet man Beweise und kann zu einer Auswahlverzerrung f√ºhren, wenn sie sich systematisch unterscheiden.', lesson: 'Exclusion should be proportionate to the problem.' }
        }
      },
      'availability': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'Warnung zur Verf√ºgbarkeitsverzerrung! Die Non-Sharing-Studien zeigen wesentlich geringere Effekte (OR 0,95 vs. 0,70). Wenn nur IPD-Ergebnisse gemeldet w√ºrden, ohne diese Diskrepanz anzuerkennen, w√ºrde dies den Behandlungseffekt √ºberbewerten. Branchenstudien liefern oft keine negativen Daten.', lesson: 'Available IPD may be a biased sample of all evidence.' },
          'b': { type: 'good', text: 'Correct! Transparent reporting includes: (1) IPD retrieval rate, (2) comparison of IPD vs non-IPD trial characteristics and effects, (3) sensitivity analysis combining IPD + AD. This lets readers judge the impact of availability bias.', lesson: 'IPD quality cannot compensate for selection bias in which trials share.' },
          'c': { type: 'neutral', text: '100 % IPD ist ideal, aber selten erreichbar. Auf unbestimmte Zeit zu warten bedeutet, dass die Beweise nie synthetisiert werden. Es ist besser, mit entsprechenden Vorbehalten und Sensitivit√§tsanalysen fortzufahren, als das Perfekte zum Feind des Guten zu machen.', lesson: 'Some IPD with caveats beats no synthesis at all.' }
        }
      }
    };

    let scenarioState = {};

    function selectScenarioChoice(scenarioId, choice) {
      if (scenarioState[scenarioId]) return;

      scenarioState[scenarioId] = choice;
      const scenario = scenarios[scenarioId];
      const consequence = scenario.consequences[choice];
      const isCorrect = choice === scenario.correct;

      // Update choice styling
      const panel = document.getElementById(`scenario-${scenarioId}`);
      const choices = panel.querySelectorAll('.scenario-choice');
      choices.forEach(c => {
        c.classList.add('answered');
        const letter = c.querySelector('.choice-letter').textContent.toLowerCase();
        if (letter === scenario.correct) c.classList.add('correct');
        if (letter === choice && !isCorrect) c.classList.add('incorrect');
      });

      // Show consequence
      const conseqDiv = document.getElementById(`consequence-${scenarioId}`);
      conseqDiv.innerHTML = `
        <div class="consequence-title">${isCorrect ? '&#10003; Good decision!' : '&#10007; Problematic decision'}</div>
        <div class="consequence-text">${consequence.text}</div>
        <div class="consequence-lesson">"${consequence.lesson}"</div>
      `;
      conseqDiv.classList.add('visible', consequence.type);
    }

    function init() {
      // Restore saved progress - activate correct module and slide
      if (currentModule > 1 || currentSlide > 1) {
        // Deactivate default first module
        document.querySelectorAll('.module-slides').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.slide').forEach(el => el.classList.remove('active'));

        // Activate saved module
        const targetModuleEl = document.querySelector(`.module-slides[data-module="${currentModule}"]`);
        if (targetModuleEl) {
          targetModuleEl.classList.add('active');

          // Activate saved slide within module
          const slides = targetModuleEl.querySelectorAll('.slide');
          const targetSlideIndex = Math.min(currentSlide - 1, slides.length - 1);
          if (slides[targetSlideIndex]) {
            slides[targetSlideIndex].classList.add('active');
          }
        }

        // Update breadcrumb
        const moduleTitle = modules[currentModule - 1];
        if (moduleTitle) {
          document.getElementById('currentModule').textContent = moduleTitle.title;
        }

        // Progress restored: Module ${currentModule}, Slide ${currentSlide}
      }

      renderModuleList();
      updateSlideNav();

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        // Don't intercept if user is in an input/interactive field
        if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' ||
            e.target.tagName === 'SELECT' || e.target.tagName === 'BUTTON' ||
            e.target.tagName === 'A' ||
            (e.target.getAttribute && e.target.getAttribute('role') === 'button')) return;

        if (e.key === 'ArrowRight' || e.key === ' ') {
          e.preventDefault();
          nextSlide();
        } else if (e.key === 'ArrowLeft') {
          e.preventDefault();
          prevSlide();
        } else if (e.key === 'Home') {
          e.preventDefault();
          goToModule(1);
        } else if (e.key === 'End') {
          e.preventDefault();
          goToModule(modules.length);
        }
      });

      // Touch swipe support for mobile
      let touchStartX = 0;
      let touchEndX = 0;
      const slidesContainer = document.getElementById('main-content');

      if (slidesContainer) {
        slidesContainer.addEventListener('touchstart', (e) => {
          touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        slidesContainer.addEventListener('touchend', (e) => {
          touchEndX = e.changedTouches[0].screenX;
          handleSwipe();
        }, { passive: true });
      }

      function handleSwipe() {
        const swipeThreshold = 50;
        const diff = touchStartX - touchEndX;
        if (Math.abs(diff) > swipeThreshold) {
          if (diff > 0) {
            nextSlide(); // Swipe left = next
          } else {
            prevSlide(); // Swipe right = prev
          }
        }
      }

      // Save progress before user leaves
      window.addEventListener('beforeunload', saveProgress);

      // Announce initial slide to screen readers
      announceSlide();

      // Show initial progress percentage
      updateProgressPercent();
    }

    // Accessibility: Announce slide changes to screen readers
    function announceSlide() {
      const module = modules[currentModule - 1];
      if (!module) return;

      const announcement = `Module ${currentModule}: ${module.title}. Slide ${currentSlide} of ${module.slides}.`;
      const liveRegion = document.getElementById('ariaLiveRegion');
      if (liveRegion) {
        liveRegion.textContent = announcement;
      }

      updateProgressPercent();
    }

    // Update completion percentage display
    function updateProgressPercent() {
      const totalSlides = modules.reduce((sum, m) => sum + m.slides, 0);
      let completedSlides = 0;

      // Count slides in completed modules
      completedModules.forEach(moduleId => {
        const mod = modules.find(m => m.id === moduleId);
        if (mod) completedSlides += mod.slides;
      });

      // Add current progress in current module
      completedSlides += currentSlide - 1;

      const percent = Math.round((completedSlides / totalSlides) * 100);
      const progressEl = document.getElementById('progressPercent');
      if (progressEl) {
        progressEl.textContent = `Progress: ${percent}%`;
      }
    }

    function renderModuleList() {
      const list = document.getElementById('moduleList');
      list.innerHTML = modules.map(m => `
        <div class="module-item ${m.id === currentModule ? 'active' : ''} ${completedModules.has(m.id) ? 'completed' : ''}"
             onclick="goToModule(${m.id})"
             onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();event.stopPropagation();goToModule(${m.id});}"
             role="listitem"
             tabindex="0"
             aria-label="Module ${m.id}: ${m.title}. ${m.subtitle}. ${completedModules.has(m.id) ? 'Completed.' : ''} ${m.id === currentModule ? 'Current module.' : ''}"
             aria-current="${m.id === currentModule ? 'true' : 'false'}">
          <div class="module-number" aria-hidden="true">${completedModules.has(m.id) ? '&#10003;' : m.id}</div>
          <div class="module-info">
            <div class="module-title">${m.title}</div>
            <div class="module-subtitle">${m.subtitle}</div>
          </div>
        </div>
      `).join('');
    }

    function goToModule(moduleId) {
      // Bounds checking
      if (moduleId < 1 || moduleId > modules.length) {
        console.warn(`Invalid module ID: ${moduleId}. Must be between 1 and ${modules.length}.`);
        return;
      }

      if (moduleId > currentModule) completedModules.add(currentModule);
      currentModule = moduleId;

      // Ensure slide is within bounds for new module
      const targetModule = modules[moduleId - 1];
      currentSlide = Math.min(Math.max(1, currentSlide), targetModule.slides);
      currentSlide = 1; // Start at first slide of new module

      document.querySelectorAll('.module-slides').forEach(el => el.classList.remove('active'));
      const targetModuleEl = document.querySelector(`.module-slides[data-module="${moduleId}"]`);
      if (targetModuleEl) {
        targetModuleEl.classList.add('active');
      }

      updateSlideVisibility();
      updateSlideNav();
      renderModuleList();

      const moduleTitle = modules[moduleId - 1];
      if (moduleTitle) {
        document.getElementById('currentModule').textContent = moduleTitle.title;
      }

      saveProgress();
      announceSlide();
    }

    function updateSlideVisibility() {
      const moduleSlides = document.querySelector(`.module-slides[data-module="${currentModule}"]`);
      if (!moduleSlides) {
        console.warn(`Module slides not found for module ${currentModule}`);
        return;
      }
      const slides = moduleSlides.querySelectorAll('.slide');
      slides.forEach((slide, index) => slide.classList.toggle('active', index + 1 === currentSlide));
    }

    function updateSlideNav() {
      const module = modules[currentModule - 1];
      if (!module) {
        console.warn(`Module data not found for index ${currentModule - 1}`);
        return;
      }
      const slideCounter = document.getElementById('slideCounter');
      const progressDots = document.getElementById('progressDots');
      if (slideCounter) {
        slideCounter.textContent = `${currentSlide} / ${module.slides}`;
      }
      if (progressDots) {
        progressDots.innerHTML = Array.from({ length: module.slides }, (_, i) =>
          `<div class="progress-dot ${i + 1 === currentSlide ? 'active' : ''}"
                onclick="goToSlide(${i + 1})"
                onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();event.stopPropagation();goToSlide(${i + 1});}"
                role="tab"
                tabindex="${i + 1 === currentSlide ? '0' : '-1'}"
                aria-selected="${i + 1 === currentSlide ? 'true' : 'false'}"
                aria-label="Go to slide ${i + 1}"></div>`
        ).join('');
      }
    }

    // Reset progress function (can be called from console or UI)
    function resetProgress() {
      try {
        localStorage.removeItem(STORAGE_KEY);
        currentModule = 1;
        currentSlide = 1;
        completedModules.clear();

        // Reset UI
        document.querySelectorAll('.module-slides').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.slide').forEach(el => el.classList.remove('active'));

        const firstModule = document.querySelector('.module-slides[data-module="1"]');
        if (firstModule) {
          firstModule.classList.add('active');
          const firstSlide = firstModule.querySelector('.slide');
          if (firstSlide) firstSlide.classList.add('active');
        }

        document.getElementById('currentModule').textContent = modules[0].title;
        renderModuleList();
        updateSlideNav();
        updateProgressPercent();
        announceSlide();

        // Progress reset successfully
      } catch (e) {
        console.error('Failed to reset progress:', e);
      }
    }

    function goToSlide(slideNum) {
      // Bounds checking
      const module = modules[currentModule - 1];
      if (!module || slideNum < 1 || slideNum > module.slides) {
        console.warn(`Invalid slide number: ${slideNum}. Must be between 1 and ${module ? module.slides : '?'}.`);
        return;
      }

      currentSlide = slideNum;
      updateSlideVisibility();
      updateSlideNav();
      saveProgress();
      announceSlide();
    }

    function nextSlide() {
      // Bounds checking
      if (currentModule < 1 || currentModule > modules.length) {
        console.warn('Invalid current module state');
        currentModule = 1;
        currentSlide = 1;
        saveProgress();
        return;
      }

      const module = modules[currentModule - 1];
      if (!module) return;

      if (currentSlide < module.slides) {
        currentSlide++;
        updateSlideVisibility();
        updateSlideNav();
        saveProgress();
        announceSlide();
      } else if (currentModule < modules.length) {
        goToModule(currentModule + 1);
      }
      // If at last slide of last module, do nothing (already handled)
    }

    function prevSlide() {
      // Bounds checking
      if (currentModule < 1 || currentModule > modules.length) {
        console.warn('Invalid current module state');
        currentModule = 1;
        currentSlide = 1;
        saveProgress();
        return;
      }

      if (currentSlide > 1) {
        currentSlide--;
        updateSlideVisibility();
        updateSlideNav();
        saveProgress();
        announceSlide();
      } else if (currentModule > 1) {
        // Bounds check for previous module
        const prevModuleIndex = currentModule - 2;
        if (prevModuleIndex < 0 || prevModuleIndex >= modules.length) {
          console.warn('Invalid previous module index');
          return;
        }

        const prevModuleSlides = modules[prevModuleIndex].slides;
        currentModule--;
        currentSlide = prevModuleSlides;

        document.querySelectorAll('.module-slides').forEach(el => el.classList.remove('active'));
        const targetModuleEl = document.querySelector(`.module-slides[data-module="${currentModule}"]`);
        if (targetModuleEl) {
          targetModuleEl.classList.add('active');
        }

        updateSlideVisibility();
        updateSlideNav();
        renderModuleList();

        const moduleTitle = modules[currentModule - 1];
        if (moduleTitle) {
          document.getElementById('currentModule').textContent = moduleTitle.title;
        }

        saveProgress();
        announceSlide();
      }
      // If at first slide of first module, do nothing (already handled)
    }

    function checkAnswer(element, isCorrect) {
      const container = element.closest('.quiz-container');
      const options = container.querySelectorAll('.quiz-option');
      const feedback = container.querySelector('.quiz-feedback');

      options.forEach(opt => {
        opt.style.pointerEvents = 'none';
        if (opt === element) opt.classList.add(isCorrect ? 'correct' : 'incorrect');
      });

      feedback.classList.add('show', isCorrect ? 'correct' : 'incorrect');
      feedback.innerHTML = isCorrect
        ? '<strong>Correct!</strong> You understand the key concept.'
        : '<strong>Not quite.</strong> Review the module to understand why.';
    }

    // ==================== THEME TOGGLE ====================
    function toggleTheme() {
      const body = document.body;
      const themeBtn = document.getElementById('themeToggle');
      const isLight = body.classList.toggle('light-theme');

      // Update button icon
      if (themeBtn) {
        themeBtn.textContent = isLight ? 'üåô' : '‚òÄÔ∏è';
        themeBtn.setAttribute('aria-label', isLight ? 'Switch to dark mode' : 'Switch to light mode');
      }

      // Save preference
      try {
        localStorage.setItem('ipd-course-theme', isLight ? 'light' : 'dark');
      } catch (e) {
        console.warn('Could not save theme preference');
      }
    }

    function loadTheme() {
      try {
        const savedTheme = localStorage.getItem('ipd-course-theme');
        const themeBtn = document.getElementById('themeToggle');

        if (savedTheme === 'light') {
          document.body.classList.add('light-theme');
          if (themeBtn) {
            themeBtn.textContent = 'üåô';
            themeBtn.setAttribute('aria-label', 'Switch to dark mode');
          }
        }
      } catch (e) {
        console.warn('Could not load theme preference');
      }
    }

    // ==================== CERTIFICATE ====================
    function showCertificate() {
      const modal = document.getElementById('certificateModal');
      const dateEl = document.getElementById('certDate');

      if (modal) {
        modal.classList.add('visible');

        // Set current date
        if (dateEl) {
          const now = new Date();
          const options = { year: 'numeric', month: 'long', day: 'numeric' };
          dateEl.textContent = `Completed on ${now.toLocaleDateString('en-US', options)}`;
        }

        // Focus the name input
        const nameInput = document.getElementById('certName');
        if (nameInput) {
          setTimeout(() => nameInput.focus(), 100);
        }
      }
    }

    function closeCertificate() {
      const modal = document.getElementById('certificateModal');
      if (modal) {
        modal.classList.remove('visible');
      }
    }

    function printCertificate() {
      const name = document.getElementById('certName')?.value || 'Course Participant';
      const certContent = document.getElementById('certificateContent');

      if (!certContent) return;

      // Temporarily replace input with name text
      const nameInput = document.getElementById('certName');
      const originalHTML = nameInput?.outerHTML;
      if (nameInput) {
        const nameSpan = document.createElement('span');
        nameSpan.className = 'certificate-name';
        nameSpan.textContent = name;
        nameInput.replaceWith(nameSpan);
      }

      // Hide action buttons for print
      const actions = certContent.querySelector('.certificate-actions');
      const closeBtn = certContent.querySelector('.certificate-close');
      if (actions) actions.style.display = 'none';
      if (closeBtn) closeBtn.style.display = 'none';

      // Print
      const printWindow = window.open('', '_blank');
      printWindow.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Certificate - IPD Meta-Analysis Course</title>
          <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet">
          <style>
            body { margin: 0; padding: 2rem; font-family: 'Cormorant Garamond', Georgia, serif; }
            .certificate {
              background: linear-gradient(135deg, #faf8f5 0%, #fff 100%);
              border: 8px solid #D4AF37;
              border-radius: 12px;
              padding: 3rem;
              max-width: 700px;
              margin: 0 auto;
              text-align: center;
            }
            .certificate-header { font-size: 2.5rem; color: #1E2761; margin-bottom: 0.5rem; }
            .certificate-subtitle { font-size: 1rem; color: #718096; margin-bottom: 2rem; letter-spacing: 0.2em; text-transform: uppercase; }
            .certificate-body { font-size: 1.2rem; color: #2D3748; line-height: 1.8; margin-bottom: 2rem; }
            .certificate-name { font-size: 2rem; font-weight: 700; color: #1E2761; border-bottom: 2px solid #D4AF37; display: inline-block; padding: 0 2rem 0.5rem; margin: 1rem 0; }
            .certificate-date { font-size: 0.9rem; color: #718096; margin-top: 1.5rem; }
            .certificate-seal { width: 80px; height: 80px; background: linear-gradient(135deg, #D4AF37, #B8860B); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 1.5rem auto 0; color: white; font-size: 2rem; }
          </style>
        </head>
        <body>
          ${certContent.innerHTML}
        </body>
        </html>
      `);
      printWindow.document.close();
      printWindow.print();

      // Restore original state
      if (actions) actions.style.display = '';
      if (closeBtn) closeBtn.style.display = '';
      const nameSpan = certContent.querySelector('.certificate-name');
      if (nameSpan && originalHTML) {
        nameSpan.outerHTML = originalHTML;
      }
    }

    function downloadCertificate() {
      const name = document.getElementById('certName')?.value || 'Course Participant';
      const dateEl = document.getElementById('certDate')?.textContent || '';

      // Create a canvas-based certificate image
      const canvas = document.createElement('canvas');
      canvas.width = 1000;
      canvas.height = 700;
      const ctx = canvas.getContext('2d');

      // Background gradient
      const gradient = ctx.createLinearGradient(0, 0, 1000, 700);
      gradient.addColorStop(0, '#faf8f5');
      gradient.addColorStop(1, '#ffffff');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, 1000, 700);

      // Border
      ctx.strokeStyle = '#D4AF37';
      ctx.lineWidth = 16;
      ctx.strokeRect(20, 20, 960, 660);

      // Inner border
      ctx.strokeStyle = '#1E2761';
      ctx.lineWidth = 2;
      ctx.strokeRect(40, 40, 920, 620);

      // Header
      ctx.fillStyle = '#1E2761';
      ctx.font = 'bold 48px Georgia, serif';
      ctx.textAlign = 'center';
      ctx.fillText('Certificate of Completion', 500, 120);

      // Subtitle
      ctx.fillStyle = '#718096';
      ctx.font = '18px Arial, sans-serif';
      ctx.letterSpacing = '0.2em';
      ctx.fillText('INDIVIDUAL PARTICIPANT DATA META-ANALYSIS', 500, 160);

      // Body text
      ctx.fillStyle = '#2D3748';
      ctx.font = '22px Georgia, serif';
      ctx.fillText('This certifies that', 500, 240);

      // Name
      ctx.fillStyle = '#1E2761';
      ctx.font = 'bold 36px Georgia, serif';
      ctx.fillText(name, 500, 300);

      // Name underline
      const nameWidth = ctx.measureText(name).width;
      ctx.strokeStyle = '#D4AF37';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(500 - nameWidth/2 - 20, 315);
      ctx.lineTo(500 + nameWidth/2 + 20, 315);
      ctx.stroke();

      // More body text
      ctx.fillStyle = '#2D3748';
      ctx.font = '22px Georgia, serif';
      ctx.fillText('has successfully completed the course', 500, 380);
      ctx.font = 'bold 24px Georgia, serif';
      ctx.fillText('"The Hidden Patient: IPD Meta-Analysis"', 500, 420);
      ctx.font = '18px Georgia, serif';
      ctx.fillText('demonstrating understanding of individual participant data', 500, 460);
      ctx.fillText('synthesis methods and their clinical applications.', 500, 485);

      // Date
      ctx.fillStyle = '#718096';
      ctx.font = '16px Arial, sans-serif';
      ctx.fillText(dateEl, 500, 540);

      // Seal
      ctx.fillStyle = '#D4AF37';
      ctx.beginPath();
      ctx.arc(500, 610, 40, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = 'white';
      ctx.font = 'bold 36px Arial, sans-serif';
      ctx.fillText('‚úì', 500, 625);

      // Download
      const link = document.createElement('a');
      link.download = `IPD-Certificate-${name.replace(/[^a-zA-Z0-9\s-]/g, '').replace(/\s+/g, '-')}.png`;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    // Close certificate with Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeCertificate();
      }
    });

    // Close certificate when clicking outside
    document.getElementById('certificateModal')?.addEventListener('click', (e) => {
      if (e.target.id === 'certificateModal') {
        closeCertificate();
      }
    });

    // ==================== INIT ====================
    init();
    loadTheme();
  </script>
</body>
</html>
