HTML
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Renversement des preuves : Un cours de meta-analyse</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&amp;family=Source+Sans+Pro:wght@300;400;600;700&amp;display=swap" rel="stylesheet"/>
<style>
    :root {
      --navy: #1E2761;
      --deep-navy: #141B3D;
      --gold: #D4AF37;
      --cream: #FAF8F5;
      --light-cream: #FFFFFF;
      --text: #2D3748;
      --light-text: #718096;
      --red: #C53030;
      --green: #22c55e;
      --transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    html, body {
      height: 100%;
      font-family: 'Source Sans Pro', sans-serif;
      background: var(--deep-navy);
      color: var(--cream);
    }

    /* ====== COURSE SHELL ====== */
    .course-container {
      display: flex;
      height: 100vh;
      overflow: hidden;
    }

    /* ====== SIDEBAR NAV ====== */
    .sidebar {
      width: 280px;
      background: linear-gradient(180deg, var(--deep-navy) 0%, #0a0f1a 100%);
      border-right: 1px solid rgba(212,175,55,0.2);
      display: flex;
      flex-direction: column;
      flex-shrink: 0;
    }

    .sidebar-header {
      padding: 1.5rem;
      border-bottom: 1px solid rgba(212,175,55,0.2);
    }

    .sidebar-header h1 {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--gold);
      margin-bottom: 0.25rem;
    }

    .sidebar-header p {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.6);
    }

    .module-list {
      flex: 1;
      overflow-y: auto;
      padding: 1rem 0;
    }

    .module-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      transition: all 0.2s;
      border-left: 3px solid transparent;
    }

    .module-item:hover {
      background: rgba(212,175,55,0.1);
    }

    .module-item.active {
      background: rgba(212,175,55,0.15);
      border-left-color: var(--gold);
    }

    .module-item.completed .module-number {
      background: var(--green);
      color: white;
    }

    .module-number {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 700;
      flex-shrink: 0;
    }

    .module-item.active .module-number {
      background: var(--gold);
      color: var(--navy);
    }

    .module-info {
      flex: 1;
      min-width: 0;
    }

    .module-title {
      font-size: 0.85rem;
      font-weight: 600;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .module-subtitle {
      font-size: 0.7rem;
      color: rgba(255,255,255,0.7); /* Increased for WCAG AA contrast */
    }

    .sidebar-footer {
      padding: 1rem 1.5rem;
      border-top: 1px solid rgba(212,175,55,0.2);
      font-size: 0.75rem;
      color: rgba(255,255,255,0.4);
    }

    /* ====== MAIN CONTENT ====== */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .content-header {
      padding: 1rem 2rem;
      background: rgba(0,0,0,0.3);
      border-bottom: 1px solid rgba(212,175,55,0.2);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .breadcrumb {
      font-size: 0.85rem;
      color: rgba(255,255,255,0.6);
    }

    .breadcrumb span {
      color: var(--gold);
    }

    .header-actions {
      display: flex;
      gap: 0.5rem;
    }

    .btn {
      padding: 0.5rem 1rem;
      border: 1px solid rgba(212,175,55,0.3);
      border-radius: 6px;
      background: rgba(255,255,255,0.05);
      color: var(--cream);
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn:hover {
      background: rgba(212,175,55,0.2);
      border-color: var(--gold);
    }

    .btn.primary {
      background: var(--gold);
      color: var(--navy);
      border-color: var(--gold);
      font-weight: 600;
    }

    .content-body {
      flex: 1;
      overflow: hidden;
      display: flex;
    }

    /* ====== SLIDES AREA ====== */
    .slides-container {
      flex: 1;
      position: relative;
      overflow: hidden;
    }

    .module-slides {
      display: none;
      width: 100%;
      height: 100%;
    }

    .module-slides.active {
      display: block;
    }

    .slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: flex-start; /* Changed from center - prevents content clipping */
      align-items: center;
      padding: 2rem 2rem 5rem 2rem; /* Extra bottom clearance for nav bar */
      padding-top: 3rem;
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--transition), visibility var(--transition);
      overflow-y: auto; /* Allow scrolling if content is tall */
      overflow-x: hidden;
    }

    /* Center content vertically only when there's enough space */
    .slide .content,
    .slide .refrain,
    .slide .title {
      margin-top: auto;
      margin-bottom: auto;
    }

    /* Ensure content doesn't overflow horizontally */
    .slide > * {
      max-width: 100%;
      word-wrap: break-word;
    }

    .slide.active {
      opacity: 1;
      visibility: visible;
    }

    .slide.dark { background: var(--deep-navy); color: var(--cream); }
    .slide.light { background: var(--cream); color: var(--text); }
    .slide.black { background: #000; color: var(--cream); }

    /* Typography */
    .serif { font-family: 'Cormorant Garamond', Georgia, serif; }

    .title {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(2rem, 5vw, 3.5rem);
      font-weight: 700;
      margin-bottom: 1rem;
      line-height: 1.2;
    }

    .title.navy { color: var(--navy); }
    .title.gold { color: var(--gold); }
    .title.cream { color: var(--cream); }

    .subtitle {
      font-size: clamp(1rem, 2vw, 1.5rem);
      color: var(--light-text);
      margin-bottom: 2rem;
    }

    .slide.dark .subtitle { color: rgba(255,255,255,0.7); }

    .big-number {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(4rem, 15vw, 10rem);
      font-weight: 700;
      line-height: 1;
    }

    .big-number.navy { color: var(--navy); }
    .big-number.gold { color: var(--gold); }

    .refrain {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(1.5rem, 4vw, 2.5rem);
      font-style: italic;
      color: var(--gold);
      text-align: center;
      max-width: 800px;
    }

    /* Cards */
    .card {
      background: var(--light-cream);
      border: 1px solid var(--gold);
      padding: 1.5rem 2rem;
      margin: 0.75rem 0;
      max-width: 800px;
      width: 100%;
    }

    .card.navy-bg {
      background: var(--navy);
      color: var(--cream);
    }

    .card.red-border { border: 2px solid var(--red); }

    .card-label {
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--gold);
      letter-spacing: 0.05em;
      margin-bottom: 0.5rem;
    }

    .card-text {
      font-size: clamp(0.9rem, 1.8vw, 1.1rem);
    }

    .card.navy-bg .card-text { color: var(--cream); }

    /* Stats grid */
    .stats-grid {
      display: flex;
      gap: 1rem;
      margin: 1.5rem 0;
      flex-wrap: wrap;
      justify-content: center;
    }

    .stat-box {
      background: var(--navy);
      color: var(--cream);
      padding: 1rem 1.5rem;
      text-align: center;
      min-width: 140px;
    }

    .stat-value {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(1.5rem, 3vw, 2rem);
      font-weight: 700;
    }

    .stat-label {
      font-size: 0.75rem;
      opacity: 0.8;
      margin-top: 0.25rem;
    }

    /* Design grid */
    .design-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      max-width: 900px;
      width: 100%;
    }

    @media (max-width: 768px) {
      .design-grid { grid-template-columns: repeat(2, 1fr); }
    }

    .design-item {
      background: var(--light-cream);
      border-left: 3px solid var(--gold);
      padding: 1rem;
    }

    .design-item-label {
      font-size: 0.7rem;
      font-weight: 700;
      color: var(--gold);
      margin-bottom: 0.5rem;
    }

    .design-item-value {
      font-size: 0.85rem;
      color: var(--text);
      line-height: 1.4;
    }

    /* Results table */
    .results-table {
      width: 100%;
      max-width: 700px;
      border-collapse: collapse;
      margin: 1rem 0;
    }

    .results-table th {
      background: var(--navy);
      color: var(--cream);
      padding: 0.75rem 1rem;
      text-align: left;
      font-weight: 600;
    }

    .results-table th:not(:first-child) { text-align: center; }

    .results-table td {
      padding: 0.6rem 1rem;
      border-bottom: 1px solid #E2E8F0;
    }

    .results-table td:not(:first-child) { text-align: center; }
    .results-table .highlight { color: var(--red); font-weight: 700; }

    /* Result box */
    .result-box {
      background: var(--navy);
      padding: 1rem 2rem;
      text-align: center;
      margin: 1rem 0;
      max-width: 500px;
    }

    .result-box .value {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(1.5rem, 3vw, 2rem);
      font-weight: 700;
      color: var(--gold);
    }

    .result-box .label {
      font-size: 0.9rem;
      color: var(--cream);
      margin-top: 0.25rem;
    }

    /* Lesson items */
    .lesson-item {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      margin: 0.75rem 0;
      max-width: 800px;
    }

    .lesson-number {
      background: var(--gold);
      color: var(--navy);
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      flex-shrink: 0;
    }

    .lesson-content h4 {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 0.25rem;
    }

    .lesson-content p {
      font-size: 0.9rem;
      color: var(--light-text);
    }

    /* Gold line */
    .gold-line {
      width: 150px;
      height: 2px;
      background: var(--gold);
      margin: 1.5rem auto;
    }

    /* Closing lines */
    .closing-line {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(1.2rem, 2.5vw, 1.75rem);
      margin: 0.5rem 0;
      text-align: center;
    }

    .closing-line.gold { color: var(--gold); font-weight: 700; }
    .closing-line.italic { font-style: italic; opacity: 0.9; }

    /* Focus box */
    .focus-box {
      background: var(--navy);
      padding: 1rem 2rem;
      text-align: center;
      max-width: 600px;
    }

    .focus-box .main {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 1.3rem;
      font-style: italic;
      color: var(--gold);
    }

    .focus-box .sub {
      font-size: 0.9rem;
      color: var(--cream);
      margin-top: 0.5rem;
    }

    /* Arrow */
    .arrow { color: var(--light-text); font-size: 1.2rem; margin: 0.25rem 0; }
    .footnote { font-size: 0.75rem; color: var(--light-text); font-style: italic; text-align: center; margin-top: 1rem; }
    .red { color: var(--red); }
    .text-center { text-align: center; }
    .mb-1 { margin-bottom: 1rem; }
    .mb-2 { margin-bottom: 2rem; }
    .mt-1 { margin-top: 1rem; }
    .mt-2 { margin-top: 2rem; }

    /* Content wrapper */
    .content {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 1000px;
    }

    /* Animation */
    .slide.active .animate { animation: fadeUp 0.6s ease-out forwards; }
    .slide.active .animate.delay-1 { animation-delay: 0.1s; }
    .slide.active .animate.delay-2 { animation-delay: 0.2s; }
    .slide.active .animate.delay-3 { animation-delay: 0.3s; }
    .slide.active .animate.delay-4 { animation-delay: 0.4s; }
    .slide.active .animate.delay-5 { animation-delay: 0.5s; }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate { opacity: 0; }

    /* ====== SLIDE NAV ====== */
    /* Minimal floating arrows - no background strip */
    .slide-nav {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      padding: 1rem 1rem 1.5rem 1rem;
      z-index: 100;
      pointer-events: none; /* Allow clicks through to content */
    }

    .nav-btn {
      background: rgba(0,0,0,0.5);
      border: 1px solid rgba(255,255,255,0.2);
      color: white;
      font-size: 1.25rem;
      cursor: pointer;
      opacity: 0.6;
      transition: all 0.2s;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      pointer-events: auto; /* Buttons are clickable */
    }

    .nav-btn:hover {
      opacity: 1;
      background: rgba(0,0,0,0.7);
      border-color: var(--gold);
    }
    .nav-btn:disabled { opacity: 0.2; cursor: not-allowed; }

    /* Center info (counter + progress) - compact */
    .nav-center {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      pointer-events: none; /* Don't block quiz/content clicks beneath */
    }

    .slide-counter {
      font-size: 0.75rem;
      opacity: 0.6;
    }

    .progress { display: flex; gap: 4px; }

    .progress-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: rgba(255,255,255,0.25);
      cursor: pointer;
      transition: all 0.2s;
      pointer-events: auto; /* Only dots are clickable, not the whole nav-center */
    }

    .progress-dot.active {
      background: var(--gold);
      transform: scale(1.3);
    }

    .progress-dot:hover {
      background: rgba(255,255,255,0.5);
    }

    .progress-dot:hover { background: rgba(255,255,255,0.6); }

    .slide-counter {
      color: rgba(255,255,255,0.6);
      font-size: 0.85rem;
      min-width: 50px;
      text-align: center;
    }

    /* ====== TOOLS PANEL ====== */
    .tools-panel {
      width: 380px;
      max-width: 40vw; /* Limit to 40% of viewport so content isn't squeezed too much */
      background: var(--cream);
      border-left: 1px solid rgba(0,0,0,0.1);
      display: none; /* Hidden by default */
      flex-direction: column;
      flex-shrink: 0;
      overflow-y: auto;
    }

    .tools-panel.visible {
      display: flex;
    }

    .tools-panel.collapsed {
      width: 50px;
    }

    /* Adjust slide padding when tools panel is open */
    .content-body.tools-open .slide {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }

    .content-body.tools-open .slide .content {
      max-width: 100%;
    }

    .tools-header {
      padding: 1rem;
      background: var(--navy);
      color: var(--cream);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .tools-header h3 {
      font-size: 0.9rem;
      font-weight: 600;
    }

    .tools-content {
      flex: 1;
      overflow-y: auto;
      padding: 1rem;
    }

    /* Live Story Data Panel */
    .story-data-panel {
      background: linear-gradient(135deg, #1E2761 0%, #141B3D 100%);
      border-radius: 12px;
      padding: 1rem;
      margin-bottom: 1rem;
      color: white;
    }

    .story-data-panel h4 {
      color: var(--gold);
      font-size: 0.85rem;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .story-toggle {
      display: flex;
      background: rgba(255,255,255,0.1);
      border-radius: 25px;
      padding: 4px;
      margin-bottom: 1rem;
    }

    .story-toggle button {
      flex: 1;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 20px;
      background: transparent;
      color: rgba(255,255,255,0.7);
      font-size: 0.75rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .story-toggle button.active {
      background: var(--gold);
      color: var(--navy);
    }

    .story-toggle button:hover:not(.active) {
      background: rgba(255,255,255,0.15);
      color: white;
    }

    .story-viz {
      background: rgba(255,255,255,0.05);
      border-radius: 8px;
      padding: 0.75rem;
      margin-bottom: 0.75rem;
      min-height: 200px;
      transition: all 0.5s ease;
    }

    .story-viz svg {
      transition: all 0.5s ease;
    }

    .story-metrics {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.5rem;
    }

    .story-metric {
      background: rgba(255,255,255,0.1);
      border-radius: 8px;
      padding: 0.75rem;
      text-align: center;
      transition: all 0.3s ease;
    }

    .story-metric.highlight-good {
      background: rgba(34, 197, 94, 0.3);
      border: 1px solid rgba(34, 197, 94, 0.5);
    }

    .story-metric.highlight-bad {
      background: rgba(197, 48, 48, 0.3);
      border: 1px solid rgba(197, 48, 48, 0.5);
    }

    .story-metric .value {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--gold);
    }

    .story-metric .label {
      font-size: 0.65rem;
      color: rgba(255,255,255,0.7);
      margin-top: 0.25rem;
    }

    .story-insight {
      background: rgba(212,175,55,0.2);
      border-left: 3px solid var(--gold);
      padding: 0.75rem;
      border-radius: 0 8px 8px 0;
      margin-top: 0.75rem;
      font-size: 0.75rem;
      line-height: 1.5;
    }

    /* ====== PREDICT FIRST INTERFACE ====== */
    .predict-first-panel {
      background: linear-gradient(135deg, rgba(212,175,55,0.2), rgba(30,39,97,0.3));
      border: 1px solid var(--gold);
      border-radius: 12px;
      padding: 1.25rem;
      text-align: center;
      margin-top: 0.5rem;
    }

    .predict-first-panel .predict-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .predict-first-panel h4 {
      color: var(--gold);
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
    }

    .predict-first-panel p {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.9);
      line-height: 1.4;
    }

    .predict-buttons {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-top: 1rem;
    }

    .predict-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.75rem 1rem;
      border: 2px solid;
      border-radius: 8px;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      background: rgba(0,0,0,0.2);
    }

    .predict-btn.benefit {
      border-color: #22c55e;
      color: #22c55e;
    }

    .predict-btn.benefit:hover {
      background: rgba(34,197,94,0.2);
    }

    .predict-btn.neutral {
      border-color: #94a3b8;
      color: #94a3b8;
    }

    .predict-btn.neutral:hover {
      background: rgba(148,163,184,0.2);
    }

    .predict-btn.harm {
      border-color: #ef4444;
      color: #ef4444;
    }

    .predict-btn.harm:hover {
      background: rgba(239,68,68,0.2);
    }

    .predict-icon-small {
      font-size: 1rem;
    }

    /* Prediction Feedback */
    .prediction-feedback {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      border-radius: 6px;
      font-size: 0.75rem;
      margin-bottom: 0.5rem;
    }

    .prediction-feedback.correct {
      background: rgba(34,197,94,0.2);
      border: 1px solid #22c55e;
      color: #22c55e;
    }

    .prediction-feedback.incorrect {
      background: rgba(239,68,68,0.15);
      border: 1px solid #ef4444;
      color: #fca5a5;
    }

    .feedback-icon {
      font-size: 1rem;
    }

    /* ====== PROGRESS DASHBOARD ====== */
    .progress-dashboard {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.85);
      backdrop-filter: blur(5px);
      z-index: 2000;
      display: none;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .progress-dashboard.open {
      display: flex;
    }

    .dashboard-content {
      background: linear-gradient(135deg, var(--deep-navy), #0a0f1a);
      border: 1px solid var(--gold);
      border-radius: 16px;
      max-width: 500px;
      width: 100%;
      max-height: 85vh;
      overflow-y: auto;
      padding: 1.5rem;
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid rgba(212,175,55,0.3);
    }

    .dashboard-header h2 {
      font-family: 'Cormorant Garamond', serif;
      color: var(--gold);
      font-size: 1.3rem;
    }

    .dashboard-close {
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      opacity: 0.7;
    }

    .dashboard-close:hover { opacity: 1; }

    .level-display {
      background: linear-gradient(135deg, rgba(212,175,55,0.2), rgba(212,175,55,0.05));
      border-radius: 12px;
      padding: 1rem;
      text-align: center;
      margin-bottom: 1rem;
    }

    .level-badge {
      display: inline-block;
      background: var(--gold);
      color: var(--navy);
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-weight: 700;
      font-size: 0.8rem;
      margin-bottom: 0.5rem;
    }

    .points-display {
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--gold);
    }

    .points-label {
      font-size: 0.7rem;
      color: rgba(255,255,255,0.6);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .stat-card {
      background: rgba(255,255,255,0.05);
      border-radius: 8px;
      padding: 0.75rem;
      text-align: center;
    }

    .stat-value {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--gold);
    }

    .stat-label {
      font-size: 0.65rem;
      color: rgba(255,255,255,0.6);
      margin-top: 0.25rem;
    }

    .principles-section h3, .badges-section h3, .streak-section h3 {
      font-family: 'Cormorant Garamond', serif;
      color: var(--gold);
      font-size: 1rem;
      margin-bottom: 0.5rem;
    }

    .principle-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.4rem;
      background: rgba(255,255,255,0.03);
      border-radius: 6px;
      margin-bottom: 0.35rem;
    }

    .principle-num {
      width: 20px;
      height: 20px;
      background: rgba(212,175,55,0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.65rem;
      color: var(--gold);
      flex-shrink: 0;
    }

    .principle-num.mastered {
      background: var(--gold);
      color: var(--navy);
    }

    .principle-text {
      flex: 1;
      font-size: 0.7rem;
      color: rgba(255,255,255,0.8);
    }

    .badges-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .badge {
      width: 44px;
      height: 44px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.25rem;
      background: rgba(255,255,255,0.05);
      border: 2px solid rgba(255,255,255,0.1);
      opacity: 0.3;
      position: relative;
    }

    .badge.earned {
      opacity: 1;
      background: rgba(212,175,55,0.2);
      border-color: var(--gold);
    }

    .badge-tooltip {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: var(--navy);
      color: white;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.6rem;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s;
    }

    .badge:hover .badge-tooltip {
      opacity: 1;
    }

    .streak-display {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      background: rgba(255,255,255,0.05);
      border-radius: 8px;
      padding: 0.75rem;
    }

    .streak-flame { font-size: 2rem; }

    .streak-count {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--gold);
    }

    .streak-label {
      font-size: 0.7rem;
      color: rgba(255,255,255,0.6);
    }

    .dashboard-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      width: 100%;
      padding: 0.6rem 0.75rem;
      background: linear-gradient(135deg, rgba(212,175,55,0.15), rgba(212,175,55,0.05));
      border: 1px solid rgba(212,175,55,0.3);
      border-radius: 6px;
      color: var(--gold);
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
      margin-bottom: 0.5rem;
    }

    .dashboard-btn:hover {
      background: linear-gradient(135deg, rgba(212,175,55,0.25), rgba(212,175,55,0.1));
      border-color: var(--gold);
    }

    /* ====== DAILY REVIEW MODAL ====== */
    .daily-review-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.85);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 2000;
      padding: 1rem;
    }

    .daily-review-modal.open {
      display: flex;
    }

    .daily-review-content {
      background: linear-gradient(135deg, var(--deep-navy), #0a0f1a);
      border: 2px solid var(--gold);
      border-radius: 16px;
      max-width: 500px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      padding: 1.5rem;
    }

    .daily-review-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid rgba(212,175,55,0.3);
    }

    .daily-review-header h2 {
      font-family: 'Cormorant Garamond', serif;
      color: var(--gold);
      font-size: 1.5rem;
      margin: 0;
    }

    .daily-review-close {
      background: none;
      border: none;
      color: rgba(255,255,255,0.6);
      font-size: 1.5rem;
      cursor: pointer;
      transition: color 0.2s;
    }

    .daily-review-close:hover {
      color: white;
    }

    .review-timer {
      text-align: center;
      margin-bottom: 1rem;
    }

    .timer-display {
      font-size: 2rem;
      font-family: 'Cormorant Garamond', serif;
      color: var(--gold);
    }

    .timer-label {
      font-size: 0.75rem;
      color: rgba(255,255,255,0.6);
    }

    .review-progress {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .progress-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      transition: all 0.3s;
    }

    .progress-dot.current {
      background: var(--gold);
      transform: scale(1.2);
    }

    .progress-dot.completed {
      background: #22c55e;
    }

    .review-card {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(212,175,55,0.2);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1rem;
      text-align: center;
    }

    .review-principle-num {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      background: rgba(212,175,55,0.2);
      border-radius: 50%;
      color: var(--gold);
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }

    .review-principle-text {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.25rem;
      color: var(--cream);
      font-style: italic;
      margin-bottom: 1rem;
    }

    .review-question {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.8);
      margin-bottom: 1rem;
    }

    .review-options {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .review-option {
      padding: 0.75rem 1rem;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 8px;
      color: white;
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
      font-size: 0.85rem;
    }

    .review-option:hover {
      background: rgba(212,175,55,0.15);
      border-color: var(--gold);
    }

    .review-option.correct {
      background: rgba(34,197,94,0.2);
      border-color: #22c55e;
    }

    .review-option.incorrect {
      background: rgba(239,68,68,0.2);
      border-color: #ef4444;
    }

    .review-option.selected {
      border-width: 2px;
    }

    .review-feedback {
      margin-top: 1rem;
      padding: 0.75rem;
      border-radius: 8px;
      font-size: 0.85rem;
    }

    .review-feedback.correct {
      background: rgba(34,197,94,0.15);
      border: 1px solid rgba(34,197,94,0.3);
      color: #86efac;
    }

    .review-feedback.incorrect {
      background: rgba(239,68,68,0.15);
      border: 1px solid rgba(239,68,68,0.3);
      color: #fca5a5;
    }

    .review-actions {
      display: flex;
      gap: 0.75rem;
      justify-content: center;
      margin-top: 1rem;
    }

    .review-btn {
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .review-btn.skip {
      background: transparent;
      border: 1px solid rgba(255,255,255,0.3);
      color: rgba(255,255,255,0.6);
    }

    .review-btn.skip:hover {
      border-color: rgba(255,255,255,0.5);
      color: white;
    }

    .review-btn.next {
      background: var(--gold);
      border: none;
      color: var(--navy);
      font-weight: 600;
    }

    .review-btn.next:hover {
      background: #e6c94a;
    }

    .review-summary {
      text-align: center;
    }

    .summary-score {
      font-size: 3rem;
      font-family: 'Cormorant Garamond', serif;
      color: var(--gold);
    }

    .summary-text {
      color: rgba(255,255,255,0.8);
      margin-bottom: 1rem;
    }

    .summary-breakdown {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin: 1rem 0;
    }

    .summary-stat {
      text-align: center;
    }

    .summary-stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }

    .summary-stat-value.correct-val { color: #22c55e; }
    .summary-stat-value.incorrect-val { color: #ef4444; }

    .summary-stat-label {
      font-size: 0.75rem;
      color: rgba(255,255,255,0.6);
    }

    .review-streak-bonus {
      margin-top: 1rem;
      padding: 0.75rem;
      background: rgba(212,175,55,0.15);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .review-streak-bonus .flame { font-size: 1.5rem; }
    .review-streak-bonus .text { color: var(--gold); font-size: 0.9rem; }

    .daily-review-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      width: 100%;
      padding: 0.5rem 0.75rem;
      background: linear-gradient(135deg, rgba(34,197,94,0.15), rgba(34,197,94,0.05));
      border: 1px solid rgba(34,197,94,0.3);
      border-radius: 6px;
      color: #86efac;
      font-size: 0.7rem;
      cursor: pointer;
      transition: all 0.2s;
      margin-bottom: 0.75rem;
    }

    .daily-review-btn:hover {
      background: linear-gradient(135deg, rgba(34,197,94,0.25), rgba(34,197,94,0.1));
      border-color: #22c55e;
    }

    .daily-review-btn.pending {
      animation: gentlePulse 2s infinite;
    }

    @keyframes gentlePulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(34,197,94,0.3); }
      50% { box-shadow: 0 0 0 6px rgba(34,197,94,0); }
    }

    /* ====== BRANCHING SCENARIOS ====== */
    .scenario-panel {
      background: linear-gradient(135deg, rgba(124,58,237,0.1), rgba(30,39,97,0.2));
      border: 2px solid rgba(124,58,237,0.4);
      border-radius: 16px;
      padding: 1.5rem;
      margin: 1.5rem 0;
    }

    .scenario-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .scenario-icon { font-size: 1.5rem; }
    .scenario-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.1rem;
      color: #7C3AED;
      font-weight: 600;
    }

    .scenario-situation {
      background: rgba(255,255,255,0.9);
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 1rem;
      font-size: 0.95rem;
      line-height: 1.6;
      color: var(--navy);
    }

    .scenario-question {
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--navy);
    }

    .scenario-choices {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .scenario-choice {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      background: rgba(255,255,255,0.8);
      border: 2px solid rgba(124,58,237,0.2);
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .scenario-choice:hover:not(.answered) { background: rgba(124,58,237,0.1); border-color: rgba(124,58,237,0.5); }
    .scenario-choice.selected { border-color: #7C3AED; background: rgba(124,58,237,0.15); }
    .scenario-choice.correct { border-color: #22c55e; background: rgba(34,197,94,0.15); }
    .scenario-choice.incorrect { border-color: #ef4444; background: rgba(239,68,68,0.1); }

    .choice-letter {
      min-width: 24px; height: 24px; border-radius: 50%;
      background: rgba(124,58,237,0.2); color: #7C3AED;
      display: flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: 0.8rem;
    }
    .scenario-choice.correct .choice-letter { background: #22c55e; color: white; }
    .scenario-choice.incorrect .choice-letter { background: #ef4444; color: white; }
    .choice-text { flex: 1; font-size: 0.9rem; color: var(--navy); }

    .scenario-consequence {
      margin-top: 1rem; padding: 1rem; border-radius: 10px; display: none;
    }
    .scenario-consequence.visible { display: block; }
    .scenario-consequence.good { background: rgba(34,197,94,0.15); border: 1px solid rgba(34,197,94,0.3); }
    .scenario-consequence.bad { background: rgba(239,68,68,0.1); border: 1px solid rgba(239,68,68,0.3); }
    .scenario-consequence.neutral { background: rgba(217,119,6,0.1); border: 1px solid rgba(217,119,6,0.3); }

    .consequence-title { font-weight: 700; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }
    .scenario-consequence.good .consequence-title { color: #059669; }
    .scenario-consequence.bad .consequence-title { color: #dc2626; }
    .scenario-consequence.neutral .consequence-title { color: #d97706; }
    .consequence-text { font-size: 0.9rem; line-height: 1.5; }
    .consequence-lesson { margin-top: 0.75rem; padding-top: 0.75rem; border-top: 1px dashed currentColor; font-style: italic; opacity: 0.9; }

    /* ====== CONFIDENCE CALIBRATION ====== */
    .confidence-section {
      margin-top: 1rem; padding: 0.75rem;
      background: rgba(212,175,55,0.1); border-radius: 8px; border: 1px solid rgba(212,175,55,0.3);
    }
    .confidence-label { font-size: 0.8rem; color: var(--gold); margin-bottom: 0.5rem; }
    .confidence-slider-container { display: flex; align-items: center; gap: 0.75rem; }
    .confidence-slider {
      flex: 1; -webkit-appearance: none; height: 6px; border-radius: 3px;
      background: linear-gradient(to right, #ef4444, #eab308, #22c55e); outline: none;
    }
    .confidence-slider::-webkit-slider-thumb {
      -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%;
      background: white; border: 2px solid var(--gold); cursor: pointer;
    }
    .confidence-value { min-width: 45px; font-size: 0.85rem; font-weight: 700; color: var(--gold); }
    .confidence-labels { display: flex; justify-content: space-between; font-size: 0.65rem; color: rgba(255,255,255,0.6); margin-top: 0.25rem; }

    /* ====== ANALOGY SYSTEM ====== */
    .analogy-card {
      background: linear-gradient(135deg, rgba(212,175,55,0.15), rgba(30,39,97,0.1));
      border: 1px solid rgba(212,175,55,0.4);
      border-radius: 12px;
      padding: 1rem;
      margin: 1rem 0;
    }
    .analogy-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; }
    .analogy-icon { font-size: 1.25rem; }
    .analogy-title { font-weight: 600; color: var(--gold); font-size: 0.9rem; }
    .analogy-concept { font-size: 0.75rem; color: rgba(255,255,255,0.6); }
    .analogy-text { font-size: 0.9rem; line-height: 1.5; font-style: italic; }

    /* ====== MISCONCEPTION CHALLENGE ====== */
    .misconception-challenge {
      background: linear-gradient(135deg, rgba(239,68,68,0.08), rgba(30,39,97,0.12));
      border: 2px solid rgba(239,68,68,0.25);
      border-radius: 12px;
      padding: 1.25rem;
      margin: 1rem 0;
    }
    .misconception-header { display: flex; align-items: center; gap: 0.5rem; font-weight: 600; color: #dc2626; margin-bottom: 0.75rem; }
    .misconception-statement {
      font-size: 1rem; font-style: italic; color: var(--navy);
      margin-bottom: 1rem; padding: 0.75rem; background: rgba(255,255,255,0.85); border-radius: 8px;
    }
    .misconception-buttons { display: flex; gap: 0.75rem; justify-content: center; }
    .misconception-btn {
      padding: 0.6rem 1.5rem; border-radius: 8px; font-weight: 600;
      cursor: pointer; transition: all 0.2s; border: 2px solid;
    }
    .misconception-btn.true-btn { background: rgba(34,197,94,0.1); border-color: #22c55e; color: #059669; }
    .misconception-btn.false-btn { background: rgba(239,68,68,0.1); border-color: #ef4444; color: #dc2626; }
    .misconception-btn:hover { transform: scale(1.05); }
    .misconception-btn.correct { background: #22c55e; color: white; border-color: #22c55e; }
    .misconception-btn.wrong { background: #ef4444; color: white; border-color: #ef4444; }
    .misconception-result { margin-top: 1rem; padding: 0.75rem; border-radius: 8px; display: none; }
    .misconception-result.visible { display: block; }
    .misconception-result.correct { background: rgba(34,197,94,0.15); color: #059669; }
    .misconception-result.incorrect { background: rgba(239,68,68,0.1); color: #dc2626; }

    /* ====== PRACTICE PROBLEMS ====== */
    .practice-problem {
      background: linear-gradient(135deg, rgba(15,91,106,0.08), rgba(30,39,97,0.12));
      border: 2px solid rgba(15,91,106,0.3);
      border-radius: 16px;
      padding: 1.5rem;
      margin: 1.5rem 0;
    }
    .practice-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    .practice-category {
      background: rgba(15,91,106,0.2);
      color: #0f5b6a;
      padding: 0.25rem 0.75rem;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    .practice-title {
      font-weight: 700;
      color: var(--navy);
      font-size: 1.1rem;
    }
    .practice-scenario {
      background: rgba(255,255,255,0.9);
      padding: 1rem;
      border-radius: 10px;
      font-size: 0.95rem;
      line-height: 1.6;
      color: var(--text);
      margin-bottom: 1rem;
    }
    .practice-question {
      color: var(--navy);
      font-size: 1rem;
      margin-bottom: 1rem;
    }
    .practice-options {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .practice-option {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      background: rgba(255,255,255,0.95);
      border: 2px solid rgba(30,39,97,0.15);
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
      font-family: inherit;
      font-size: 0.9rem;
    }
    .practice-option:hover:not(:disabled) {
      border-color: var(--navy);
      transform: translateX(4px);
    }
    .practice-option .option-letter {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--navy);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.8rem;
      flex-shrink: 0;
    }
    .practice-option.correct {
      border-color: #22c55e;
      background: rgba(34,197,94,0.1);
    }
    .practice-option.correct .option-letter {
      background: #22c55e;
    }
    .practice-option.incorrect {
      border-color: #ef4444;
      background: rgba(239,68,68,0.08);
    }
    .practice-option.incorrect .option-letter {
      background: #ef4444;
    }
    .practice-option:disabled {
      cursor: default;
      opacity: 0.8;
    }
    .practice-feedback {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 10px;
      display: none;
      line-height: 1.6;
    }
    .practice-feedback.visible {
      display: block;
    }
    .practice-feedback.correct {
      background: rgba(34,197,94,0.12);
      border: 1px solid rgba(34,197,94,0.3);
      color: #047857;
    }
    .practice-feedback.incorrect {
      background: rgba(239,68,68,0.08);
      border: 1px solid rgba(239,68,68,0.2);
      color: #b91c1c;
    }
    .practice-feedback p {
      margin: 0.5rem 0;
    }
    .practice-feedback .principle-link {
      margin-top: 0.75rem;
      padding-top: 0.75rem;
      border-top: 1px solid rgba(0,0,0,0.1);
      font-size: 0.85rem;
      color: var(--navy);
    }

    .story-insight strong {
      color: var(--gold);
    }

    .no-story-data {
      text-align: center;
      padding: 2rem 1rem;
      color: rgba(255,255,255,0.5);
      font-size: 0.8rem;
    }

    @keyframes pulseGold {
      0%, 100% { box-shadow: 0 0 0 0 rgba(212,175,55,0.4); }
      50% { box-shadow: 0 0 0 10px rgba(212,175,55,0); }
    }

    .story-data-panel.updating {
      animation: pulseGold 0.5s ease;
    }

    .tool-section {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      margin-bottom: 1rem;
      overflow: hidden;
    }

    .tool-section-header {
      padding: 0.75rem 1rem;
      background: #f7fafc;
      border-bottom: 1px solid #e2e8f0;
      font-weight: 600;
      font-size: 0.85rem;
      color: var(--navy);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .tool-section-body {
      padding: 1rem;
    }

    .form-group {
      margin-bottom: 1rem;
    }

    .form-group label {
      display: block;
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 0.25rem;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #e2e8f0;
      border-radius: 4px;
      font-size: 0.85rem;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--gold);
      box-shadow: 0 0 0 3px rgba(212,175,55,0.2);
    }

    .btn-small {
      padding: 0.4rem 0.8rem;
      font-size: 0.75rem;
      border-radius: 4px;
      cursor: pointer;
      border: 1px solid #e2e8f0;
      background: white;
      color: var(--text);
    }

    .btn-small.primary {
      background: var(--navy);
      color: white;
      border-color: var(--navy);
    }

    /* Study input table */
    .study-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.75rem;
      margin-bottom: 0.5rem;
    }

    .study-table th,
    .study-table td {
      padding: 0.4rem;
      border: 1px solid #e2e8f0;
      text-align: center;
    }

    .study-table th {
      background: #f7fafc;
      font-weight: 600;
    }

    .study-table input {
      width: 100%;
      padding: 0.25rem;
      border: 1px solid #e2e8f0;
      border-radius: 2px;
      font-size: 0.75rem;
      text-align: center;
    }

    /* Results display */
    .results-display {
      background: #f7fafc;
      border-radius: 6px;
      padding: 1rem;
      margin-top: 1rem;
    }

    .result-row {
      display: flex;
      justify-content: space-between;
      padding: 0.4rem 0;
      font-size: 0.8rem;
      border-bottom: 1px solid #e2e8f0;
    }

    .result-row:last-child { border-bottom: none; }
    .result-row .label { color: var(--light-text); }
    .result-row .value { font-weight: 600; color: var(--navy); }

    /* Forest plot container */
    .forest-plot-container {
      margin-top: 1rem;
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      padding: 1rem;
      overflow-x: auto;
    }

    /* Hide tools panel on small screens */
    @media (max-width: 1200px) {
      .tools-panel { display: none; }
      .sidebar { width: 60px; }
      .sidebar .module-info,
      .sidebar .sidebar-header p,
      .sidebar .sidebar-footer { display: none; }
      .sidebar .sidebar-header h1 { font-size: 1rem; }
    }

    /* Leap badge */
    .leap-badge {
      background: var(--red);
      color: white;
      padding: 0.5rem 1rem;
      font-size: 0.85rem;
      font-weight: 700;
      position: absolute;
      right: -10px;
      top: 50%;
      transform: translateY(-50%);
    }

    .card-wrapper {
      position: relative;
      max-width: 800px;
      width: 100%;
    }

    /* Wrong items */
    .wrong-item {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      background: var(--light-cream);
      padding: 1rem;
      margin: 0.5rem 0;
      max-width: 800px;
      width: 100%;
    }

    .wrong-number {
      background: var(--navy);
      color: var(--cream);
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.85rem;
      font-weight: 700;
      flex-shrink: 0;
    }

    /* Quiz styles */
    .quiz-container {
      max-width: 700px;
      width: 100%;
    }

    .quiz-question {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 1.5rem;
      margin: 1rem 0;
    }

    .quiz-question h4 {
      font-size: 1rem;
      color: var(--navy);
      margin-bottom: 1rem;
    }

    .quiz-options {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .quiz-option {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      /* Accessibility: make focusable for keyboard nav */
      padding: 0.75rem 1rem;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .quiz-option:hover {
      background: #f7fafc;
      border-color: var(--gold);
    }

    .quiz-option.selected {
      background: rgba(212,175,55,0.1);
      border-color: var(--gold);
    }

    .quiz-option.correct {
      background: rgba(34,197,94,0.1);
      border-color: var(--green);
    }

    .quiz-option.incorrect {
      background: rgba(197,48,48,0.1);
      border-color: var(--red);
    }

    /* RoB Domain Styles */
    .rob-domains {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .rob-domain {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .rob-domain label {
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--text);
    }

    .rob-domain select {
      padding: 0.4rem;
      border: 1px solid #e2e8f0;
      border-radius: 4px;
      font-size: 0.8rem;
    }

    /* GRADE factor styles */
    .grade-factors .form-group label {
      font-size: 0.75rem;
      color: var(--text);
    }

    .grade-factors select {
      font-size: 0.75rem;
    }

    /* Red text utility */
    .result-row .value.red {
      color: var(--red);
      font-weight: 700;
    }

    /* Interactive Investigation Exercises */
    .investigation-box {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      border: 2px solid var(--gold);
      border-radius: 12px;
      padding: 1.5rem;
      max-width: 900px;
      width: 100%;
      margin: 1rem 0;
    }

    .investigation-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1rem;
      color: var(--gold);
    }

    .investigation-header .icon {
      font-size: 1.5rem;
    }

    .investigation-header h3 {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 1.3rem;
      font-weight: 600;
      margin: 0;
    }

    .investigation-prompt {
      font-style: italic;
      color: rgba(255,255,255,0.8);
      margin-bottom: 1rem;
      font-size: 1.05rem;
      line-height: 1.5;
    }

    .data-table-investigation {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      font-size: 0.85rem;
    }

    .data-table-investigation th,
    .data-table-investigation td {
      padding: 0.5rem 0.75rem;
      border: 1px solid rgba(212,175,55,0.3);
      text-align: center;
      color: var(--cream);
    }

    .data-table-investigation th {
      background: rgba(212,175,55,0.2);
      color: var(--gold);
      font-weight: 600;
    }

    .data-table-investigation tr:nth-child(even) {
      background: rgba(255,255,255,0.05);
    }

    .reveal-btn {
      background: var(--gold);
      color: var(--navy);
      border: none;
      padding: 0.75rem 1.5rem;
      font-size: 0.9rem;
      font-weight: 600;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 1rem;
      transition: all 0.2s;
    }

    .reveal-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(212,175,55,0.3);
    }

    .hidden-reveal {
      display: none;
      margin-top: 1rem;
      padding: 1rem;
      background: rgba(197,48,48,0.1);
      border-left: 3px solid var(--red);
      color: var(--cream);
    }

    .hidden-reveal.visible {
      display: block;
      animation: fadeUp 0.4s ease-out;
    }

    .comparison-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin: 1rem 0;
    }

    .comparison-panel {
      background: rgba(255,255,255,0.05);
      border-radius: 8px;
      padding: 1rem;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .comparison-panel h4 {
      color: var(--gold);
      margin-bottom: 0.75rem;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .comparison-panel.after {
      border-color: var(--red);
    }

    .comparison-panel.after h4 {
      color: var(--red);
    }

    /* Rhetorical question styling */
    .rhetorical {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(1.3rem, 3vw, 1.8rem);
      font-style: italic;
      color: rgba(255,255,255,0.9);
      text-align: center;
      max-width: 700px;
      margin: 1rem 0;
    }

    /* Direct address styling */
    .direct-address {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 1.2rem;
      color: var(--gold);
      border-left: 3px solid var(--gold);
      padding-left: 1rem;
      margin: 1rem 0;
      font-style: italic;
    }

    /* Mini forest plot for exercises */
    .mini-forest {
      background: white;
      border-radius: 8px;
      padding: 0.75rem;
      margin-top: 0.5rem;
    }

    /* ============================================================
       ACCESSIBILITY IMPROVEMENTS
       ============================================================ */

    /* Focus states for keyboard navigation */
    *:focus {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
    }

    *:focus:not(:focus-visible) {
      outline: none;
    }

    *:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
    }

    .quiz-option:focus-visible,
    .btn:focus-visible,
    .module-item:focus-visible,
    .nav-btn:focus-visible {
      outline: 3px solid var(--gold);
      outline-offset: 2px;
    }

    /* Skip to content link */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--gold);
      color: var(--navy);
      padding: 8px 16px;
      z-index: 1000;
      font-weight: 600;
      text-decoration: none;
      border-radius: 0 0 4px 0;
    }

    .skip-link:focus {
      top: 0;
    }

    /* Screen reader only text */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* Improved color contrast for accessibility */
    .light-text-accessible {
      color: #a0aec0; /* Lighter for better contrast on dark */
    }

    /* ============================================================
       MOBILE RESPONSIVE (< 768px)
       ============================================================ */

    .mobile-menu-btn {
      display: none;
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 1001;
      background: var(--gold);
      color: var(--navy);
      border: none;
      border-radius: 6px;
      padding: 0.5rem 0.75rem;
      font-size: 1.2rem;
      cursor: pointer;
    }

    @media (max-width: 768px) {
      .mobile-menu-btn {
        display: block;
      }

      .sidebar {
        position: fixed;
        left: -280px;
        top: 0;
        height: 100vh;
        z-index: 1000;
        transition: left 0.3s ease;
      }

      .sidebar.open {
        left: 0;
      }

      .sidebar-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.5);
        z-index: 999;
      }

      .sidebar-overlay.open {
        display: block;
      }

      .content-header {
        padding-left: 4rem;
      }

      .tools-panel {
        width: 100%;
        right: -100%;
      }

      .tools-panel.open {
        right: 0;
      }

      .slide .content {
        padding: 1rem;
      }

      .stats-grid {
        grid-template-columns: 1fr;
        gap: 0.5rem;
      }
    }

    /* ============================================================
       GLOSSARY PANEL
       ============================================================ */

    .glossary-btn {
      position: fixed;
      bottom: 1rem;
      left: 1rem;
      background: var(--navy);
      color: var(--gold);
      border: 2px solid var(--gold);
      border-radius: 50%;
      width: 48px;
      height: 48px;
      font-size: 1.2rem;
      cursor: pointer;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .glossary-btn:hover {
      background: var(--gold);
      color: var(--navy);
    }

    /* Story Data Indicator Button */
    .story-indicator-btn {
      position: fixed;
      bottom: 1rem;
      right: 1rem;
      background: linear-gradient(135deg, #1E2761 0%, #141B3D 100%);
      color: var(--gold);
      border: 2px solid var(--gold);
      border-radius: 25px;
      padding: 0.5rem 1rem;
      font-size: 0.8rem;
      font-weight: 600;
      cursor: pointer;
      z-index: 100;
      display: none;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    }

    .story-indicator-btn.visible {
      display: flex;
    }

    .story-indicator-btn:hover {
      background: var(--gold);
      color: var(--navy);
      transform: translateY(-2px);
    }

    .story-indicator-btn.pulse {
      animation: pulseBtn 2s infinite;
    }

    @keyframes pulseBtn {
      0%, 100% { box-shadow: 0 4px 15px rgba(0,0,0,0.3), 0 0 0 0 rgba(212,175,55,0.4); }
      50% { box-shadow: 0 4px 15px rgba(0,0,0,0.3), 0 0 0 8px rgba(212,175,55,0); }
    }

    .story-indicator-dot {
      width: 8px;
      height: 8px;
      background: #22c55e;
      border-radius: 50%;
      animation: blink 1.5s infinite;
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    .glossary-panel {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 0;
      background: var(--deep-navy);
      border-top: 2px solid var(--gold);
      z-index: 999;
      overflow: hidden;
      transition: height 0.3s ease;
    }

    .glossary-panel.open {
      height: 50vh;
    }

    .glossary-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.5rem;
      border-bottom: 1px solid rgba(212,175,55,0.2);
    }

    .glossary-header h3 {
      color: var(--gold);
      font-family: 'Cormorant Garamond', serif;
    }

    .glossary-close {
      background: none;
      border: none;
      color: var(--cream);
      font-size: 1.5rem;
      cursor: pointer;
    }

    .glossary-search {
      padding: 0.75rem 1.5rem;
      border-bottom: 1px solid rgba(212,175,55,0.2);
    }

    .glossary-search input {
      width: 100%;
      padding: 0.5rem 1rem;
      border: 1px solid rgba(212,175,55,0.3);
      border-radius: 6px;
      background: rgba(255,255,255,0.05);
      color: var(--cream);
      font-size: 0.9rem;
    }

    .glossary-content {
      padding: 1rem 1.5rem;
      overflow-y: auto;
      height: calc(50vh - 120px);
    }

    .glossary-term {
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .glossary-term dt {
      color: var(--gold);
      font-weight: 600;
      font-size: 1rem;
      margin-bottom: 0.25rem;
    }

    .glossary-term dd {
      color: rgba(255,255,255,0.8);
      font-size: 0.9rem;
      line-height: 1.5;
    }

    /* ============================================================
       KEYBOARD SHORTCUTS HELP
       ============================================================ */

    .keyboard-help {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--deep-navy);
      border: 2px solid var(--gold);
      border-radius: 12px;
      padding: 2rem;
      z-index: 1001;
      display: none;
      min-width: 300px;
      max-width: 90vw;
    }

    .keyboard-help.open {
      display: block;
    }

    .keyboard-help h3 {
      color: var(--gold);
      font-family: 'Cormorant Garamond', serif;
      margin-bottom: 1rem;
      text-align: center;
    }

    .keyboard-help-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem 0;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .keyboard-help-key {
      background: rgba(255,255,255,0.1);
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.85rem;
    }

    /* ============================================================
       LEARNING OBJECTIVES BOX
       ============================================================ */

    .learning-objectives {
      background: rgba(212,175,55,0.1);
      border: 1px solid var(--gold);
      border-radius: 8px;
      padding: 1rem 1.5rem;
      margin: 1rem 0;
      max-width: 700px;
    }

    .learning-objectives h4 {
      color: var(--gold);
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.1rem;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .learning-objectives ul {
      margin: 0;
      padding-left: 1.25rem;
    }

    .learning-objectives li {
      margin-bottom: 0.5rem;
      font-size: 0.95rem;
      line-height: 1.4;
    }

    /* ============================================================
       DECISION TREE STORIES (Quranic Storytelling)
       ============================================================ */

    .story-box {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      border: 2px solid var(--gold);
      border-radius: 16px;
      padding: 2rem;
      max-width: 900px;
      width: 100%;
      margin: 1rem 0;
    }

    .story-opener {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(1.4rem, 3vw, 2rem);
      font-style: italic;
      color: var(--gold);
      text-align: center;
      margin-bottom: 1.5rem;
      line-height: 1.4;
    }

    .story-opener::before {
      content: '"';
      font-size: 1.5em;
      opacity: 0.5;
    }

    .story-opener::after {
      content: '"';
      font-size: 1.5em;
      opacity: 0.5;
    }

    .real-data-box {
      background: rgba(255,255,255,0.05);
      border-left: 4px solid #3b82f6;
      padding: 1rem 1.5rem;
      margin: 1.5rem 0;
      border-radius: 0 8px 8px 0;
    }

    .real-data-box h4 {
      color: #60a5fa;
      font-size: 0.8rem;
      font-weight: 700;
      letter-spacing: 0.1em;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .real-data-box h4::before {
      content: '';
    }

    .real-data-box p {
      color: var(--cream);
      font-size: 0.95rem;
      line-height: 1.6;
    }

    .real-data-box .data-highlight {
      color: var(--gold);
      font-weight: 700;
    }

    .decision-tree {
      background: rgba(212,175,55,0.1);
      border: 1px solid rgba(212,175,55,0.3);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1.5rem 0;
    }

    .decision-tree-header {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 1.2rem;
      color: var(--gold);
      margin-bottom: 1rem;
      text-align: center;
      font-weight: 600;
    }

    .decision-scenario {
      background: rgba(0,0,0,0.3);
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      font-style: italic;
      color: rgba(255,255,255,0.9);
      text-align: center;
    }

    .decision-paths {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-top: 1rem;
    }

    @media (max-width: 768px) {
      .decision-paths {
        grid-template-columns: 1fr;
      }
    }

    .decision-path {
      padding: 1.25rem;
      border-radius: 8px;
      position: relative;
    }

    .decision-path.path-a {
      background: rgba(197, 48, 48, 0.15);
      border: 2px solid rgba(197, 48, 48, 0.5);
    }

    .decision-path.path-b {
      background: rgba(34, 197, 94, 0.15);
      border: 2px solid rgba(34, 197, 94, 0.5);
    }

    .path-label {
      font-weight: 700;
      font-size: 0.85rem;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .decision-path.path-a .path-label {
      color: #f87171;
    }

    .decision-path.path-b .path-label {
      color: #4ade80;
    }

    .path-choice {
      font-size: 0.95rem;
      color: var(--cream);
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    .path-arrow {
      color: rgba(255,255,255,0.5);
      text-align: center;
      margin: 0.5rem 0;
      font-size: 1.2rem;
    }

    .path-consequence {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.8);
      line-height: 1.5;
    }

    .path-outcome {
      margin-top: 0.75rem;
      padding-top: 0.75rem;
      border-top: 1px solid rgba(255,255,255,0.2);
      font-weight: 700;
    }

    .decision-path.path-a .path-outcome {
      color: #f87171;
    }

    .decision-path.path-b .path-outcome {
      color: #4ade80;
    }

    .decision-path:focus {
      outline: 3px solid var(--gold);
      outline-offset: 2px;
    }

    .story-revelation {
      background: linear-gradient(135deg, rgba(212,175,55,0.3), rgba(212,175,55,0.1));
      border: 2px solid var(--gold);
      border-radius: 12px;
      padding: 1.5rem;
      margin-top: 1.5rem;
      text-align: center;
    }

    .revelation-label {
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--gold);
      letter-spacing: 0.15em;
      margin-bottom: 0.75rem;
    }

    .revelation-text {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(1.1rem, 2.5vw, 1.4rem);
      color: var(--cream);
      line-height: 1.5;
      font-weight: 600;
    }

    .story-timeline {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin: 1rem 0;
      flex-wrap: wrap;
    }

    .timeline-point {
      background: rgba(255,255,255,0.1);
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.8rem;
      color: rgba(255,255,255,0.8);
    }

    .timeline-point.critical {
      background: rgba(197, 48, 48, 0.3);
      border: 1px solid rgba(197, 48, 48, 0.5);
      color: #fca5a5;
    }

    .timeline-point.resolution {
      background: rgba(34, 197, 94, 0.3);
      border: 1px solid rgba(34, 197, 94, 0.5);
      color: #86efac;
    }

    /* ============================================================
       REDUCED MOTION (Accessibility)
       ============================================================ */

    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }

      .animate {
        animation: none !important;
        opacity: 1 !important;
      }

      .slide {
        transition: none !important;
      }
    }

    /* ============================================================
       PRINT STYLESHEET
       ============================================================ */

    @media print {
      .sidebar,
      .content-header,
      .slide-nav,
      .tools-panel,
      .glossary-btn,
      .glossary-panel,
      .mobile-menu-btn,
      .keyboard-help,
      .btn,
      .nav-btn,
      .reveal-btn {
        display: none !important;
      }

      .course-container {
        display: block;
        height: auto;
      }

      .main-content {
        display: block;
      }

      .content-body {
        display: block;
      }

      .slides-container {
        display: block;
        height: auto;
        overflow: visible;
      }

      .module-slides {
        display: block !important;
      }

      .slide {
        display: block !important;
        page-break-inside: avoid;
        margin-bottom: 2rem;
        padding: 1rem;
        border: 1px solid #ccc;
      }

      .slide.dark,
      .slide.black {
        background: white !important;
        color: black !important;
      }

      .slide.dark *,
      .slide.black * {
        color: black !important;
      }

      .refrain,
      .title {
        color: #1E2761 !important;
      }

      .gold-line {
        background: #D4AF37 !important;
      }

      body {
        background: white;
        color: black;
      }
    }
    /* ============================================================
       TIER SYSTEM  Clinicien | Chercheur | Mthodologiste
       ============================================================ */
    .tier-selector {
      display: flex;
      gap: 2px;
      padding: 0.75rem 1rem;
      border-bottom: 1px solid rgba(212,175,55,0.2);
    }
    .tier-btn {
      flex: 1;
      padding: 0.4rem 0.25rem;
      font-size: 0.65rem;
      font-weight: 600;
      text-align: center;
      border: 1px solid rgba(212,175,55,0.3);
      background: transparent;
      color: rgba(255,255,255,0.6);
      cursor: pointer;
      transition: all 0.2s;
      border-radius: 4px;
    }
    .tier-btn:hover { background: rgba(212,175,55,0.1); color: var(--cream); }
    .tier-btn.active {
      background: var(--gold);
      color: var(--navy);
      border-color: var(--gold);
    }
    .tier-btn .tier-icon { display: block; font-size: 1rem; margin-bottom: 2px; }

    /* Tier visibility: slides tagged data-tier="methods" or "mastery" */
    [data-tier="methods"],
    [data-tier="mastery"] {
      display: none;
    }
    body.tier-researcher [data-tier="methods"] { display: flex; }
    body.tier-methodologist [data-tier="methods"],
    body.tier-methodologist [data-tier="mastery"] { display: flex; }
    /* Foundation slides always visible  no data-tier attr needed */

    /* Tier badge shown on slides */
    .tier-badge {
      position: absolute;
      top: 0.75rem;
      right: 0.75rem;
      font-size: 0.65rem;
      font-weight: 700;
      padding: 0.2rem 0.6rem;
      border-radius: 12px;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      z-index: 2;
    }
    .tier-badge.methods {
      background: rgba(59,130,246,0.2);
      color: #60a5fa;
      border: 1px solid rgba(59,130,246,0.3);
    }
    .tier-badge.mastery {
      background: rgba(168,85,247,0.2);
      color: #c084fc;
      border: 1px solid rgba(168,85,247,0.3);
    }
    .slide.light .tier-badge.methods {
      background: rgba(59,130,246,0.1);
      color: #2563eb;
      border-color: rgba(59,130,246,0.3);
    }
    .slide.light .tier-badge.mastery {
      background: rgba(168,85,247,0.1);
      color: #7c3aed;
      border-color: rgba(168,85,247,0.3);
    }

  </style>
</head>
<body>
<!-- Skip to content link for accessibility -->
<a class="skip-link" href="#main-content">Passer au contenu</a>
<!-- Mobile menu button -->
<button aria-expanded="false" aria-label="Toggle navigation menu" class="mobile-menu-btn" onclick="toggleSidebar()"></button>
<!-- Mobile sidebar overlay -->
<div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>
<!-- Glossary button -->
 Indicateur de donnes d'histoire 
<button aria-label="Afficher les donnes de l'histoire" class="story-indicator-btn pulse" id="storyIndicatorBtn" onclick="openToolsWithStory()">
<span class="story-indicator-dot"></span>
<span> Donnes en direct disponibles</span>
</button>
<button aria-label="Open glossary" class="glossary-btn" onclick="toggleGlossary()" title="Glossary (press G)"></button>
<!-- Glossary Panel -->
<div aria-label="Glossary" class="glossary-panel" id="glossaryPanel" role="dialog">
<div class="glossary-header">
<h3>Glossaire des termes</h3>
<button aria-label="Close glossary" class="glossary-close" onclick="toggleGlossary()"></button>
</div>
<div class="glossary-search">
<input aria-label="Search glossary" id="glossarySearch" onkeyup="filterGlossary()" placeholder="Search terms..." type="text"/>
</div>
<div class="glossary-content" id="glossaryContent">
<dl>
<div class="glossary-term" data-term="meta-analysis">
<dt>Mta-analyse</dt>
<dd>Mthode statistique permettant de combiner les rsultats de plusieurs tudes indpendantes traitant de la mme question afin de produire une estimation groupe.</dd>
</div>
<div class="glossary-term" data-term="systematic review">
<dt>Revue systmatique</dt>
<dd>Une revue de la littrature complte et reproductible qui utilise des mthodes explicites pour identifier, slectionner, valuer et synthtiser toutes les tudes pertinentes sur une question spcifique.</dd>
</div>
<div class="glossary-term" data-term="pico">
<dt>PICO</dt>
<dd>Cadre de formulation des questions cliniques: population, intervention, comparateur, rsultat.</dd>
</div>
<div class="glossary-term" data-term="heterogeneity">
<dt>Htrognit</dt>
<dd>Variabilit des rsultats des tudes au-del de ce  quoi on pourrait s'attendre par hasard. Mesur par les statistiques I,  et Q.</dd>
</div>
<div class="glossary-term" data-term="i-squared">
<dt>I (I-carr)</dt>
<dd>Pourcentage de variabilit des estimations d'effet d  l'htrognit plutt qu' une erreur d'chantillonnage. 0-25%: faible, 25-50%: modr, 50-75%: substantiel, 75-100%: considrable.</dd>
</div>
<div class="glossary-term" data-term="tau-squared">
<dt> (Tau-squared)</dt>
<dd>La variance entre les tudes dans un modle  effets alatoires. Mesure l'ampleur absolue de l'htrognit sur l'chelle de taille de l'effet.</dd>
</div>
<div class="glossary-term" data-term="fixed effect">
<dt>Modle  effet fixe</dt>
<dd>Suppose que toutes les tudes estiment le mme effet rel. Pondre les tudes par variance inverse (prcision). Les grandes tudes dominent.</dd>
</div>
<div class="glossary-term" data-term="random effects">
<dt>Modle  effets alatoires</dt>
<dd>Suppose que les tudes estiment des effets diffrents mais lis  partir d'une distribution. Intgre la variance entre les tudes () dans les pondrations.</dd>
</div>
<div class="glossary-term" data-term="forest plot">
<dt>Graphique en for?t</dt>
<dd>Un affichage graphique des tailles d'effet des tudes individuelles et de l'estimation groupe, avec des intervalles de confiance.</dd>
</div>
<div class="glossary-term" data-term="funnel plot">
<dt>Diagramme en entonnoir</dt>
<dd>Un nuage de points de la taille de l'effet par rapport  l'erreur standard. L'asymtrie peut indiquer un biais de publication ou des effets de petites tudes.</dd>
</div>
<div class="glossary-term" data-term="publication bias">
<dt>Biais de publication</dt>
<dd>La tendance des tudes avec des rsultats positifs/significatifs  tre publies plus que des tudes nulles/ngatives.</dd>
</div>
<div class="glossary-term" data-term="egger test">
<dt>Egger's Test</dt>
<dd>Une rgression linaire pondre de l'estimation de l'effet standardis (effet/SE) par rapport  la prcision (1/SE). Une ordonne statistiquement significative (P &lt; 0,10) suggre une asymtrie du trac en entonnoir, qui peut indiquer des effets d'tudes de petite taille ou un biais de publication.</dd>
</div>
<div class="glossary-term" data-term="trim and fill">
<dt>Dcouper et remplir</dt>
<dd>A mthode pour estimer le nombre d'tudes manquantes en raison d'un biais de publication et ajuster l'effet group en consquence.</dd>
</div>
<div class="glossary-term" data-term="risk of bias">
<dt>Risque de biais (RoB)</dt>
<dd>valuation des erreurs systmatiques dans la conception, la conduite ou le rapport des tudes qui peuvent affecter les rsultats. RoB 2.0 est l'outil Cochrane pour les ECR.</dd>
</div>
<div class="glossary-term" data-term="robins-i">
<dt>ROBINS-I</dt>
<dd>Risque de biais dans les tudes non randomises d'interventions. Outil Cochrane pour valuer les biais dans les tudes observationnelles.</dd>
</div>
<div class="glossary-term" data-term="grade">
<dt>GRADE</dt>
<dd>Classement des recommandations, valuation, dveloppement et valuations. Cadre d'valuation de la certitude des donnes probantes (leve, modre, faible, trs faible).</dd>
</div>
<div class="glossary-term" data-term="prediction interval">
<dt>Intervalle de pr?diction</dt>
<dd>La gamme d'effets attendus dans une nouvelle tude, tenant compte de l'htrognit entre les tudes. Plus large que l'intervalle de confiance.</dd>
</div>
<div class="glossary-term" data-term="nnt">
<dt>NNT (Nombre ncessaire  traiter)</dt>
<dd>Le nombre de patients qui doivent tre traits pour viter un rsultat indsirable supplmentaire. NNT = 1/ARR.</dd>
</div>
<div class="glossary-term" data-term="nnh">
<dt>NNH (Nombre ncessaire pour nuire)</dt>
<dd>Nombre de patients qui doivent tre traits pour qu'un patient supplmentaire subisse un prjudice. NNH = 1/ARI.</dd>
</div>
<div class="glossary-term" data-term="hksj">
<dt>HKSJ Adjustment</dt>
<dd>Ajustement Hartung-Knapp-Sidik-Jonkman. Utilise la distribution T pour les intervalles de confiance dans les modles  effets alatoires, offrant ainsi une meilleure couverture avec peu d'tudes.</dd>
</div>
<div class="glossary-term" data-term="prospero">
<dt>PROSPRO</dt>
<dd>Registre prospectif international des revues systmatiques. Le pr-enregistrement vite les modifications mthodologiques post-hoc.</dd>
</div>
<div class="glossary-term" data-term="prisma">
<dt>PRISME</dt>
<dd>lments de rapport prfrs pour les examens systmatiques et les mta-analyses. Directives de reporting avec organigramme et liste de contrle.</dd>
</div>
<div class="glossary-term" data-term="nma">
<dt>Mta-analyse de rseau (NMA)</dt>
<dd>Mthode pour comparer plusieurs traitements simultanment en utilisant des preuves directes et indirectes via des comparateurs communs.</dd>
</div>
<div class="glossary-term" data-term="sucra">
<dt>SUCRA</dt>
<dd>Surface sous la courbe de classement cumulatif. Classe les traitements dans NMA de 0% (le pire)  100% (le meilleur).</dd>
</div>
<div class="glossary-term" data-term="ipd">
<dt>M?ta-analyse IPD</dt>
<dd>Mta-analyse des donnes individuelles des patients. Utiliser les donnes brutes au niveau des patients provenant dessais plutt que les curriculum vitae publis. Norme de rfrence pour l'analyse de sous-groupes.</dd>
</div>
<div class="glossary-term" data-term="dta">
<dt>Mta-analyse DTA</dt>
<dd>Mta-analyse sur la prcision des tests de diagnostic. Synthtise la sensibilit et la spcificit  l'aide de modles bivaris.</dd>
</div>
<div class="glossary-term" data-term="sroc">
<dt>SROC Curve</dt>
<dd>Courbe rsume des caractristiques de fonctionnement du rcepteur. Utilis dans la mta-analyse DTA pour afficher la sensibilit/spcificit regroupe.</dd>
</div>
<div class="glossary-term" data-term="iceman">
<dt>HOMME DES GLACES</dt>
<dd>Instrument pour valuer la crdibilit des analyses de modification des effets. value la crdibilit de l'analyse de sous-groupe.</dd>
</div>
<div class="glossary-term" data-term="tsa">
<dt>Analyse squentielle des essais (TSA)</dt>
<dd>Mthode appliquant des limites d'arrt  la mta-analyse cumulative pour dterminer quand suffisamment de preuves se sont accumules.</dd>
</div>
<div class="glossary-term" data-term="living review">
<dt>Revue systmatique Living</dt>
<dd>Une revue qui est continuellement mise  jour  mesure que de nouvelles preuves mergent, plutt que d'tre une publication  un moment prcis.</dd>
</div>
<div class="glossary-term" data-term="bayesian"><dt>Mta-analyse baysienne</dt>
<dd>Approche combinant des croyances a priori avec des donnes observes via le thorme de Bayes. Produit des distributions a posteriori et des intervalles de crdibilit plutt que des valeurs p.</dd></div>
<div class="glossary-term" data-term="prior"><dt>Distribution a priori</dt>
<dd>La croyance sur un paramtre avant l'observation des donnes. Peut tre informative (connaissances antrieures) ou non-informative (vague). Choix crucial affectant les rsultats.</dd></div>
<div class="glossary-term" data-term="posterior"><dt>Distribution a posteriori</dt>
<dd>La croyance mise  jour sur un paramtre aprs combinaison de l'a priori et des donnes. Base de l'infrence baysienne. Rsume par la moyenne/mdiane et l'intervalle de crdibilit.</dd></div>
<div class="glossary-term" data-term="credible-interval"><dt>Intervalle de crdibilit</dt>
<dd>quivalent baysien de l'intervalle de confiance. Un IC  95% signifie que le paramtre a 95% de probabilit de se trouver dans cet intervalle (interprtation directe).</dd></div>
<div class="glossary-term" data-term="mcmc"><dt>MCMC (Monte Carlo par chanes de Markov)</dt>
<dd>Algorithme d'chantillonnage utilis pour approximer les distributions a posteriori lorsqu'elles ne peuvent pas tre calcules analytiquement. Implment dans Stan, JAGS, PyMC.</dd></div>
<div class="glossary-term" data-term="nma"><dt>Mta-analyse en rseau (NMA)</dt>
<dd>Extension de la mta-analyse par paires permettant de comparer simultanment trois traitements ou plus en combinant preuves directes et indirectes.</dd></div>
<div class="glossary-term" data-term="transitivity"><dt>Transitivit</dt>
<dd>Hypothse cl de la NMA : les participants des essais comparant A vs B sont suffisamment similaires  ceux des essais comparant B vs C pour que les comparaisons indirectes soient valides.</dd></div>
<div class="glossary-term" data-term="consistency"><dt>Cohrence (NMA)</dt>
<dd>Accord entre les estimations directes et indirectes dans la NMA. L'incohrence signale la violation de la transitivit ou des diffrences entre populations d'essais.</dd></div>
<div class="glossary-term" data-term="sucra"><dt>SUCRA</dt>
<dd>Surface sous la courbe de classement cumulatif. Rsumer le classement probabiliste des traitements dans une NMA. Varie de 0% (pire)  100% (meilleur).</dd></div>
<div class="glossary-term" data-term="ipd"><dt>IPD (Donnes individuelles de patients)</dt>
<dd>Mta-analyse utilisant les donnes individuelles des participants plutt que les statistiques rsumes. Permet l'analyse des interactions traitement-covariate et des effets de sous-groupes au niveau patient.</dd></div>
<div class="glossary-term" data-term="one-stage"><dt>Modle  une tape (IPD)</dt>
<dd>Analyse IPD modlisant simultanment les effets intra et inter-tudes dans un modle hirarchique unique. Prserve la structure de clustering.</dd></div>
<div class="glossary-term" data-term="two-stage"><dt>Modle  deux tapes (IPD)</dt>
<dd>Analyse IPD o les effets sont d'abord estims dans chaque tude, puis combins par mta-analyse standard. Plus simple mais peut perdre de l'information.</dd></div>
<div class="glossary-term" data-term="dose-response"><dt>Mta-analyse dose-rponse</dt>
<dd>Mthode poolant les tudes  doses multiples pour estimer la forme de la relation dose-rponse. Utilise des splines cubiques restreintes ou des modles fractionnaires polynomiaux.</dd></div>
<div class="glossary-term" data-term="rcs"><dt>Splines cubiques restreintes</dt>
<dd>Modle de rgression flexible avec des nuds placs  des quantiles de dose. Capture les relations non-linaires tout en restant contraint aux extrmits.</dd></div>
<div class="glossary-term" data-term="fragility-index"><dt>Indice de fragilit (IF)</dt>
<dd>Le nombre minimum de patients dont le rsultat devrait changer pour qu'un rsultat statistiquement significatif devienne non-significatif. IF faible = rsultat fragile.</dd></div>
<div class="glossary-term" data-term="gosh"><dt>Graphique GOSH</dt>
<dd>Aperu graphique de l'htrognit des tudes. Trace l'effet pool vs I pour tous les sous-ensembles possibles d'tudes pour rvler les tudes influentes et les clusters.</dd></div>
<div class="glossary-term" data-term="contour funnel"><dt>Funnel plot  contours</dt>
<dd>Funnel plot avec des contours de significativit ombrs (p&lt;0.01, 0.05, 0.10). Aide  distinguer le biais de publication d'autres causes d'asymtrie.</dd></div>
<div class="glossary-term" data-term="copas"><dt>Modle de slection de Copas</dt>
<dd>Modle paramtrique de biais de publication estimant la probabilit que les tudes soient publies en fonction de leur taille et de leur rsultat.</dd></div>
<div class="glossary-term" data-term="pet-peese"><dt>ANIMAUX DE COMPAGNIE</dt>
<dd>Precision-Effect Test et Precision-Effect Estimate with Standard Errors. Mthode de rgression en deux tapes pour ajuster le biais de publication.</dd></div>
<div class="glossary-term" data-term="progress-plus"><dt>PROGRS-Plus</dt>
<dd>Cadre d'quit : Place, Race/ethnicit, Occupation, Genre, Religion, ducation, Statut socio-conomique, Capital social  plus ge, handicap, orientation sexuelle.</dd></div>
<div class="glossary-term" data-term="prisma-e"><dt>PRISMA-Actions</dt>
<dd>Extension de PRISMA pour les revues systmatiques axes sur l'quit en sant. Ajoute des items sur la population, le contexte et l'applicabilit.</dd></div>
<div class="glossary-term" data-term="transportability"><dt>Transportabilit</dt>
<dd>Le degr auquel les rsultats d'essais sont applicables  des populations cibles diffrentes des participants aux essais. Menace par les critres d'exclusion troits.</dd></div>
<div class="glossary-term" data-term="ai-screening"><dt>Criblage par IA</dt>
<dd>Utilisation de l'apprentissage automatique pour le triage titre/rsum dans les revues systmatiques. Rduit la charge de travail de 50-70% avec une sensibilit &gt;95% lorsqu'il est correctement valid.</dd></div>
<div class="glossary-term" data-term="meta-ethnography"><dt>Mta-ethnographie</dt>
<dd>Approche de synthse qualitative dveloppe par Noblit et Hare (1988). Traduit les thmes entre tudes via des traductions rciproques, rfutationnelles et de ligne d'argument.</dd></div>
<div class="glossary-term" data-term="cerqual"><dt>CERQual</dt>
<dd>Confiance dans les preuves issues des revues de Recherche qualitative. valuez la confiance dans les rsultats qualitatifs sur quatre composantes : limitations mthodologiques, cohrence, adquation, pertinence.</dd></div>
<div class="glossary-term" data-term="rve"><dt>Estimation robuste de la variance (RVE)</dt>
<dd>Mthode grant les effets corrls dans la mta-analyse (rsultats multiples, tudes multi-bras) sans ncessiter de matrice de covariance connue.</dd></div>
<div class="glossary-term" data-term="three-level"><dt>Modle  trois niveaux</dt>
<dd>Extension du modle  effets alatoires avec trois sources de variance : intra-tude, intra-cluster (rsultats multiples dans une tude) et inter-clusters (entre tudes).</dd></div>
<div class="glossary-term" data-term="reproducibility"><dt>Reproductibilit</dt>
<dd>La capacit  obtenir les mmes rsultats en ranalysant les mmes donnes avec les mmes mthodes. Crise de reproductibilit : moins de 50% des rsultats scientifiques se rpliquent.</dd></div>
<div class="glossary-term" data-term="proof-carrying"><dt>Nombres porteurs de preuve</dt>
<dd>Approche o chaque rsultat numrique est accompagn d'un certificat de provenance traable (donnes d'entre, transformations, validations).</dd></div>
<div class="glossary-term" data-term="component-nma"><dt>NMA par composantes</dt>
<dd>Extension de la NMA dcomposant les interventions complexes en composantes individuelles pour identifier les ingrdients actifs.</dd></div>
<div class="glossary-term" data-term="simpsons-paradox"><dt>Paradoxe de Simpson</dt>
<dd>Phnomne o une tendance dans les donnes agrges s'inverse lorsque les donnes sont stratifies par sous-groupes. Argument cl pour l'IPD plutt que l'agrgation.</dd></div>
<div class="glossary-term" data-term="sick-quitter"><dt>Biais du  sick-quitter </dt>
<dd>Biais dans les tudes dose-rponse o les personnes qui cessent une exposition (ex : alcool) le font pour des raisons de sant, contaminant le groupe de rfrence.</dd></div>
<div class="glossary-term" data-term="spline-knots"><dt>Nuds de spline</dt>
<dd>Points de jointure dans les modles de splines cubiques restreintes o les segments polynomiaux se connectent. Placement typique aux 10me, 50me et 90me percentiles de dose.</dd></div>
<div class="glossary-term" data-term="mixed-methods"><dt>Synthse mixte</dt>
<dd>Intgration de rsultats quantitatifs et qualitatifs dans une mme revue systmatique. Approches : convergente (simultane), squentielle, ou matrice de configuration.</dd></div>
<div class="glossary-term" data-term="platform-trial"><dt>Essai plateforme</dt>
<dd>Design adaptatif multi-bras o les traitements peuvent tre ajouts ou retirs au fil du temps selon les rsultats intermdiaires. Exemple : STAMPEDE, RECOVERY.</dd></div>
<div class="glossary-term" data-term="network-geometry"><dt>Gomtrie du rseau</dt>
<dd>Structure graphique d'une NMA montrant les traitements (nuds) et les comparaisons directes (artes). L'paisseur des artes reflte le nombre d'tudes.</dd></div>
<div class="glossary-term" data-term="evidence-hashing"><dt>Hachage des preuves</dt>
<dd>Technique cryptographique (SHA-256) applique aux donnes d'entre pour vrifier l'intgrit. Toute modification des donnes change le hash, dtectant la manipulation.</dd></div>
<div class="glossary-term" data-term="reinhart-rogoff"><dt>Erreur Reinhart-Rogoff</dt>
<dd>Erreur de tableur Excel de 2010 o cinq pays ont t exclus par erreur d'une moyenne, produisant un rsultat trompeur sur la dette et la croissance utilis en politique d'austrit.</dd></div>
<div class="glossary-term" data-term="scoping-review"><dt>Revue de cadrage</dt>
<dd>Revue exploratoire cartographiant la littrature disponible sur un sujet large. N'value pas formellement la qualit des tudes. Suit le cadre JBI ou PRISMA-ScR.</dd></div>
<div class="glossary-term" data-term="umbrella-review"><dt>Revue Parapluie (Revue Parapluie)</dt>
<dd>Revue de revues systmatiques. Synthtise les rsultats de multiples revues systmatiques sur un mme sujet pour identifier les conclusions convergentes et divergentes.</dd></div>
<div class="glossary-term" data-term="cluster-rct"><dt>Essai contrl randomis en grappe</dt>
<dd>Essai randomisant des groupes (hpitaux, coles) plutt que des individus. Ncessite un ajustement pour la corrlation intra-grappe (ICC) via l'effet de plan.</dd></div>
<div class="glossary-term" data-term="crossover-trial"><dt>Essai crois (Crossover trial)</dt>
<dd>Essai o chaque participant reoit les deux traitements dans un ordre randomis. Analyse apparie requise. Priodes de washout essentielles.</dd></div>
<div class="glossary-term" data-term="design-effect"><dt>Effet de plan (DEFF)</dt>
<dd>Ratio de la variance sous chantillonnage en grappe vs chantillonnage alatoire simple. DEFF = 1 + (m1)  ICC. Utilis pour ajuster les tailles d'chantillon et erreurs-types.</dd></div>
<div class="glossary-term" data-term="hazard-ratio"><dt>Rapport des risques instantans (HR)</dt>
<dd>Ratio des taux de risque entre deux groupes en analyse de survie. HR &lt; 1 favorise le traitement. Pool sur l'chelle logarithmique. SE = (ln(borne sup)  ln(borne inf)) / 3.92.</dd></div>
<div class="glossary-term" data-term="masem"><dt>MASEM (SEM mta-analytique)</dt>
<dd>Modlisation par quations structurelles mta-analytique. Mthode en deux tapes : (1) pooler les matrices de corrlation, (2) ajuster un modle SEM  la matrice poole.</dd></div>
<div class="glossary-term" data-term="nnt"><dt>Nombre de sujets  traiter (NST/NNT)</dt>
<dd>Nombre de patients  traiter pour qu'un patient supplmentaire bnficie du traitement. NNT = 1 / Rduction absolue du risque. Dpend du risque de base.</dd></div>
<div class="glossary-term" data-term="power-ma"><dt>Puissance en mta-analyse</dt>
<dd>Probabilit de dtecter un vrai effet d'une taille donne. Dpend du nombre d'tudes, de leur taille, de l'htrognit () et de la taille d'effet. Peu d'tudes avec haute htrognit rduit drastiquement la puissance.</dd></div>
</dl>
</div>
</div>
<!-- Keyboard shortcuts help -->
<div aria-label="Keyboard shortcuts" class="keyboard-help" id="keyboardHelp" role="dialog">
<h3>Raccourcis clavier</h3>
<div class="keyboard-help-item">
<span>Diapositive suivante</span>
<span class="keyboard-help-key"> ou Espace</span>
</div>
<div class="keyboard-help-item">
<span>Diapositive pr?c?dente</span>
<span class="keyboard-help-key"> ou Retour arrire</span>
</div>
<div class="keyboard-help-item">
<span>Module suivant</span>
<span class="keyboard-help-key"> or N</span>
</div>
<div class="keyboard-help-item">
<span>Module prcdent</span>
<span class="keyboard-help-key"> or P</span>
</div>
<div class="keyboard-help-item">
<span>Basculer le panneau d'outils</span>
<span class="keyboard-help-key">T</span>
</div>
<div class="keyboard-help-item">
<span>Afficher/Masquer le glossaire</span>
<span class="keyboard-help-key">G</span>
</div>
<div class="keyboard-help-item">
<span>Cette aide</span>
<span class="keyboard-help-key">?</span>
</div>
<div class="keyboard-help-item">
<span>Fermer les bo?tes de dialogue</span>
<span class="keyboard-help-key">Esc</span>
</div>
<button class="btn" onclick="toggleKeyboardHelp()" style="margin-top: 1rem; width: 100%;">Fermer</button>
</div>
<div class="course-container">
<!-- Sidebar Navigation -->
<nav aria-label="Navigation dans les modules" class="sidebar" role="navigation">
<div class="sidebar-header">
<a href="index.html" onmouseout="this.style.color='rgba(212,175,55,0.7)'" onmouseover="this.style.color='#D4AF37'" style="display:block;font-size:0.7rem;color:rgba(212,175,55,0.7);text-decoration:none;margin-bottom:0.5rem;"> Bibliothque de cours</a>
<h1>Preuve d'inversion de cours</h1>
<p>Mta-analyse Mthodes</p>
</div>
<div class="module-list" id="moduleList">
 lments de module gnrs par JS 
</div>
<!-- Tier Selector -->
<div aria-label="Niveau de profondeur du contenu" class="tier-selector" role="radiogroup">
<button aria-checked="true" class="tier-btn active" data-tier="foundation" onclick="setTier('foundation')" role="radio">
<span class="tier-icon"></span>Clinicien
        </button>
<button aria-checked="false" class="tier-btn" data-tier="researcher" onclick="setTier('researcher')" role="radio">
<span class="tier-icon"></span>Chercheur
        </button>
<button aria-checked="false" class="tier-btn" data-tier="methodologist" onclick="setTier('methodologist')" role="radio">
<span class="tier-icon"></span>Mthodologiste
        </button>
</div>
<div class="sidebar-footer">
<button class="dashboard-btn" onclick="openDashboard()">
<span></span>
<span>Tableau de progression</span>
<span id="sidebarPoints" style="margin-left: auto; font-weight: 700;">0 pts</span>
</button>
<button class="daily-review-btn" id="dailyReviewBtn" onclick="openDailyReview()">
<span></span>
<span>Examen quotidien</span>
<span id="reviewStatus" style="margin-left: auto;">Prt</span>
</button>
<p style="text-align: center; margin-bottom: 0.5rem;">Progrs: <span id="progressPercent">0%</span></p>
<button class="btn" onclick="resetProgress()" style="padding: 0.25rem 0.5rem; font-size: 0.7rem; width: 100%;">R?initialiser la progression</button>
</div>
</nav>
<!-- Tableau de progression Modal -->
<div class="progress-dashboard" id="progressDashboard">
<div class="dashboard-content">
<div class="dashboard-header">
<h2>Votre Progression</h2>
<button class="dashboard-close" onclick="closeDashboard()"></button>
</div>
<div class="level-display">
<div class="level-badge" id="levelBadge">Level 1: Novice</div>
<div class="points-display" id="totalPoints">0</div>
<div class="points-label">Points totaux</div>
</div>
<div class="stats-grid">
<div class="stat-card">
<div class="stat-value" id="modulesCompleted">0/15</div>
<div class="stat-label">Modules</div>
</div>
<div class="stat-card">
<div class="stat-value" id="predictionsCorrect">0/0</div>
<div class="stat-label">Prdictions</div>
</div>
<div class="stat-card">
<div class="stat-value" id="quizzesCompleted">0</div>
<div class="stat-label">Quiz</div>
</div>
</div>
<div class="principles-section">
<h3>Les sept principes</h3>
<div id="principlesList"></div>
</div>
<div class="badges-section">
<h3>Badges obtenus</h3>
<div class="badges-grid" id="badgesGrid"></div>
</div>
<div class="streak-section">
<h3>S?rie d'apprentissage</h3>
<div class="streak-display">
<div class="streak-flame" id="streakFlame"></div>
<div class="streak-info">
<div class="streak-count" id="streakCount">0 jours</div>
<div class="streak-label">Continuez  apprendre quotidiennement!</div>
</div>
</div>
</div>
</div>
</div>
 Modal d'examen quotidien 
<div aria-label="Bilan quotidien" class="daily-review-modal" id="dailyReviewModal" role="dialog">
<div class="daily-review-content">
<div class="daily-review-header">
<h2> Revue quotidienne</h2>
<button class="daily-review-close" onclick="closeDailyReview()"></button>
</div>
<div class="review-timer">
<div class="timer-display" id="reviewTimer">2:00</div>
<div class="timer-label">Renforcez votre mmoire</div>
</div>
<div class="review-progress" id="reviewProgress">
<!-- Progress dots inserted by JS -->
</div>
<div id="reviewCardContainer">
 Cartes de rvision insres par JS 
</div>
<div class="review-actions" id="reviewActions">
<button class="review-btn skip" onclick="skipDailyReview()">Passer pour aujourd'hui</button>
<button class="review-btn next" disabled="" id="reviewNextBtn" onclick="nextReviewQuestion()">Continuer</button>
</div>
</div>
</div>
<!-- Main Content -->
<main class="main-content">
<header class="content-header">
<div class="breadcrumb">
          Module <span id="currentModuleNum">0</span>: <span id="currentModuleName">L'ouverture</span>
</div>
<div class="header-actions">
<button class="btn" onclick="toggleToolsPanel()">Outils</button>
<button class="btn primary" onclick="nextModule()">Module suivant</button>
</div>
</header>
<div class="content-body">
<!-- Accessibility: Screen reader announcements for slide changes -->
<div aria-atomic="true" aria-live="polite" class="sr-only" id="slideAnnouncer"></div>
<!-- Slides Container -->
<div aria-label="Diapositives de cours" class="slides-container" id="main-content" role="region">
 Module 0 : L'ouverture 
<div class="module-slides active" data-module="0">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Tous les signaux ne sont pas vrais.</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Module 0 : L'ouverture</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Dfinir la mta-analyse et expliquer son rle dans la synthse des preuves</li>
<li>Identifier quand les tudes ne doivent PAS tre regroupes</li>
<li>Dcrire la hirarchie des preuves et o se situent les revues systmatiques</li>
<li>Reconnatre que la mta-analyse peut induire en erreur lorsqu'elle est mal effectue</li>
<li>Rappeler les sept principes qui ancrent ce cours</li>
</ul>
</div>
</div>
</div>
<div class="slide dark" data-index="2">
<p class="title cream animate text-center">Ce le cours existe parce que</p>
<p class="title gold animate delay-1 text-center">la mdecine tait mauvaise.</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; max-width: 600px;">
                Pas une seule fois. Pas rarement.  plusieurs reprises. D'une manire qui a tu les patients qui croyaient que les preuves taient solides.
              </p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Qu'est-ce que la mta-analyse?</h2>
<div class="card animate delay-1">
<p class="card-text text-center">
                    Une mthode statistique permettant de combiner les rsultats de plusieurs tudes indpendantes abordant la mme question.
                  </p>
</div>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">1976</div>
<div class="stat-label">Terme invent par Gene Glass</div>
</div>
<div class="stat-box">
<div class="stat-value">~50,000</div>
<div class="stat-label">Publi par an</div>
</div>
<div class="stat-box">
<div class="stat-value">#1</div>
<div class="stat-label">Evidence hierarchie</div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Pourquoi le pool tudes?</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Augmentation de la puissance statistique</h4>
<p>Les tudes individuelles peuvent tre trop petites pour dtecter des effets.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Improve Precision</h4>
<p>Intervalles de confiance plus troits autour des estimations d'effet.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Resolve Disagreement</h4>
<p>Lorsque les tudes sont en conflit, la mise en commun peut clarifier le signal.</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Explore Heterogeneity</h4>
<p>Identifiez pourquoi les effets diffrent selon les populations ou les contextes.</p>
</div>
</div>
</div>
</div>
<div class="slide dark" data-index="4">
<p class="title cream animate text-center">Mais la mta-analyse peut aussi</p>
<p class="big-number gold animate delay-1">TROMPER</p>
<p class="animate delay-2" style="font-size: 1.1rem; text-align: center; max-width: 600px; margin-top: 1rem;">
                Lorsqu'elles sont mal ralises, elles amplifient les prjugs plutt que la vrit.
              </p>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">Quand NE PAS regrouper</h2>
<div class="wrong-item animate delay-1">
<div class="wrong-number">1</div>
<p>Les tudes mesurent des choses fondamentalement diffrentes (des pommes et oranges)</p>
</div>
<div class="wrong-item animate delay-2">
<div class="wrong-number">2</div>
<p>Htrognit extrme qui ne peut tre explique</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number">3</div>
<p>Une tude domine toutes les autres (problme de mga-tude)</p>
</div>
<div class="wrong-item animate delay-4">
<div class="wrong-number">4</div>
<p>Les tudes prsentent un risque lev de biais qui ne peut pas tre ajust en fonction</p>
</div>
<div class="focus-box animate delay-5 mt-2">
<p class="main">La mise en commun est un privilge, pas un droit.</p>
<p class="sub">La dcision d'association doit tre dfendue.</p>
</div>
</div>
</div>
<div class="slide light" data-index="6">
<div class="content">
<h2 class="title navy animate">La hirarchie des preuves</h2>
<div style="max-width: 600px; margin-top: 1.5rem;">
<div class="card animate delay-1" style="background: var(--gold); color: var(--navy);">
<p class="card-text text-center" style="font-weight: 700;">Revues systmatiques et mta-analyses des ECR</p>
</div>
<div class="card animate delay-2">
<p class="card-text text-center">Essais contrls randomiss</p>
</div>
<div class="card animate delay-3">
<p class="card-text text-center">tudes de cohorte</p>
</div>
<div class="card animate delay-4">
<p class="card-text text-center">tudes cas-tmoins</p>
</div>
<div class="card animate delay-5">
<p class="card-text text-center">Srie de cas/avis d'experts</p>
</div>
</div>
<p class="footnote animate delay-5">La position dans la hirarchie dpend de la qualit de la mthodologie, et non du seul type d'tude.</p>
</div>
</div>
<div class="slide dark" data-index="7">
<p class="title cream animate text-center">Ce cours enseigne via</p>
<p class="title gold animate delay-1 text-center">renversements de preuves.</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1rem; text-align: center; max-width: 700px;">
                Chaque module s'ouvre sur une histoire expliquant comment la mdecine s'est trompe. Ensuite, nous apprenons la mthode qui aurait vit le prjudice.
              </p>
</div>
<div class="slide light" data-index="8">
<div class="content">
<h2 class="title navy animate">Les sept principes</h2>
<p class="animate delay-1" style="font-style: italic; margin-bottom: 1.5rem;">
                  Ces phrases reviendront tout au long de votre voyage:
                </p>
<div style="text-align: left; max-width: 700px;">
<p class="animate delay-1" style="margin: 0.75rem 0; font-size: 1.1rem;"><span style="color: var(--gold);">1.</span> "Tous les signaux ne sont pas vrais."</p>
<p class="animate delay-2" style="margin: 0.75rem 0; font-size: 1.1rem;"><span style="color: var(--gold);">2.</span> "Les mthodes protgent les patients de notre confiance."</p>
<p class="animate delay-3" style="margin: 0.75rem 0; font-size: 1.1rem;"><span style="color: var(--gold);">3.</span> "Qu'est-ce qui tait cach  la vue de tous ?"</p>
<p class="animate delay-3" style="margin: 0.75rem 0; font-size: 1.1rem;"><span style="color: var(--gold);">4.</span> "Le numro sans provenance n'est pas un numro."</p>
<p class="animate delay-4" style="margin: 0.75rem 0; font-size: 1.1rem;"><span style="color: var(--gold);">5.</span> "L'htrognit est un message, pas un bruit."</p>
<p class="animate delay-4" style="margin: 0.75rem 0; font-size: 1.1rem;"><span style="color: var(--gold);">6.</span> "L'absence de preuve n'est pas une preuve d'absence."</p>
<p class="animate delay-5" style="margin: 0.75rem 0; font-size: 1.1rem;"><span style="color: var(--gold);">7.</span> "La certitude doit tre gagne et non assume."</p>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">Quiz du module 0</h2>
<div class="quiz-container">
<div class="quiz-question" id="q0-1">
<h4>1. Pourquoi ne devriez-vous parfois PAS regrouper les tudes dans une mta-analyse?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q0-1', 0, 1, ['More is generally better but not always.', 'Correct! Extreme heterogeneity or comparing apples to oranges makes pooling misleading.', 'Pooling is always appropriate for clinical trials.', 'Statistical methods are powerful.'])">
<span>A.</span> La mise en commun est toujours mieux que des tudes uniques
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q0-1', 1, 1, ['More is generally better but not always.', 'Correct! Extreme heterogeneity or comparing apples to oranges makes pooling misleading.', 'Pooling is always appropriate for clinical trials.', 'Statistical methods are powerful.'])">
<span>B.</span> Lorsque l'htrognit est extrme ou que les tudes mesurent des choses diffrentes
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q0-1', 2, 1, ['More is generally better but not always.', 'Correct! Extreme heterogeneity or comparing apples to oranges makes pooling misleading.', 'Pooling is always appropriate for clinical trials.', 'Statistical methods are powerful.'])">
<span>C.</span> La mise en commun est toujours approprie pour les ECR
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q0-1', 3, 1, ['More is generally better but not always.', 'Correct! Extreme heterogeneity or comparing apples to oranges makes pooling misleading.', 'Pooling is always appropriate for clinical trials.', 'Statistical methods are powerful.'])">
<span>D.</span> Les mthodes statistiques permettent de grer n'importe quelle situation
                      </div>
</div>
<div id="q0-1-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q0-2" style="margin-top: 1.5rem;">
<h4>2. O se situent les revues systmatiques des ECR dans la hirarchie des preuves?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q0-2', 0, 0, ['Correct! Well-conducted SRs/MAs of RCTs are at the top of the evidence hierarchy.', 'RCTs are second to their systematic reviews.', 'Cohort studies are observational.', 'Expert opinion is at the bottom.'])">
<span>A.</span> En haut
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q0-2', 1, 0, ['Correct! Well-conducted SRs/MAs of RCTs are at the top of the evidence hierarchy.', 'RCTs are second to their systematic reviews.', 'Cohort studies are observational.', 'Expert opinion is at the bottom.'])">
<span>B.</span> Mme niveau que les ECR individuels
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q0-2', 2, 0, ['Correct! Well-conducted SRs/MAs of RCTs are at the top of the evidence hierarchy.', 'RCTs are second to their systematic reviews.', 'Cohort studies are observational.', 'Expert opinion is at the bottom.'])">
<span>C.</span> tudes de cohorte ci-dessous
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q0-2', 3, 0, ['Correct! Well-conducted SRs/MAs of RCTs are at the top of the evidence hierarchy.', 'RCTs are second to their systematic reviews.', 'Cohort studies are observational.', 'Expert opinion is at the bottom.'])">
<span>D.</span> Identique  l'opinion d'un expert
                      </div>
</div>
<div id="q0-2-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide black" data-index="10">
<p class="refrain animate">Commencez le voyage.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 1: La question</p>
</div>
<!-- Slide nav generated by JS -->
</div>
 Module 1 : La question (CAST) 
<div class="module-slides" data-module="1">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Tous les signaux ne sont pas vrais.</p>
</div>
<div class="slide dark" data-index="1">
<p class="title cream animate text-center">Ceci n'est pas une histoire d'erreur.</p>
<p class="title gold animate delay-1 text-center">C'est une histoire de certitude.</p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Module 1: La question</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Formuler une approche cible Question PICO pour une revue systmatique</li>
<li>Distinguer les rsultats de substitution des rsultats importants pour le patient</li>
<li>Expliquez pourquoi la plausibilit biologique  elle seule ne constitue pas une preuve suffisante</li>
<li>Dcrire l'essai CAST et ses implications pour la mdecine factuelle</li>
<li>Appliquer le principe: "Tous les signes lumineux ne sont pas des conseils"</li>
</ul>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<p class="big-number navy animate">~9,000</p>
<p class="subtitle animate delay-1">Dcs excdentaires par an</p>
<p class="serif animate delay-2" style="font-size: 1.25rem; font-style: italic; color: var(--text);">D'un traitement que tout le monde croyait efficace.</p>
<div class="gold-line animate delay-3"></div>
<p class="animate delay-4" style="color: var(--light-text);">C'est l'histoire de ce que nous croyions - et comment nous tions tort.</p>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">L'observation</h2>
<div class="card animate delay-1">
<p class="card-text text-center">Les patients prsentant des ESV frquemment aprs un IM prsentaient une 2  5 fois plus leve.</p>
</div>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">400,000+</div>
<div class="stat-label">Survivants d'IM/an</div>
</div>
<div class="stat-box">
<div class="stat-value">~40%</div>
<div class="stat-label">avec des PVC</div>
</div>
<div class="stat-box">
<div class="stat-value">160,000</div>
<div class="stat-label"> un niveau lev risque</div>
</div>
</div>
<p class="footnote animate delay-3">Un besoin clinique massif. Un objectif clair.</p>
</div>
</div>
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">La Rponse</h2>
<p class="animate delay-1" style="font-size: 1.2rem; text-align: center; margin: 1rem 0;">
                  Des mdicaments antiarythmiques ont t dvelopps, approuvs par la FDA,<br/>et prescrite  environ 200 000 patients par an.
                </p>
<div class="focus-box animate delay-2">
<p class="main">Aucun mchant n'apparat dans cette histoire.</p>
<p class="sub">Tout le monde a agi sur la base des meilleures preuves disponibles.</p>
</div>
</div>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">La logique qui a convaincu tout le monde</h2>
<div class="card animate delay-1">
<div class="card-label">PREMIRE 1</div>
<p class="card-text">Les PVC aprs un IM prdisent une mort cardiaque subite</p>
</div>
<div class="arrow animate delay-1"></div>
<div class="card animate delay-2">
<div class="card-label">LOCALIT 2</div>
<p class="card-text">Les mdicaments antiarythmiques suppriment les ESV</p>
</div>
<div class="arrow animate delay-2"></div>
<div class="card animate delay-3">
<div class="card-label">PREMIRE 3</div>
<p class="card-text">La suppression des ESV devrait prvenir la mort subite</p>
</div>
<div class="arrow animate delay-3"></div>
<div class="card navy-bg animate delay-4">
<div class="card-label">CONCLUSION</div>
<p class="card-text">Les antiarythmiques sauvent des vies chez les patients post-IM</p>
</div>
<p class="footnote animate delay-5">La chane tait logique. La conclusion semblait invitable.</p>
</div>
</div>
<div class="slide light" data-index="6">
<div class="content">
<h2 class="title navy animate">CAST: Essai sur la suppression de l'arythmie cardiaque</h2>
<p class="serif animate delay-1" style="font-style: italic; color: var(--gold); margin-bottom: 1.5rem;">
                  Enfin, quelqu'un a demand: "La suppression des PVC sauve-t-elle rellement des vies?"
                </p>
<div class="design-grid animate delay-2">
<div class="design-item">
<div class="design-item-label">Conception</div>
<div class="design-item-value">499 patients randomiss, en double aveugle, contrls par placebo</div>
</div>
<div class="design-item">
<div class="design-item-label">Population</div>
<div class="design-item-value">Patients post-IM prsentant des ESV asymptomatiques</div>
</div>
<div class="design-item">
<div class="design-item-label">Intervention</div>
<div class="design-item-value">Encanide, flcanide ou moricizine vs placebo</div>
</div>
<div class="design-item">
<div class="design-item-label">Rodage</div>
<div class="design-item-value">Seuls les patients prsentant une suppression des PVC  80 % ont t randomiss</div>
</div>
<div class="design-item">
<div class="design-item-label">Crit?re principal</div>
<div class="design-item-value">Dcs ou arrt cardiaque avec ranimation</div>
</div>
<div class="design-item">
<div class="design-item-label">Taille de l'?chantillon</div>
<div class="design-item-value">1 498 patients (bras encanide/flcanide)</div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="7">
<div class="content">
<h2 class="title navy animate">Les rsultats: avril 1989</h2>
<p class="red animate delay-1" style="font-style: italic; margin-bottom: 1rem;">
                  Le Data Safety Monitoring Board arrte l'essai prmaturment.
                </p>
<table class="results-table animate delay-2">
<thead>
<tr>
<th>Rsultat</th>
<th>Mdicament (n=755)</th>
<th>Placebo (n = 743)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Arrhythmic deaths</td>
<td class="highlight">33</td>
<td>9</td>
</tr>
<tr>
<td>Tous les dcs cardiaques</td>
<td class="highlight">43</td>
<td>16</td>
</tr>
<tr>
<td>Total deaths</td>
<td class="highlight">56</td>
<td>22</td>
</tr>
<tr>
<td><strong>Death rate</strong></td>
<td class="highlight">7.4%</td>
<td><strong>3.0%</strong></td>
</tr>
</tbody>
</table>
<div class="result-box animate delay-3">
<div class="value">Risque relatif de dcs: 2,5</div>
<div class="label">95% CI: 1.6 - 4.5 | p &lt; 0.001</div>
</div>
<p class="footnote animate delay-4">Les mdicaments qui supprimaient parfaitement les arythmies ont augment la mortalit de 150 %</p>
</div>
</div>
<div class="slide dark" data-index="8">
<div class="content">
<h2 class="title cream animate">Le cot humain</h2>
<p class="animate delay-1" style="margin-bottom: 1rem;">Avant CAST, environ 200 000 Amricains recevaient chaque anne ces mdicaments.</p>
<p class="big-number gold animate delay-2">~9,000</p>
<p class="animate delay-2" style="font-size: 1.25rem;">excs de dcs par an - peut-tre plus</p>
<div class="animate delay-3" style="background: rgba(45,58,95,0.8); padding: 1rem 2rem; text-align: center; margin: 1rem 0;">
<p style="color: var(--cream);">Guerre du Vietnam: ~6 000 dcs aux tats-Unis/an  Ces mdicaments: ~9 000+ dcs/an</p>
</div>
<p class="serif animate delay-4" style="font-style: italic; color: var(--gold); margin-top: 1.5rem; text-align: center;">
                  Pour chaque numro, un nom que nous ne connatrons jamais.
                </p>
</div>
</div>
<div class="slide black" data-index="9">
<p class="serif animate" style="font-size: clamp(2rem, 5vw, 3rem);">Regardez ? nouveau.</p>
</div>
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">La logique - revisite</h2>
<div class="card animate delay-1">
<div class="card-label">PREMIRE 1</div>
<p class="card-text">Les PVC aprs un IM prdisent une mort cardiaque subite</p>
</div>
<div class="arrow animate delay-1"></div>
<div class="card-wrapper animate delay-2">
<div class="card">
<div class="card-label">LOCALIT 2</div>
<p class="card-text">Les mdicaments antiarythmiques suppriment les ESV</p>
</div>
<div class="leap-badge"> LE SAUT</div>
</div>
<div class="arrow animate delay-2"></div>
<div class="card red-border animate delay-3">
<div class="card-label">PREMIRE 3</div>
<p class="card-text">La suppression des ESV devrait prvenir la mort subite</p>
</div>
<div class="arrow animate delay-3"></div>
<div class="card navy-bg animate delay-4">
<div class="card-label">CONCLUSION</div>
<p class="card-text">Les antiarythmiques sauvent des vies chez les patients post-IM</p>
</div>
<p class="footnote animate delay-5">L'hypothse que la suppression du marqueur corrigerait le rsultat n'a jamais t test.</p>
</div>
</div>
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">Ce qui n'a pas fonctionn: le pige des substituts</h2>
<div class="wrong-item animate delay-1">
<div class="wrong-number">1</div>
<p>Les PVC taient un marqueur de tissus endommags, pas une cause de dcs</p>
</div>
<div class="wrong-item animate delay-2">
<div class="wrong-number">2</div>
<p>Les mdicaments ont eu des effets proarythmiques - dclenchant des rythmes plus mortels</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number">3</div>
<p>La mre porteuse s'est amliore tandis que le rsultat s'est aggrav - une mre porteuse dissocie</p>
</div>
<div class="focus-box animate delay-4 mt-2">
<p class="main">La mre porteuse n'a pas menti. Nous lui avons pos la mauvaise question.</p>
</div>
</div>
</div>
<div class="slide light" data-index="12">
<div class="content">
<h2 class="title navy animate">Le framework PICO</h2>
<p class="animate delay-1" style="margin-bottom: 1.5rem; font-style: italic;">
                  Chaque question clinique pouvant rpondre comporte quatre lments:
                </p>
<div class="design-grid" style="grid-template-columns: repeat(2, 1fr);">
<div class="design-item animate delay-1" style="border-left-color: var(--navy);">
<div class="design-item-label" style="color: var(--navy);">P - POPULATION</div>
<div class="design-item-value">Qui sont les patients ? Quelles sont leurs caractristiques ?</div>
</div>
<div class="design-item animate delay-2" style="border-left-color: var(--green);">
<div class="design-item-label" style="color: var(--green);">I - INTERVENTION</div>
<div class="design-item-value">Quel traitement ou quelle exposition est valu?</div>
</div>
<div class="design-item animate delay-3" style="border-left-color: var(--red);">
<div class="design-item-label" style="color: var(--red);">C - COMPARATEUR</div>
<div class="design-item-value">Quelle est l'alternative? Placebo? Soins standards?</div>
</div>
<div class="design-item animate delay-4" style="border-left-color: var(--gold);">
<div class="design-item-label" style="color: var(--gold);">O - RSULTAT</div>
<div class="design-item-value">Qu'est-ce qui compte pour des malades ? Paramtres d'valuation stricts par rapport aux substituts.</div>
</div>
</div>
<div class="result-box animate delay-5" style="margin-top: 1.5rem;">
<div class="label">CAST PICO</div>
<div class="value" style="font-size: 1rem; line-height: 1.5;">
                    Patients post-IM atteints d'ESV | Antiarythmiques | Placebo | Mortalit
                  </div>
</div>
</div>
</div>
<!-- CAST Investigation Exercise -->
<div class="slide dark" data-index="13">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Exercice d'enqute: les preuves avant CAST</h3>
</div>
<p class="direct-address">Vous tes cardiologue en 1988. Un patient a survcu  un IM mais prsente des ESV frquentes. La littrature observationnelle est claire...</p>
<table class="data-table-investigation">
<thead>
<tr><th>tude</th><th>Patients atteints d'ESV</th><th>Mortality Risk</th></tr>
</thead>
<tbody>
<tr><td>Lown (1977)</td><td>High-grade PVCs</td><td>2,4x plus leve</td></tr>
<tr><td>Plus grand (1984)</td><td>&gt;10 PVCs/hour</td><td>3,1x plus lev</td></tr>
<tr><td>Mukharji (1984)</td><td>Complex PVCs</td><td>4,8x suprieur</td></tr>
</tbody>
</table>
<p class="rhetorical" style="margin-top: 1rem;">Le signal est clair. Le mcanisme est plausible. Prescririez-vous des antiarythmiques ?</p>
<button class="reveal-btn" onclick="revealAnswer('cast-reveal')">Voir ce que CAST a rvl </button>
<div class="hidden-reveal" id="cast-reveal">
<div class="comparison-grid">
<div class="comparison-panel">
<h4>Avant: logique d'observation</h4>
<p>PVC  Mortalit plus leve</p>
<p>Les mdicaments suppriment les PVC</p>
<p><strong> Les mdicaments devraient rduire la mortalit</strong></p>
</div>
<div class="comparison-panel after">
<h4>Aprs: CAST ECR (1989)</h4>
<p>Taux de mortalit d  la drogue: <strong style="color: var(--red);">7.4%</strong></p>
<p>Taux de mortalit sous placebo: <strong>3.0%</strong></p>
<p><strong style="color: var(--red);">RR = 2,5 (augmentation de 150% des dcs)</strong></p>
</div>
</div>
<p style="margin-top: 1rem; font-style: italic; color: var(--gold);">La mre porteuse s'est amliore. Les patients sont morts. C'est pourquoi nous demandons :  Quel est le rsultat qui compte ? </p>
</div>
</div>
</div>
<div class="slide light" data-index="14">
<div class="content">
<h2 class="title navy animate">Les leons pour la synthse des preuves</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>La plausibilit biologique n'est pas une preuve</h4>
<p>Un mcanisme logique ne garantit pas l'effet attendu.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Les paramtres de substitution peuvent induire en erreur</h4>
<p>L'amlioration d'un biomarqueur ne prouve pas une amlioration des rsultats.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Only randomized trials establish causation</h4>
<p>Les donnes observationnelles ne peuvent prouver les effets de l'intervention.</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Le consensus n'est pas une preuve</h4>
<p>200 000 prescriptions, l'approbation de la FDA et les lignes directrices ont toutes t faux.</p>
</div>
</div>
<p class="serif animate delay-5" style="font-style: italic; color: var(--gold); margin-top: 1.5rem; text-align: center;">
                  C'est pourquoi nous effectuons une mta-analyse: pour voir le pass apparent vrits.
                </p>
</div>
</div>
<div class="slide dark" data-index="14">
<p class="closing-line animate">Ce qui semble certain peut tre faux.</p>
<p class="closing-line animate delay-1">Ce que tout le monde croit pourrait tre faux.</p>
<p class="closing-line gold animate delay-2">Il existe des mthodes pour que les patients ne paient pas pour notre confiance.</p>
<div class="gold-line animate delay-3"></div>
<p class="closing-line italic animate delay-4">C'est pourquoi vous tes ici.</p>
</div>
<!-- Module 1 Quiz -->
<div class="slide light" data-index="16">
<div class="content">
<h2 class="title navy animate">Quiz du module 1</h2>
<div class="quiz-container">
<div class="quiz-question" id="q1-1">
<h4>1. Quelle tait l'erreur fondamentale dans la logique antiarythmique?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q1-1', 0, 1, ['The trials were conducted properly.', 'Correct! They assumed suppressing the marker (PVCs) would improve the outcome (mortality), but PVCs were just a marker, not a cause.', 'The sample size was large enough.', 'FDA approval followed proper procedures.'])">
<span>A.</span> Les essais n'taient pas randomiss
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q1-1', 1, 1, ['The trials were conducted properly.', 'Correct! They assumed suppressing the marker (PVCs) would improve the outcome (mortality), but PVCs were just a marker, not a cause.', 'The sample size was large enough.', 'FDA approval followed proper procedures.'])">
<span>B.</span> Le traitement d'une mre porteuse (PVC) tait suppos amliorer les rsultats
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q1-1', 2, 1, ['The trials were conducted properly.', 'Correct! They assumed suppressing the marker (PVCs) would improve the outcome (mortality), but PVCs were just a marker, not a cause.', 'The sample size was large enough.', 'FDA approval followed proper procedures.'])">
<span>C.</span> La taille de l'chantillon tait trop petite
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q1-1', 3, 1, ['The trials were conducted properly.', 'Correct! They assumed suppressing the marker (PVCs) would improve the outcome (mortality), but PVCs were just a marker, not a cause.', 'The sample size was large enough.', 'FDA approval followed proper procedures.'])">
<span>D.</span> L'approbation de la FDA a t prcipite
                      </div>
</div>
<div id="q1-1-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q1-2">
<h4>2. Dans PICO, que signifie le  O  et pourquoi est-ce important ?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q1-2', 0, 2, ['O stands for Outcome, not Observation.', 'O stands for Outcome, not Objective.', 'Correct! The choice of outcome determines whether a treatment truly helps patients. CAST measured mortality (hard outcome) instead of just PVC suppression (surrogate).', 'O stands for Outcome, not Organization.'])">
<span>A.</span> Observation - ce que pensent les chercheurs voir
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q1-2', 1, 2, ['O stands for Outcome, not Observation.', 'O stands for Outcome, not Objective.', 'Correct! The choice of outcome determines whether a treatment truly helps patients. CAST measured mortality (hard outcome) instead of just PVC suppression (surrogate).', 'O stands for Outcome, not Organization.'])">
<span>B.</span> Objectif - le but de la recherche
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q1-2', 2, 2, ['O stands for Outcome, not Observation.', 'O stands for Outcome, not Objective.', 'Correct! The choice of outcome determines whether a treatment truly helps patients. CAST measured mortality (hard outcome) instead of just PVC suppression (surrogate).', 'O stands for Outcome, not Organization.'])">
<span>C.</span> Rsultat - ce qui compte pour les patients
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q1-2', 3, 2, ['O stands for Outcome, not Observation.', 'O stands for Outcome, not Objective.', 'Correct! The choice of outcome determines whether a treatment truly helps patients. CAST measured mortality (hard outcome) instead of just PVC suppression (surrogate).', 'O stands for Outcome, not Organization.'])">
<span>D.</span> Organisation - structure de l'tude
                      </div>
</div>
<div id="q1-2-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide black" data-index="17">
<p class="refrain animate">Tous les signaux ne sont pas vrais.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">
                Les mthodes protgent les patients de notre confiance.
              </p>
</div>
</div>
 Module 2 : Le protocole (THS) 
<div class="module-slides" data-module="2">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Qu'est-ce qui tait cach  la vue de tous?</p>
</div>
<div class="slide dark" data-index="1">
<p class="title cream animate text-center">Ceci est une histoire sur</p>
<p class="title gold animate delay-1 text-center">preuves observationnelles.</p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Module 2: Le Protocole</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Expliquez pourquoi le protocole de pr-enregistrement prvient les biais</li>
<li>Identifier les lments cls d'un enregistrement PROSPERO</li>
<li>Distinguer les biais des utilisateurs sains des vritables effets du traitement</li>
<li>Dcrire pourquoi les tudes observationnelles ont surestim les bnfices du THS</li>
<li>Appliquer le principe : "Les mthodes protgent les patients de notre confiance"</li>
</ul>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<p class="big-number navy animate">30+</p>
<p class="subtitle animate delay-1">tudes observationnelles</p>
<p class="serif animate delay-2" style="font-size: 1.25rem; font-style: italic; color: var(--text);">
                Tous ceux qui ont suivi un traitement hormonal substitutif ont protg les femmes mnopauses des maladies cardiaques.
              </p>
<div class="gold-line animate delay-3"></div>
<p class="animate delay-4" style="color: var(--light-text);">Les preuves semblaient accablantes. La conclusion semblait certaine.</p>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">L'tude sur la sant des infirmires</h2>
<div class="card animate delay-1">
<p class="card-text text-center">122 000 infirmires suivies pendant des dcennies. Les utilisateurs de THS prsentaient une mortalit cardiovasculaire infrieure de 40  50%.</p>
</div>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">RR 0.56</div>
<div class="stat-label">Cardiovascular mortality</div>
</div>
<div class="stat-box">
<div class="stat-value">122,000</div>
<div class="stat-label">Women followed</div>
</div>
<div class="stat-box">
<div class="stat-value">20+ ans</div>
<div class="stat-label">Suivi</div>
</div>
</div>
<p class="footnote animate delay-3">tude historique. Mthodologie impeccable. Mauvaise conclusion.</p>
</div>
</div>
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">Le biais cach</h2>
<div class="wrong-item animate delay-1">
<div class="wrong-number">1</div>
<p><strong>Biais d'utilisateur sain:</strong> Les femmes qui ont choisi le THS taient en meilleure sant, plus riches et mieux instruites</p>
</div>
<div class="wrong-item animate delay-2">
<div class="wrong-number">2</div>
<p><strong>Compliance Bias:</strong> Les femmes qui prenaient rgulirement un THS prenaient galement mieux soin d'elles-mmes</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number">3</div>
<p><strong>Prescriber Bias:</strong> Les mdecins ont administr un THS  des femmes en meilleure sant prsentant moins de risques facteurs</p>
</div>
<div class="focus-box animate delay-4 mt-2">
<p class="main">Le traitement ne les protgeait pas. Ils taient dj protgs.</p>
</div>
</div>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">WHI: La sant des femmes Initiative</h2>
<p class="serif animate delay-1" style="font-style: italic; color: var(--gold); margin-bottom: 1.5rem;">
                  Le plus grand essai randomis de THS jamais men.
                </p>
<div class="design-grid animate delay-2">
<div class="design-item">
<div class="design-item-label">Conception</div>
<div class="design-item-value">499 patients randomiss, en double aveugle, contrls par placebo</div>
</div>
<div class="design-item">
<div class="design-item-label">Population</div>
<div class="design-item-value">Femmes mnopauses ges 50-79</div>
</div>
<div class="design-item">
<div class="design-item-label">Intervention</div>
<div class="design-item-value">strogne + Progestatif vs Placebo</div>
</div>
<div class="design-item">
<div class="design-item-label">Taille de l'?chantillon</div>
<div class="design-item-value">16 608 femmes</div>
</div>
<div class="design-item">
<div class="design-item-label">Crit?re principal</div>
<div class="design-item-value">Maladie coronarienne</div>
</div>
<div class="design-item">
<div class="design-item-label">Planned duration</div>
<div class="design-item-value">8,5 ans</div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="6">
<div class="content">
<h2 class="title navy animate">Les rsultats : juillet 2002</h2>
<p class="red animate delay-1" style="font-style: italic; margin-bottom: 1rem;">
                  L'essai s'est arrt prmaturment aprs 5,2 ans. Les dommages ont dpass les avantages.
                </p>
<table class="results-table animate delay-2">
<thead>
<tr>
<th>Rsultat</th>
<th>Hazard Ratio</th>
<th>Direction</th>
</tr>
</thead>
<tbody>
<tr>
<td>Maladie coronarienne</td>
<td class="highlight">1.29</td>
<td class="highlight">NUIRE</td>
</tr>
<tr>
<td>Accident vasculaire crbral</td>
<td class="highlight">1.41</td>
<td class="highlight">NUIRE</td>
</tr>
<tr>
<td>Breast cancer</td>
<td class="highlight">1.26</td>
<td class="highlight">NUIRE</td>
</tr>
<tr>
<td>Pulmonary embolism</td>
<td class="highlight">2.13</td>
<td class="highlight">NUIRE</td>
</tr>
</tbody>
</table>
<div class="result-box animate delay-3">
<div class="value">Inversion compl?te</div>
<div class="label">30 ans de preuves d'observation annules</div>
</div>
</div>
</div>
<div class="slide dark" data-index="7">
<p class="title cream animate">La Leon</p>
<p class="big-number gold animate delay-1" style="font-size: clamp(2rem, 8vw, 5rem);">PR-SPCIFIER</p>
<p class="animate delay-2" style="font-size: 1.1rem; text-align: center; max-width: 600px; margin-top: 1rem;">
                Un protocole rdig avant le dbut de la recherche empche la pche, prvient les biais, empche la distorsion rtrospective.
              </p>
</div>
 HISTOIRE: Lhypothse du timing hormonal 
<div class="slide dark" data-index="7b">
<div class="story-box animate">
<p class="story-opener">Et si le traitement fonctionnait, mais seulement pour certains ?</p>
<div class="real-data-box">
<h4>DONNES RELLES</h4>
<p>
                    WHI a montr un HRT <span class="data-highlight">augmentation globale des vnements cardiovasculaires</span>. Mais des analyses ultrieures ont rvl une tendance critique: les femmes qui ont commenc un THS
                    <span class="data-highlight">dans les 10 ans suivant la mnopause</span> had
                    <span class="data-highlight">Risque cardiovasculaire RDUIT</span>.
                    Women starting <span class="data-highlight">20 ans et plus aprs la mnopause</span> had
                    <span class="data-highlight">INCREASED risk</span>. Le rsultat global nul/prjudiciable masquait un effet de timing.
                  </p>
</div>
<div class="decision-tree">
<div class="decision-tree-header">Le dilemme de l'analyste</div>
<div class="decision-scenario">
                    Vous analysez des sous-groupes WHI. Le rsultat global montre un prjudice. Creusez-vous plus profondment ?
                  </div>
<div class="decision-paths">
<div class="decision-path path-a" role="button" tabindex="0">
<div class="path-label">CHEMIN A: Rapport global uniquement</div>
<div class="path-choice">Conclure que le THS est nocif pour toutes les femmes mnopauses</div>
<div class="path-arrow"></div>
<div class="path-consequence">Message simple. Les lignes directrices dconseillent universellement le THS.</div>
<div class="path-outcome">RSULTAT: refuser le bnfice potentiel aux jeunes femmes mnopauses</div>
</div>
<div class="decision-path path-b" role="button" tabindex="0">
<div class="path-label">CHEMIN B: Pr-spcifier les sous-groupes temporels</div>
<div class="path-choice">Analyser par annes depuis la mnopause (biologiquement plausible)</div>
<div class="path-arrow"></div>
<div class="path-consequence">Dcouvrez la  fentre de synchronisation  pour un dmarrage du THS en toute scurit.</div>
<div class="path-outcome">OUTCOME: permettez des personnalisations recommandations</div>
</div>
</div>
</div>
<div class="story-revelation">
<div class="revelation-label">LE REVELATION</div>
<div class="revelation-text">
                    L'analyse des sous-groupes est dangereuse lors de la pche. Cest essentiel lorsque la biologie prdit une modification des effets. L'hypothse temporelle tait biologiquement plausible et aurait d tre prdfinie.
                  </div>
</div>
</div>
</div>
<div class="slide light" data-index="8">
<div class="content">
<h2 class="title navy animate">PROSPERO Registration</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Inscrivez-vous avant de rechercher</h4>
<p>PROSPERO: Registre prospectif international des revues systmatiques</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Verrouillez vos dcisions</h4>
<p>PICO, stratgie de recherche, rsultats, plan d'analyse - tous prdfinis</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Document Amendments</h4>
<p>Les modifications sont autorises mais doivent tre transparentes et justifies</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Prevent Duplication</h4>
<p>Vrifiez si votre avis existe dj avant de commencer</p>
</div>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">Quiz du module 2</h2>
<div class="quiz-container">
<div class="quiz-question" id="q2-1">
<h4>1. Pourquoi l'tude sur la sant des infirmires a-t-elle montr un bnfice du THS que WHI n'a pas dmontr?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q2-1', 0, 1, ['Taille de l'?chantillon was adequate in both.', 'Correct! Women who chose HRT were already healthierconfounding by indication.', 'Follow-up duration was similar.', 'The hormone formulations were the same.'])">
<span>A.</span> La sant des infirmires compt trop peu de patients
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q2-1', 1, 1, ['Taille de l'?chantillon was adequate in both.', 'Correct! Women who chose HRT were already healthierconfounding by indication.', 'Follow-up duration was similar.', 'The hormone formulations were the same.'])">
<span>B.</span> Biais des utilisateurs sains dans les tudes observationnelles
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q2-1', 2, 1, ['Taille de l'?chantillon was adequate in both.', 'Correct! Women who chose HRT were already healthierconfounding by indication.', 'Follow-up duration was similar.', 'The hormone formulations were the same.'])">
<span>C.</span> Nurses' Health a bnfici d'un suivi plus court
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q2-1', 3, 1, ['Taille de l'?chantillon was adequate in both.', 'Correct! Women who chose HRT were already healthierconfounding by indication.', 'Follow-up duration was similar.', 'The hormone formulations were the same.'])">
<span>D.</span> Diffrentes formulations hormonales ont t utilises
                      </div>
</div>
<div id="q2-1-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q2-2" style="margin-top: 1.5rem;">
<h4>2. Quel est l'objectif principal de l'enregistrement PROSPERO?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q2-2', 0, 2, ['PROSPERO is for reviews, not trials.', 'Faster completion is not the goal.', 'Correct! Pre-specifying methods prevents post-hoc changes that bias results.', 'Funding is separate from registration.'])">
<span>A.</span> Pour enregistrer les essais cliniques
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q2-2', 1, 2, ['PROSPERO is for reviews, not trials.', 'Faster completion is not the goal.', 'Correct! Pre-specifying methods prevents post-hoc changes that bias results.', 'Funding is separate from registration.'])">
<span>B.</span> Pour acclrer l'achvement de l'examen
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q2-2', 2, 2, ['PROSPERO is for reviews, not trials.', 'Faster completion is not the goal.', 'Correct! Pre-specifying methods prevents post-hoc changes that bias results.', 'Funding is separate from registration.'])">
<span>C.</span> Pour pr-spcifier les mthodes et viter les biais
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q2-2', 3, 2, ['PROSPERO is for reviews, not trials.', 'Faster completion is not the goal.', 'Correct! Pre-specifying methods prevents post-hoc changes that bias results.', 'Funding is separate from registration.'])">
<span>D.</span> Pour obtenir un financement pour les examens
                      </div>
</div>
<div id="q2-2-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide dark" data-index="10">
<p class="closing-line animate">La pr-spcification n'est pas une bureaucratie.</p>
<p class="closing-line animate delay-1">C'est une protection.</p>
<p class="closing-line gold animate delay-2">Contre notre propre tendance  trouver ce  quoi nous nous attendons.</p>
<div class="gold-line animate delay-3"></div>
<p class="closing-line italic animate delay-4">Les mthodes protgent les patients de notre confiance.</p>
</div>
<div class="slide black" data-index="11">
<p class="refrain animate">Qu'est-ce qui tait cach  la vue de tous?</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 3: La recherche</p>
</div>
</div>
 Module 3 : La recherche (Rosiglitazone) 
<div class="module-slides" data-module="3">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Qu'est-ce qui tait cach  la vue de tous?</p>
</div>
<div class="slide dark" data-index="1">
<p class="title cream animate text-center">Ceci est une histoire sur</p>
<p class="title gold animate delay-1 text-center">ce qu'ils n'ont pas fait publier.</p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Module 3: La recherche</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Dvelopper une stratgie de recherche complte en utilisant les directives de la PRESS</li>
<li>Rechercher dans plusieurs bases de donnes, y compris des sources de littrature grise</li>
<li>Identifier les registres d'essais et les bases de donnes rglementaires (ClinicalTrials.gov, FDA)</li>
<li>Expliquez comment le cas de la rosiglitazone a rvl des dommages cardiovasculaires cachs</li>
<li>Appliquez le principe :  Qu'est-ce qui tait cach  la vue de tous ?</li>
</ul>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<p class="big-number navy animate">$3.2B</p>
<p class="subtitle animate delay-1">Ventes annuelles au sommet</p>
<p class="serif animate delay-2" style="font-size: 1.25rem; font-style: italic; color: var(--text);">Avandia (rosiglitazone) tait l'un des mdicaments contre le diabte les plus vendus au monde.</p>
<div class="gold-line animate delay-3"></div>
<p class="animate delay-4" style="color: var(--light-text);">Les essais publis semblaient rassurants. Les indits racontaient une histoire diffrente.</p>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Les preuves publies (avant 2007)</h2>
<div class="card animate delay-1">
<p class="card-text text-center">Les essais publis ont montr que la rosiglitazone rduisait efficacement l'HbA1c. Les rsultats cardiovasculaires ont t rarement signals.</p>
</div>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">1999</div>
<div class="stat-label">FDA approval</div>
</div>
<div class="stat-box">
<div class="stat-value">6M+</div>
<div class="stat-label">Patients traits</div>
</div>
<div class="stat-box">
<div class="stat-value">~0.7%</div>
<div class="stat-label">Rduction de l'HbA1c</div>
</div>
</div>
<p class="footnote animate delay-3">La mre porteuse avait l'air bien. Mais qu'en est-il des vnements cardiovasculaires rels?</p>
</div>
</div>
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">Dcouverte de Nissan: mai 2007</h2>
<p class="serif animate delay-1" style="font-style: italic; color: var(--gold); margin-bottom: 1rem;">Le Dr Steven Nissen a obtenu des donnes d'essais non publies sur le site Web de GSK.</p>
<div class="card animate delay-2">
<p class="card-text text-center">GSK avait t tenu par un accord juridique de publier en ligne les rsultats des essais cliniques. Nissen et Wolski ont analys 42 essais, dont beaucoup n'ont jamais t publis dans des revues.</p>
</div>
<div class="focus-box animate delay-3 mt-2">
<p class="main">Les donnes taient techniquement publiques.</p>
<p class="sub">Personne ne l'avait systmatiquement recherch.</p>
</div>
</div>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">Les rsultats de la mta-analyse</h2>
<table class="results-table animate delay-1">
<thead>
<tr>
<th>Rsultat</th>
<th>Rapport de cotes</th>
<th>95% CI</th>
</tr>
</thead>
<tbody>
<tr>
<td>Infarctus du myocarde</td>
<td class="highlight">1.43</td>
<td class="highlight">1.03 - 1.98</td>
</tr>
<tr>
<td>CV Death</td>
<td>1.64</td>
<td>0.98 - 2.74</td>
</tr>
</tbody>
</table>
<div class="result-box animate delay-2">
<div class="value">43% de risque accru de crise cardiaque</div>
<div class="label">p = 0,03 pour l'infarctus du myocarde</div>
</div>
<p class="footnote animate delay-3">Publi dans NEJM. La FDA a convoqu une runion du comit consultatif d'urgence.</p>
</div>
</div>
<div class="slide dark" data-index="6">
<div class="content">
<h2 class="title cream animate">Le comit consultatif de la FDA: juillet 2007</h2>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value">22-1</div>
<div class="stat-label">Vots: le risque CV existe</div>
</div>
<div class="stat-box">
<div class="stat-value">20-3</div>
<div class="stat-label">Rester sur le march avec des avertissements</div>
</div>
</div>
<p class="animate delay-2" style="margin-top: 1.5rem; text-align: center;">Le comit tait divis. Certains voulaient le retirer. Certains ont qualifi la mta-analyse de dfectueuse.</p>
<p class="animate delay-3" style="margin-top: 1rem; font-size: 1.1rem; text-align: center; color: var(--gold);">Mais le signal ne pouvait pas passer inaperu.</p>
</div>
</div>
<div class="slide light" data-index="7">
<div class="content">
<h2 class="title navy animate">Le Consquences</h2>
<div class="wrong-item animate delay-1">
<div class="wrong-number">1</div>
<p><strong>Avertissement bote noire</strong> ajout pour le risque d'insuffisance cardiaque (2007)</p>
</div>
<div class="wrong-item animate delay-2">
<div class="wrong-number">2</div>
<p><strong>Severe restrictions</strong> sur prescription aux tats-Unis (2010)</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number">3</div>
<p><strong>Retir</strong>  partir du march europen entirement (2010)</p>
</div>
<div class="wrong-item animate delay-4">
<div class="wrong-number">4</div>
<p><strong>La FDA ncessite dsormais</strong> essais sur les rsultats cardiovasculaires pour tous les mdicaments contre le diabte</p>
</div>
</div>
</div>
<div class="slide light" data-index="8">
<div class="content">
<h2 class="title navy animate">Ce qu'exige une recherche complte</h2>
<div class="design-grid animate delay-1">
<div class="design-item">
<div class="design-item-label">PUBLI</div>
<div class="design-item-value">PubMed, Embase, CENTRAL, Web de Science</div>
</div>
<div class="design-item">
<div class="design-item-label">GREY LITERATURE</div>
<div class="design-item-value">Rsums de confrence, mmoires, documents rglementaires</div>
</div>
<div class="design-item">
<div class="design-item-label">TRIAL REGISTRIES</div>
<div class="design-item-value">ClinicalTrials.gov, OMS ICTRP, EU CTR</div>
</div>
<div class="design-item">
<div class="design-item-label">RGLEMENTATION</div>
<div class="design-item-value">Soumissions FDA, EMA, Sant Canada</div>
</div>
<div class="design-item">
<div class="design-item-label">ENTREPRISE DONNES</div>
<div class="design-item-value">Registres d'essais cliniques GSK, Pfizer, Roche</div>
</div>
<div class="design-item">
<div class="design-item-label">HAND SEARCH</div>
<div class="design-item-value">Listes de rfrence, auteurs de contact, experts</div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">La check-list PRESSE</h2>
<p class="animate delay-1" style="font-style: italic; margin-bottom: 1rem;">Examen par les pairs des stratgies de recherche lectronique</p>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Traduction de la recherche Question</h4>
<p>La recherche reflte-t-elle les lments PICO?</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Boolen et proximit Oprateurs</h4>
<p>AND, OR, NOT sont-ils correctement utiliss ?</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Subject Headings</h4>
<p>Les termes MeSH/Emtree sont-ils appropris et clats?</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Text Words</h4>
<p>Synonymes, variantes orthographiques, troncature?</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Liste de contrle de PRESSE (suite)</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">5</div>
<div class="lesson-content">
<h4>Orthographe, syntaxe, numros de ligne</h4>
<p>Y a-t-il des erreurs qui pourraient entraner des checs de rcupration?</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">6</div>
<div class="lesson-content">
<h4>Limites et filtres</h4>
<p>Les limites de date, de langue et de conception de ltude sont-elles appropries?</p>
</div>
</div>
<div class="focus-box animate delay-3 mt-2">
<p class="main">Une recherche value par les pairs a 30 % plus de chances de trouver la cl tudes.</p>
<p class="sub">McGowan et al., 2016</p>
</div>
</div>
</div>
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">Database Translation</h2>
<p class="animate delay-1" style="margin-bottom: 1rem;">La mme recherche doit tre adapte pour chaque base de donnes :</p>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; max-width: 700px;">
<div class="card animate delay-2">
<div class="card-label">PubMed</div>
<p class="card-text" style="font-family: monospace; font-size: 0.8rem;">"diabte sucr de type 2"[MeSH] OU "type 2 diabte"[tiab]</p>
</div>
<div class="card animate delay-3">
<div class="card-label">Embase</div>
<p class="card-text" style="font-family: monospace; font-size: 0.8rem;">'diabte sucr non insulino-dpendant'/exp OU 'diabte de type 2' :ti,ab</p>
</div>
</div>
<p class="footnote animate delay-4">Les en-ttes de sujet, les balises de champ et les oprateurs diffrent selon les bases de donnes.</p>
</div>
</div>
<div class="slide dark" data-index="12">
<p class="closing-line animate">Si Nissen avait seulement cherch PubMed,</p>
<p class="closing-line animate delay-1">le signal serait rest cach.</p>
<p class="closing-line gold animate delay-2">La recherche complte est la survie.</p>
<div class="gold-line animate delay-3"></div>
<p class="closing-line italic animate delay-4">Qu'est-ce qui tait cach  la vue de tous?</p>
</div>
<!-- Quiz -->
<div class="slide light" data-index="13">
<div class="content">
<h2 class="title navy animate">Quiz du module 3</h2>
<div class="quiz-container">
<div class="quiz-question" id="q3-1">
<h4>1. Quel type de source de preuves a rvl le signal cardiovasculaire de la rosiglitazone?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q3-1', 0, 2, ['Published trials alone did not reveal the signal.', 'The Cochrane Library compiles existing reviews but did not contain this data.', 'Correct! GSK had posted trial data on their website as part of a legal settlement.', 'FDA approval documents did not contain this analysis.'])">
<span>A.</span> Articles de revues publis
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q3-1', 1, 2, ['Published trials alone did not reveal the signal.', 'The Cochrane Library compiles existing reviews but did not contain this data.', 'Correct! GSK had posted trial data on their website as part of a legal settlement.', 'FDA approval documents did not contain this analysis.'])">
<span>B.</span> Bibliothque Cochrane
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q3-1', 2, 2, ['Published trials alone did not reveal the signal.', 'The Cochrane Library compiles existing reviews but did not contain this data.', 'Correct! GSK had posted trial data on their website as part of a legal settlement.', 'FDA approval documents did not contain this analysis.'])">
<span>C.</span> Registre des essais cliniques des entreprises
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q3-1', 3, 2, ['Published trials alone did not reveal the signal.', 'The Cochrane Library compiles existing reviews but did not contain this data.', 'Correct! GSK had posted trial data on their website as part of a legal settlement.', 'FDA approval documents did not contain this analysis.'])">
<span>D.</span> Documents d'approbation de la FDA
                      </div>
</div>
<div id="q3-1-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q3-2">
<h4>2. Que vaut PRESS pour?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q3-2', 0, 1, ['This is not what PRESS stands for.', 'Correct! PRESS is a guideline for having search strategies reviewed by a second expert.', 'This is not what PRESS stands for.', 'This is not what PRESS stands for.'])">
<span>A.</span> Examen des publications sur les normes de recherche de preuves
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q3-2', 1, 1, ['This is not what PRESS stands for.', 'Correct! PRESS is a guideline for having search strategies reviewed by a second expert.', 'This is not what PRESS stands for.', 'This is not what PRESS stands for.'])">
<span>B.</span> Examen par les pairs des stratgies de recherche lectronique
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q3-2', 2, 1, ['This is not what PRESS stands for.', 'Correct! PRESS is a guideline for having search strategies reviewed by a second expert.', 'This is not what PRESS stands for.', 'This is not what PRESS stands for.'])">
<span>C.</span> Protocole de reporting des tudes de synthse des preuves
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q3-2', 3, 1, ['This is not what PRESS stands for.', 'Correct! PRESS is a guideline for having search strategies reviewed by a second expert.', 'This is not what PRESS stands for.', 'This is not what PRESS stands for.'])">
<span>D.</span> Systme de recherche de preuves de recherche primaires
                      </div>
</div>
<div id="q3-2-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide black" data-index="14">
<p class="refrain animate">Qu'est-ce qui tait cach  la vue de tous?</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 4:La projection</p>
</div>
</div>
 Module 4: Le dpistage (Vioxx) 
<div class="module-slides" data-module="4">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Le numro sans provenance n'est pas un numro.</p>
</div>
<div class="slide dark" data-index="1">
<p class="title cream animate text-center">Ceci est une histoire sur</p>
<p class="title gold animate delay-1 text-center">ce qu'ils a choisi de signaler.</p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Module 4:La projection</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Appliquer le diagramme de flux PRISMA  documenter la slection des tudes</li>
<li>Mettre en uvre une slection  double valuateur en cas de conflit. rsolution</li>
<li>Identifier les rapports slectifs sur les rsultats et la manipulation des donnes</li>
<li>Calculer la fiabilit inter-valuateurs (kappa de Cohen)</li>
<li>Appliquer le principe :  Le numro sans provenance n'est pas un numro </li>
</ul>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<p class="big-number navy animate">88,000</p>
<p class="subtitle animate delay-1">crise cardiaque attribue au Vioxx</p>
<p class="serif animate delay-2" style="font-size: 1.25rem; font-style: italic; color: var(--text);">Un mdicament  succs. Un signal cach. Une catastrophe vitable.</p>
<div class="gold-line animate delay-3"></div>
<p class="animate delay-4" style="color: var(--light-text);">Entre 1999 et 2004, des millions de personnes ont pris cet analgsique. Certains ne sont jamais rentrs  la maison.</p>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">La monte du Vioxx</h2>
<div class="card animate delay-1">
<p class="card-text text-center">Le rofcoxib (Vioxx) tait un AINS slectif de la COX-2. Commercialis comme tant plus sr pour lestomac que les analgsiques traditionnels.</p>
</div>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">1999</div>
<div class="stat-label">FDA approval</div>
</div>
<div class="stat-box">
<div class="stat-value">$2.5B</div>
<div class="stat-label">Pic des ventes annuelles</div>
</div>
<div class="stat-box">
<div class="stat-value">80M+</div>
<div class="stat-label">Patients prescrits</div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">L'essai VIGOR (2000)</h2>
<p class="serif animate delay-1" style="font-style: italic; color: var(--gold); margin-bottom: 1rem;">Recherche sur les rsultats gastro-intestinaux du Vioxx</p>
<div class="design-grid animate delay-2">
<div class="design-item">
<div class="design-item-label">Conception</div>
<div class="design-item-value">Randomized, double-blind</div>
</div>
<div class="design-item">
<div class="design-item-label">Comparaison</div>
<div class="design-item-value">Vioxx ou Naproxne</div>
</div>
<div class="design-item">
<div class="design-item-label">Population</div>
<div class="design-item-value">Rheumatoid arthritis</div>
</div>
<div class="design-item">
<div class="design-item-label">chantillon</div>
<div class="design-item-value">8 076 patients</div>
</div>
<div class="design-item">
<div class="design-item-label">Primary Outcome</div>
<div class="design-item-value">GI events</div>
</div>
<div class="design-item">
<div class="design-item-label">Publi</div>
<div class="design-item-value">NEJM, November 2000</div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">Ce que VIGOR a publi</h2>
<table class="results-table animate delay-1">
<thead>
<tr>
<th>GI Outcome</th>
<th>Vioxx</th>
<th>Naproxne</th>
</tr>
</thead>
<tbody>
<tr>
<td>vnements gastro-intestinaux confirms</td>
<td style="color: var(--green);">2.1 per 100 pt-yrs</td>
<td>4.5 per 100 pt-yrs</td>
</tr>
<tr>
<td>Rduction</td>
<td colspan="2" style="color: var(--green); font-weight: 700;">54% d'vnements gastro-intestinaux en moins</td>
</tr>
</tbody>
</table>
<div class="card navy-bg animate delay-2">
<p class="card-text text-center">Le titre : Le Vioxx est plus sr pour votre estomac !</p>
</div>
<p class="footnote animate delay-3">C'est ce qu'on a dit aux mdecins. Cest ce que croyaient les patients.</p>
</div>
</div>
<div class="slide light" data-index="6">
<div class="content">
<h2 class="title navy animate">Qu'est-ce que VIGOR a enterr</h2>
<table class="results-table animate delay-1">
<thead>
<tr>
<th>CV Outcome</th>
<th>Vioxx</th>
<th>Naproxne</th>
</tr>
</thead>
<tbody>
<tr>
<td>Infarctus du myocarde</td>
<td class="highlight">20 vnements</td>
<td>4 vnements</td>
</tr>
<tr>
<td>Risque relatif</td>
<td class="highlight" colspan="2">5 fois plus leves dans le groupe Vioxx</td>
</tr>
</tbody>
</table>
<div class="result-box animate delay-2">
<div class="value">Une multiplication par 5 des crises cardiaques</div>
<div class="label">Mentionn seulement brivement, attribu au fait que le naproxne est  cardioprotecteur </div>
</div>
</div>
</div>
<div class="slide light" data-index="7">
<div class="content">
<h2 class="title navy animate">Les rapports slectifs</h2>
<div class="wrong-item animate delay-1">
<div class="wrong-number">1</div>
<p><strong>Manipulation du seuil de donnes:</strong> 3 crises cardiaques supplmentaires se sont produites aprs le seuil utilis dans la publication</p>
</div>
<div class="wrong-item animate delay-2">
<div class="wrong-number">2</div>
<p><strong>Rotation:</strong> Le signal CV a t expliqu par le fait que le naproxne tait cardioprotecteur (aucune preuve)</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number">3</div>
<p><strong>Outcome switching:</strong> Les vnements CV taient prdfinis mais non souligns</p>
</div>
<div class="wrong-item animate delay-4">
<div class="wrong-number">4</div>
<p><strong>Internal knowledge:</strong> Les e-mails de Merck montrent qu'ils connaissaient le signal</p>
</div>
</div>
</div>
<div class="slide dark" data-index="8">
<div class="content">
<h2 class="title cream animate">L'essai APPROVe (2004)</h2>
<p class="animate delay-1">Un essai pour la prvention des polypes colorectaux  arrt tt pour des raisons de scurit.</p>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">RR 1.92</div>
<div class="stat-label">vnements CV par rapport au placebo</div>
</div>
<div class="stat-box">
<div class="stat-value">septembre 2004</div>
<div class="stat-label">Vioxx withdrawn</div>
</div>
</div>
<p class="animate delay-3" style="margin-top: 1.5rem; color: var(--gold); font-style: italic; text-align: center;">
                  Quatre ans aprs que VIGOR ait montr un risque 5x. Quatre ans trop tard.
                </p>
</div>
</div>
 HISTOIRE: Larbre dcisionnel Vioxx 
<div class="slide dark" data-index="8b">
<div class="story-box animate">
<p class="story-opener">Avez-vous rflchi  ce qui se passe lorsquun signal se cache dans le bruit?</p>
<div class="real-data-box">
<h4>DONNES RELLES</h4>
<p>
                    Le Vioxx (rofcoxib) a t approuv dans <span class="data-highlight">1999</span>.
                    By <span class="data-highlight">2004</span>, estimates suggest
                    <span class="data-highlight">88 000  140 000 crises cardiaques excessives</span> and
                    <span class="data-highlight">30 000  40 000 dcs</span>. L'essai VIGOR de Merck a montr <span class="data-highlight">5x cardiovascular risk</span> en 2000, mais elle a t rejete comme un naproxne cardioprotecteur effet."
                  </p>
</div>
<div class="decision-tree">
<div class="decision-tree-header">La fourche sur la route</div>
<div class="decision-scenario">
                    Vous tes un examinateur de la FDA en 2001. Les donnes VIGOR montrent un risque de crise cardiaque multipli par 5 avec le Vioxx par rapport au naproxne.
                  </div>
<div class="decision-paths">
<div class="decision-path path-a" role="button" tabindex="0">
<div class="path-label">CHEMIN A: Accepter l'explication</div>
<div class="path-choice">Croyez l'hypothse de Merck : le naproxne est cardioprotecteur</div>
<div class="path-arrow"></div>
<div class="path-consequence">Aucune tude de scurit supplmentaire n'est requise. Le mdicament reste sur le march  toute vitesse.</div>
<div class="path-outcome">RSULTAT: plus de 40 000 dcs sur 4 ans</div>
</div>
<div class="decision-path path-b" role="button" tabindex="0">
<div class="path-label">CHEMIN B: Exiger des preuves</div>
<div class="path-choice">Exiger un essai ddi sur la scurit du CV avant de continuer marketing</div>
<div class="path-arrow"></div>
<div class="path-consequence">Retarder ou restreindre la commercialisation jusqu' ce que la scurit cardiovasculaire soit tablie.</div>
<div class="path-outcome">OUTCOME: signal dtect tt, vies sauves</div>
</div>
</div>
</div>
<div class="story-revelation">
<div class="revelation-label">LE REVELATION</div>
<div class="revelation-text">
                    Le signal tait l en 2000. Une explication errone a retard laction de 4 ans. Une hypothse alternative  accepte sans preuve  a cot des dizaines de milliers de vies.
                  </div>
</div>
</div>
</div>
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">L'organigramme PRISMA</h2>
<p class="animate delay-1" style="font-style: italic; margin-bottom: 1rem;">Chaque tape du dpistage doit tre documente et transparente.</p>
<div style="display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
<div class="stat-box animate delay-1" style="width: 300px;"><div class="stat-value">Identification</div><div class="stat-label">Enregistrements issus de bases de donnes + autres sources</div></div>
<div class="arrow animate delay-1" style="font-size: 1.5rem;"></div>
<div class="stat-box animate delay-2" style="width: 300px;"><div class="stat-value">Dpistage</div><div class="stat-label">Revue du titre/du rsum (doublons supprims)</div></div>
<div class="arrow animate delay-2" style="font-size: 1.5rem;"></div>
<div class="stat-box animate delay-3" style="width: 300px;"><div class="stat-value">ligibilit</div><div class="stat-label">valuation en texte intgral (avec raisons d'exclusion)</div></div>
<div class="arrow animate delay-3" style="font-size: 1.5rem;"></div>
<div class="stat-box animate delay-4" style="width: 300px; background: var(--gold); color: var(--navy);"><div class="stat-value">Compris</div><div class="stat-label">Etudes en synthse</div></div>
</div>
</div>
</div>
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Double dpistage: pourquoi deux valuateurs?</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Rduit le biais de slection</h4>
<p>Un valuateur pourrait inconsciemment favoriser certains tudes</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Catches Errors</h4>
<p>La fatigue, les erreurs de lecture et les erreurs sont invitables</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Force des critres explicites</h4>
<p>Les dsaccords rvlent une ambigut dans les rgles d'inclusion</p>
</div>
</div>
<div class="focus-box animate delay-4 mt-2">
<p class="main">Typical agreement:  = 0.6-0.8</p>
<p class="sub">Dsaccords rsolus par discussion ou par un troisime valuateur</p>
</div>
</div>
</div>
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">talonnage: la phase pilote</h2>
<div class="card animate delay-1">
<p class="card-text text-center">Avant de filtrer des milliers de dossiers, les examinateurs doivent calibrer sur un chantillon de 50  100 dossiers.</p>
</div>
<div class="wrong-item animate delay-2">
<div class="wrong-number">1</div>
<p>Dpister le mme ensemble de manire indpendante</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number">2</div>
<p>Comparez les dcisions et discutez des dsaccords</p>
</div>
<div class="wrong-item animate delay-4">
<div class="wrong-number">3</div>
<p>Affiner les critres d'inclusion jusqu'  &gt; 0,7</p>
</div>
<div class="wrong-item animate delay-5">
<div class="wrong-number">4</div>
<p>Documenter le processus d'talonnage et tout changement de rgle</p>
</div>
</div>
</div>
<div class="slide light" data-index="12">
<div class="content">
<h2 class="title navy animate">PRISMA 2020 Updates</h2>
<div class="design-grid animate delay-1" style="grid-template-columns: 1fr 1fr;">
<div class="design-item">
<div class="design-item-label">Nouveaut 2020</div>
<div class="design-item-value">Rapport spar des recherches dans la base de donnes et dans les registres</div>
</div>
<div class="design-item">
<div class="design-item-label">Nouveaut 2020</div>
<div class="design-item-value">Les outils d'automatisation doivent tre signals</div>
</div>
<div class="design-item">
<div class="design-item-label">Nouveaut 2020</div>
<div class="design-item-value">Recherche de citations documentes sparment</div>
</div>
<div class="design-item">
<div class="design-item-label">Nouveaut 2020</div>
<div class="design-item-value">Motifs d'exclusion au texte intgral obligatoire</div>
</div>
</div>
<p class="footnote animate delay-2">PRISMA 2020 tait une rvision substantielle de la dclaration originale de 2009, restructurant la liste de contrle et ajoutant de nouvelles directives de reporting pour des lments tels que les outils d'automatisation, la certitude des preuves, le protocole/l'enregistrement et la synthse largie. mthodes.</p>
</div>
</div>
<div class="slide dark" data-index="13">
<p class="closing-line animate">Si les donnes cardiovasculaires de Vioxx avaient t examines par des valuateurs indpendants,</p>
<p class="closing-line animate delay-1">si tous les rsultats prdfinis devaient tre rapports,</p>
<p class="closing-line gold animate delay-2">88 000 crises cardiaques auraient pu tre vites.</p>
<div class="gold-line animate delay-3"></div>
<p class="closing-line italic animate delay-4">Le numro sans provenance n'est pas un numro.</p>
</div>
<!-- Quiz -->
<div class="slide light" data-index="14">
<div class="content">
<h2 class="title navy animate">Quiz module 4</h2>
<div class="quiz-container">
<div class="quiz-question" id="q4-1">
<h4>1. Dans l'essai VIGOR, quel tait le risque relatif d'IM dans le groupe Vioxx par rapport au naproxne ?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q4-1', 0, 2, ['The risk was much higher than 1.5x.', 'The risk was higher than 2x.', 'Correct! 20 events vs 4 events = 5-fold higher risk.', 'The risk increase was substantial, not 10x.'])">
<span>A.</span> 1,5x suprieur
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q4-1', 1, 2, ['The risk was much higher than 1.5x.', 'The risk was higher than 2x.', 'Correct! 20 events vs 4 events = 5-fold higher risk.', 'The risk increase was substantial, not 10x.'])">
<span>B.</span> 2x plus lev
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q4-1', 2, 2, ['The risk was much higher than 1.5x.', 'The risk was higher than 2x.', 'Correct! 20 events vs 4 events = 5-fold higher risk.', 'The risk increase was substantial, not 10x.'])">
<span>C.</span> 5x plus lev
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q4-1', 3, 2, ['The risk was much higher than 1.5x.', 'The risk was higher than 2x.', 'Correct! 20 events vs 4 events = 5-fold higher risk.', 'The risk increase was substantial, not 10x.'])">
<span>D.</span> 10x plus lev
                      </div>
</div>
<div id="q4-1-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q4-2">
<h4>2. Pourquoi la double slection (deux valuateurs indpendants) est-elle importante?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q4-2', 0, 1, ['Speed is not the primary goal of dual screening.', 'Correct! Dual screening reduces individual bias and catches errors.', 'Dual screening adds work, not reduces it.', 'This is backwards - dual screening improves quality.'])">
<span>A.</span> Cela facilite le dpistage plus rapide
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q4-2', 1, 1, ['Speed is not the primary goal of dual screening.', 'Correct! Dual screening reduces individual bias and catches errors.', 'Dual screening adds work, not reduces it.', 'This is backwards - dual screening improves quality.'])">
<span>B.</span> Il rduit les biais de slection et dtecte les erreurs
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q4-2', 2, 1, ['Speed is not the primary goal of dual screening.', 'Correct! Dual screening reduces individual bias and catches errors.', 'Dual screening adds work, not reduces it.', 'This is backwards - dual screening improves quality.'])">
<span>C.</span> Cela rduit le nombre d'tudes  examiner
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q4-2', 3, 1, ['Speed is not the primary goal of dual screening.', 'Correct! Dual screening reduces individual bias and catches errors.', 'Dual screening adds work, not reduces it.', 'This is backwards - dual screening improves quality.'])">
<span>D.</span> Il permet aux valuateurs d'ignorer l'examen du texte intgral
                      </div>
</div>
<div id="q4-2-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide black" data-index="15">
<p class="refrain animate">Le numro sans provenance n'est pas un numro.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 5 : L'extraction</p>
</div>
</div>
 Module 5 : L'extraction (DIMINUER) 
<div class="module-slides" data-module="5">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Le numro sans provenance n'est pas un numro.</p>
</div>
<div class="slide dark" data-index="1">
<p class="title cream animate text-center">Ceci est une histoire sur</p>
<p class="title gold animate delay-1 text-center">nombres qui n'ont jamais existait.</p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Module 5 : L'extraction</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Concevoir un formulaire d'extraction de donnes standardis avec des champs de provenance</li>
<li>Calculez l'ampleur des effets  partir de diverses statistiques rapportes (OR, RR, HR, SMD)</li>
<li>Mettre en uvre une double extraction avec rsolution des carts</li>
<li>Identifier les signaux d'alarme en cas de fabrication de donnes et de mauvaise conduite</li>
<li>Expliquez comment la fraude DECREASE a affect les directives cliniques</li>
</ul>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<p class="big-number navy animate">~10,000</p>
<p class="subtitle animate delay-1">surmortalit possible en Europe</p>
<p class="serif animate delay-2" style="font-size: 1.25rem; font-style: italic; color: var(--text);"> partir de lignes directrices bases sur des donnes d'essais cliniques fabriques.</p>
<div class="gold-line animate delay-3"></div>
<p class="animate delay-4" style="color: var(--light-text);">Les essais DECREASE ont influenc les activits priopratoires soins dans le monde entier. Les donnes ont t inventes.</p>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Don Poldermans: une star Chercheur</h2>
<div class="card animate delay-1">
<p class="card-text text-center">Professeur au centre mdical Erasmus de Rotterdam. Auteur de plus de 500 articles. Auteur principal des lignes directrices de l'ESC sur les soins cardiaques priopratoires.</p>
</div>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">500+</div>
<div class="stat-label">Publications</div>
</div>
<div class="stat-box">
<div class="stat-value">DIMINUER</div>
<div class="stat-label">Sries d'essais I  VI</div>
</div>
<div class="stat-box">
<div class="stat-value">ESC</div>
<div class="stat-label">Guideline chair</div>
</div>
</div>
<p class="footnote animate delay-3">Une source apparemment irrprochable. Jusqu' ce que quelqu'un examine les donnes.</p>
</div>
</div>
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">Les essais DECREASE: l'allgation</h2>
<table class="results-table animate delay-1">
<thead>
<tr>
<th>Procs</th>
<th>Trouver</th>
<th>Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td>DIMINUTION-I (1999)</td>
<td>Rduction de 90% des dcs</td>
<td>Changed guidelines</td>
</tr>
<tr>
<td>DIMINUTION-IV (2009)</td>
<td>Les btabloquants sont srs chez les patients  faible risque</td>
<td>Expanded recommendations</td>
</tr>
</tbody>
</table>
<div class="focus-box animate delay-2 mt-2">
<p class="main">Les tailles d'effet taient invraisemblables grand.</p>
<p class="sub">90% de rduction ? Presque rien en mdecine ne fonctionne aussi bien.</p>
</div>
</div>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">L'enqute: 2011</h2>
<div class="wrong-item animate delay-1">
<div class="wrong-number">1</div>
<p>Erasmus MC a enqut suite  des plaintes de dnonciateurs</p>
</div>
<div class="wrong-item animate delay-2">
<div class="wrong-number">2</div>
<p><strong>Donnes de patients fabriques :</strong> Patients qui n'existaient pas ou n'taient pas inscrits</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number">3</div>
<p><strong>Aucun consentement clair:</strong> De nombreux participants n'ont jamais consenti</p>
</div>
<div class="wrong-item animate delay-4">
<div class="wrong-number">4</div>
<p><strong>Poldermans dismissed:</strong> D'Erasmus MC en 2011</p>
</div>
</div>
</div>
<div class="slide dark" data-index="6">
<div class="content">
<h2 class="title cream animate">La cascade du mal</h2>
<p class="animate delay-1" style="margin-bottom: 1rem;">Lorsque DECREASE a t retir des mta-analyses...</p>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">Benefit  Harm</div>
<div class="stat-label">Direction reversed</div>
</div>
<div class="stat-box">
<div class="stat-value">27% </div>
<div class="stat-label">Augmentation du risque d'accident vasculaire crbral</div>
</div>
</div>
<p class="animate delay-3" style="margin-top: 1.5rem; color: var(--gold); font-style: italic; text-align: center;">
                  L'essai POISE (2008) avait montr des dommages. Il a t rejet car il tait en conflit avec DECREASE.
                </p>
</div>
</div>
<div class="slide light" data-index="7">
<div class="content">
<h2 class="title navy animate">Pourquoi Cela n'a-t-il pas t dtect?</h2>
<div class="wrong-item animate delay-1">
<div class="wrong-number">1</div>
<p><strong>Confiance en l'autorit:</strong> Poldermans tait l'auteur des lignes directrices qui examinait ses propres preuves</p>
</div>
<div class="wrong-item animate delay-2">
<div class="wrong-number">2</div>
<p><strong>Aucune vrification des donnes:</strong> Personne n'a demand de donnes individuelles sur les patients</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number">3</div>
<p><strong>Publication prestige:</strong> Publi dans les meilleures revues, suppos valide</p>
</div>
<div class="wrong-item animate delay-4">
<div class="wrong-number">4</div>
<p><strong>Effets invraisemblables accepts:</strong> Des rductions de 90% devraient veiller les soupons</p>
</div>
</div>
</div>
<div class="slide light" data-index="8">
<div class="content">
<h2 class="title navy animate">Extraction de donnes: dfense contre la fraude</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Dual Extraction</h4>
<p>Deux extracteurs indpendants: dtectent les erreurs de transcription et forcent un examen minutieux</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Record Provenance</h4>
<p>Tableau, page, paragraphe - chaque numro traable  la source</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Vrifier par rapport au registre</h4>
<p>Rsultats de ClinicalTrials.gov par rapport  la publication - les carts sont rouges flags</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Request IPD</h4>
<p>Les donnes individuelles des patients rvlent ce que cachent les CV globaux</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">Calcul de la taille de l'effet</h2>
<p class="animate delay-1" style="margin-bottom: 1rem;">Lors de l'extraction, vous calculez les tailles d'effet  partir des donnes rapportes:</p>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; max-width: 700px;">
<div class="card animate delay-2">
<div class="card-label">BINARY OUTCOMES</div>
<p class="card-text" style="font-size: 0.85rem;">Rapport de cotes, risque Ratio, diffrence de risque par rapport aux tableaux 2x2</p>
</div>
<div class="card animate delay-3">
<div class="card-label">CONTINUOUS OUTCOMES</div>
<p class="card-text" style="font-size: 0.85rem;">Diffrence moyenne, diffrence moyenne standardise  partir des moyennes et des carts-types</p>
</div>
</div>
<div class="focus-box animate delay-4 mt-2">
<p class="main">Toujours extraire  partir de la source la plus fiable.</p>
<p class="sub">Prfrer: rsultats ITT &gt; par protocole &gt; sous-groupes</p>
</div>
</div>
</div>
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Drapeaux rouges pendant l'extraction</h2>
<div class="wrong-item animate delay-1">
<div class="wrong-number">!</div>
<p><strong>Tailles d'effet invraisemblables:</strong> Des rductions de 80  90% devraient inciter  un examen minutieux</p>
</div>
<div class="wrong-item animate delay-2">
<div class="wrong-number">!</div>
<p><strong>Baseline imbalances:</strong> Les groupes qui sont "trop parfaitement" correspond</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number">!</div>
<p><strong>Round numbers:</strong> "Exactement 50" ou "exactement 100 " patients par bras</p>
</div>
<div class="wrong-item animate delay-4">
<div class="wrong-number">!</div>
<p><strong>Registry discrepancies:</strong> Le N publi diffre du N enregistr</p>
</div>
</div>
</div>
<div class="slide dark" data-index="11">
<p class="closing-line animate">Chaque chiffre de votre mta-analyse</p>
<p class="closing-line animate delay-1">doit remonter  une source vrifiable.</p>
<p class="closing-line gold animate delay-2">Le numro sans provenance n'est pas un numro.</p>
<div class="gold-line animate delay-3"></div>
<p class="closing-line italic animate delay-4">Les donnes frauduleuses peuvent tuer aussi srement que les mdicaments frauduleux.</p>
</div>
<div class="slide light" data-index="11c" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">Conversions de tailles d'effet</h2>
<div class="card animate delay-1">
<p class="card-text">
                    Les tudes rapportent leurs rsultats avec diffrentes mtriques. Pour les combiner, des conversions sont souvent ncessaires :
                  </p>
</div>
<table class="results-table animate delay-2" style="font-size: 0.9rem;">
<thead><tr><th>De</th><th>Vers</th><th>Formule</th></tr></thead>
<tbody>
<tr><td>SMD (d)</td><td>journal-OU</td><td>log-OR = d   / 3</td></tr>
<tr><td>journal-OU</td><td>SMD (d)</td><td>d = log-OR  3 / </td></tr>
<tr><td>Corrlation (r)</td><td>Pcheur Z</td><td>z = 0.5  ln((1+r)/(1r))</td></tr>
<tr><td>OR</td><td>RR</td><td>RR = OU / (1  P + P  OU)</td></tr>
<tr><td>OR</td><td>NNT</td><td>NNT = 1 / (P  ORP / (1P+ORP))</td></tr>
</tbody>
</table>
<p class="footnote animate delay-3">
                  P = risque de base dans le groupe contrle. Ces formules supposent des conditions approximatives ;
                  voir Borenstein et al. (Ch. 7) pour les drivations exactes.
                </p>
</div>
</div>
<div class="slide light" data-index="11d" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">Donnes de type temps-jusqu'-vnement</h2>
<div class="card animate delay-1">
<p class="card-text">
                    De nombreux essais rapportent des rsultats de type temps-jusqu'-vnement via des <strong>rapports de risques instantans</strong> (HR).
                    Le pooling des HR en mta-analyse ncessite un traitement spcial :
                  </p>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>La mthode log(HR) + SE</h4>
<p>
                      Extraire le log(HR) et son erreur-type de l'essai. Si non rapporte, driver l'ET  partir de l'IC :
                      SE = (ln(borne sup)  ln(borne inf)) / (2  1.96). Combiner par la mthode de la variance inverse.
                    </p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Quand le HR n'est pas rapport</h4>
<p>
                      Des mthodes existent pour reconstruire les donnes individuelles  partir des courbes de KaplanMeier (Guyot et al. 2012)
                      ou estimer le HR  partir des valeurs p et du nombre d'vnements (Parmar et al. 1998). Toujours
                      prfrer le HR ajust directement rapport lorsque disponible.
                    </p>
</div>
</div>
<p class="footnote animate delay-4">
                  HR &lt; 1 favorise le traitement ; HR &gt; 1 favorise le contrle.
                  Ne <strong>pas</strong> convertir les HR en OR ou RR  ils mesurent des quantits fondamentalement diffrentes.
                </p>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="12">
<div class="content">
<h2 class="title navy animate">Quiz module 5</h2>
<div class="quiz-container">
<div class="quiz-question" id="q5-1">
<h4>1. Que s'est-il pass lorsque les donnes de l'essai DECREASE ont t supprimes des mta-analyses des btabloquants?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q5-1', 0, 2, ['DECREASE data inflated benefits, not reduced them.', 'The effect size changed substantially.', 'Correct! Without DECREASE, the remaining evidence showed potential harm, not benefit.', 'The findings were not unchanged.'])">
<span>A.</span> Le bnfice est devenu encore plus important
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q5-1', 1, 2, ['DECREASE data inflated benefits, not reduced them.', 'The effect size changed substantially.', 'Correct! Without DECREASE, the remaining evidence showed potential harm, not benefit.', 'The findings were not unchanged.'])">
<span>B.</span> Aucun changement dans les conclusions
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q5-1', 2, 2, ['DECREASE data inflated benefits, not reduced them.', 'The effect size changed substantially.', 'Correct! Without DECREASE, the remaining evidence showed potential harm, not benefit.', 'The findings were not unchanged.'])">
<span>C.</span> La direction s'est inverse pour montrer les dommages potentiels
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q5-1', 3, 2, ['DECREASE data inflated benefits, not reduced them.', 'The effect size changed substantially.', 'Correct! Without DECREASE, the remaining evidence showed potential harm, not benefit.', 'The findings were not unchanged.'])">
<span>D.</span> Les rsultats ne sont pas concluants
                      </div>
</div>
<div id="q5-1-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q5-2">
<h4>2. Pourquoi la double extraction devrait-elle tre une pratique standard?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q5-2', 0, 0, ['Correct! Dual extraction catches errors and forces careful scrutiny of each data point.', 'Dual extraction is about accuracy, not speed.', 'Dual extraction is about data quality, not detection.', 'Dual extraction adds work but improves quality.'])">
<span>A.</span> Il dtecte les erreurs de transcription et force un examen minutieux
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q5-2', 1, 0, ['Correct! Dual extraction catches errors and forces careful scrutiny of each data point.', 'Dual extraction is about accuracy, not speed.', 'Dual extraction is about data quality, not detection.', 'Dual extraction adds work but improves quality.'])">
<span>B.</span> Il rend l'extraction plus rapide
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q5-2', 2, 0, ['Correct! Dual extraction catches errors and forces careful scrutiny of each data point.', 'Dual extraction is about accuracy, not speed.', 'Dual extraction is about data quality, not detection.', 'Dual extraction adds work but improves quality.'])">
<span>C.</span> Cela permet de trouver plus d'tudes
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q5-2', 3, 0, ['Correct! Dual extraction catches errors and forces careful scrutiny of each data point.', 'Dual extraction is about accuracy, not speed.', 'Dual extraction is about data quality, not detection.', 'Dual extraction adds work but improves quality.'])">
<span>D.</span> Cela rduit le quantit de travail ncessaire
                      </div>
</div>
<div id="q5-2-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide black" data-index="13">
<p class="refrain animate">Le numro sans provenance n'est pas un numro.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 6: Le biais</p>
</div>
</div>
 Module 6 : Le biais (aprotinine/BART) 
<div class="module-slides" data-module="6">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Les mthodes protgent les patients de notre confiance.</p>
</div>
<div class="slide dark" data-index="1">
<p class="title cream animate text-center">Ceci est une histoire sur</p>
<p class="title gold animate delay-1 text-center">le biais que nous ne pouvons pas voir.</p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Module 6: Le biais</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Appliquer le risque de biais 2.0 (RoB 2) aux essais randomiss</li>
<li>Appliquer ROBINS-I aux tudes non randomises</li>
<li>valuer les cinq domaines RoB 2 (randomisation, carts, donnes manquantes, mesure, slection)</li>
<li>Distinguer les effets confondants par indication des effets rels du traitement</li>
<li>Expliquez comment BART a rvl les mfaits cachs de l'aprotinine</li>
</ul>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<p class="big-number navy animate">20+</p>
<p class="subtitle animate delay-1">annes sur le march</p>
<p class="serif animate delay-2" style="font-size: 1.25rem; font-style: italic; color: var(--text);">L'aprotinine tait l'talon-or pour rduire les risques chirurgicaux saignement.</p>
<div class="gold-line animate delay-3"></div>
<p class="animate delay-4" style="color: var(--light-text);">Puis quelqu'un a ralis un ECR. La vrit tait diffrente.</p>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Le biais cach: confusion par indication</h2>
<div class="wrong-item animate delay-1">
<div class="wrong-number">1</div>
<p><strong>Les patients les plus malades ont reu de l'aprotinine :</strong> Les chirurgiens l'ont utilise dans des cas complexes et  haut risque</p>
</div>
<div class="wrong-item animate delay-2">
<div class="wrong-number">2</div>
<p><strong>Survivors bias:</strong> Les patients dcds ne peuvent pas signaler de complications</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number">3</div>
<p><strong>Publication bias:</strong> Les tudes ngatives n'ont pas t publi</p>
</div>
<div class="focus-box animate delay-4 mt-2">
<p class="main">Les tudes observationnelles n'ont pas pu sparer l'effet du mdicament du risque de base du patient.</p>
</div>
</div>
</div>
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">BART: la vrit randomise</h2>
<p class="red animate delay-1" style="font-style: italic; margin-bottom: 1rem;">Conservation du sang  l'aide d'antifibrinolytiques dans un essai randomis</p>
<table class="results-table animate delay-2">
<thead><tr><th>Rsultat</th><th>Aprotinine</th><th>Alternatives</th></tr></thead>
<tbody>
<tr><td>30-day mortality</td><td class="highlight">6.0%</td><td>3.9%</td></tr>
<tr><td>Risque relatif</td><td class="highlight" colspan="2">1.53 (53% increased death)</td></tr>
</tbody>
</table>
<div class="result-box animate delay-3">
<div class="value">Essai arrt prmaturment pour Dommages</div>
<div class="label">Retir du march en novembre 2007</div>
</div>
</div>
</div>
<!-- Investigation Exercise -->
<div class="slide dark" data-index="5">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Enqute: valuez la Biais</h3>
</div>
<p class="direct-address">Vous examinez les tudes observationnelles. Appliquer le risque de biais en pensant:</p>
<table class="data-table-investigation">
<thead><tr><th>Question</th><th>Observation</th><th>BART (RCT)</th></tr></thead>
<tbody>
<tr><td>Random allocation?</td><td> Surgeon choice</td><td> Yes</td></tr>
<tr><td>Baseline comparable?</td><td> Un malade a reu un mdicament</td><td> quilibr</td></tr>
<tr><td>Aveuglant ?</td><td> Open label</td><td> Double aveugle</td></tr>
</tbody>
</table>
<button class="reveal-btn" onclick="revealAnswer('bias-reveal')">Voir l'information cl </button>
<div class="hidden-reveal" id="bias-reveal">
<p><strong>Confondant par indication:</strong> Les chirurgiens ont administr de l'aprotinine aux patients les plus malades. Les tudes observationnelles attribuaient la survie au mdicament, lorsqu'elles mesuraient le biais de survie.</p>
</div>
</div>
</div>
<div class="slide light" data-index="6">
<div class="content">
<h2 class="title navy animate">Risque de Biais 2.0: Les cinq domaines</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">D1</div>
<div class="lesson-content"><h4>Randomization Process</h4></div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">D2</div>
<div class="lesson-content"><h4>carts par rapport aux interventions prvues</h4></div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">D3</div>
<div class="lesson-content"><h4>Donnes de rsultats manquantes</h4></div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">D4</div>
<div class="lesson-content"><h4>Mesure du rsultat</h4></div>
</div>
<div class="lesson-item animate delay-5">
<div class="lesson-number">D5</div>
<div class="lesson-content"><h4>Slection du rsultat rapport</h4></div>
</div>
</div>
</div>
<div class="slide light" data-index="7">
<div class="content">
<h2 class="title navy animate">ROBINS-I: pour les tudes non randomises</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1rem;">Lorsque les ECR ne sont pas disponibles, utilisez ROBINS-I (risque de biais dans les tudes non randomises sur Interventions)</p>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background: #7c3aed;">1</div>
<div class="lesson-content"><h4>Confondant</h4><p>Diffrences de base entre les groupes</p></div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background: #7c3aed;">2</div>
<div class="lesson-content"><h4>Slection des participants</h4><p>Exclusions lies  l'intervention</p></div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background: #7c3aed;">3</div>
<div class="lesson-content"><h4>Classification des interventions</h4><p>Classification errone du statut d'exposition</p></div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background: #7c3aed;">4</div>
<div class="lesson-content"><h4>carts par rapport aux interventions prvues</h4><p>Co-interventions, contamination</p></div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background: #7c3aed;">5</div>
<div class="lesson-content"><h4>Manquant Donnes</h4><p>Perte diffrentielle au suivi</p></div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background: #7c3aed;">6</div>
<div class="lesson-content"><h4>Mesure des rsultats</h4><p>Ascertainment bias</p></div>
</div>
<div class="lesson-item animate delay-5">
<div class="lesson-number" style="background: #7c3aed;">7</div>
<div class="lesson-content"><h4>Slection du rsultat rapport</h4><p>Selective reporting</p></div>
</div>
<p class="footnote animate delay-5" style="margin-top: 1rem;">Notes: faible/modr/srieux / Critique / Aucune information</p>
</div>
</div>
<div class="slide dark" data-index="8">
<p class="closing-line animate">Des tudes observationnelles suggrent la scurit.</p>
<p class="closing-line animate delay-1">L'ECR a rvl une augmentation de la mortalit de 53 %.</p>
<p class="closing-line gold animate delay-2">Only randomization can break confounding.</p>
<div class="gold-line animate delay-3"></div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">Quiz du module 6</h2>
<div class="quiz-container">
<div class="quiz-question" id="q6-1">
<h4>1. Pourquoi les tudes observationnelles ont-elles nglig les effets nocifs de l'aprotinine ?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q6-1', 0, 1, ['Taille de l'?chantillon was adequate.', 'Correct! Sicker patients got the drug, masking its harm.', 'Outcomes were measured correctly.', 'Duration was adequate.'])">
<span>A.</span> Taille de l'?chantillons too small
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q6-1', 1, 1, ['Taille de l'?chantillon was adequate.', 'Correct! Sicker patients got the drug, masking its harm.', 'Outcomes were measured correctly.', 'Duration was adequate.'])">
<span>B.</span> Confusion par indication
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q6-1', 2, 1, ['Taille de l'?chantillon was adequate.', 'Correct! Sicker patients got the drug, masking its harm.', 'Outcomes were measured correctly.', 'Duration was adequate.'])">
<span>C.</span> Rsultat mesur de manire incorrecte
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q6-1', 3, 1, ['Taille de l'?chantillon was adequate.', 'Correct! Sicker patients got the drug, masking its harm.', 'Outcomes were measured correctly.', 'Duration was adequate.'])">
<span>D.</span> Suivi trop court
                      </div>
</div>
<div id="q6-1-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide black" data-index="9">
<p class="refrain animate">Les mthodes protgent les patients de notre confiance.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 7 : La Synthse</p>
</div>
</div>
 Module 7 : La Synthse (Magnsium/ISIS-4) 
<div class="module-slides" data-module="7">
<div class="slide dark active" data-index="0">
<p class="refrain animate">L'htrognit est un message, pas un bruit.</p>
</div>
<div class="slide dark" data-index="1">
<p class="title cream animate text-center">La controverse sur le magnsium: 1991-1995</p>
<p class="title gold animate delay-1 text-center">Lorsque la mise en commun nous gare.</p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Module 7 : La Synthse</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Calculez les tailles d'effet groupes  l'aide de modles  effets fixes et  effets alatoires</li>
<li>Choisissez entre DerSimonian-Laird et Les estimateurs HKSJ de manire approprie</li>
<li>Interprter les parcelles forestires, y compris les poids, les intervalles de confiance et diamants</li>
<li>Expliquez pourquoi les effets de petites tudes peuvent induire en erreur les mta-analyses</li>
<li>Appliquer le principe : "L'htrognit est un message, pas un bruit"</li>
</ul>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">L'anne: 1991</h2>
<p class="direct-address animate delay-1">
                  "Vous vous trouvez  la croise de l'espoir et des preuves..."
                </p>
<div class="card animate delay-2">
<p class="card-text">
                    Les maladies cardiaques tuent plus de personnes dans le monde que toute autre cause. En 1991, un nouvel espoir merge : pourrait-il quelque chose d'aussi simple et bon march que
                    <strong>intravenous magnesium</strong> sauver des vies aprs un infarctus du myocarde ?
                  </p>
</div>
<div class="focus-box animate delay-3 mt-2">
<p class="main">Le raisonnement biologique tait solide:</p>
<p class="sub">Le magnsium stabilise les membranes cardiaques, prvient les arythmies et vasodilate les artres coronaires.</p>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">LIMIT-2: L'essai Landmark</h2>
<p class="animate delay-1" style="font-style: italic;">Essai d'intervention sur le magnsium intraveineux de Leicester, 1992</p>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">2,316</div>
<div class="stat-label">Patients recruts</div>
</div>
<div class="stat-box" style="background: rgba(34, 197, 94, 0.2); border-color: #22c55e;">
<div class="stat-value">24%</div>
<div class="stat-label">Mortality reduction</div>
</div>
<div class="stat-box">
<div class="stat-value">p = 0.04</div>
<div class="stat-label">Statistically significant</div>
</div>
</div>
<div class="focus-box animate delay-3 mt-2">
<p class="main">Une intervention peu coteuse et sre qui pourrait sauver 250 000 vies par an dans le monde.</p>
<p class="sub">La communaut mdicale tait lectrise.</p>
</div>
</div>
</div>
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">La mta-analyse: 1993</h2>
<p class="animate delay-1">Researchers pooled <strong>sept essais randomiss</strong> de magnsium IV dans l'IM:</p>
<table class="results-table animate delay-2">
<thead>
<tr>
<th>Procs</th>
<th>Anne</th>
<th>N</th>
<th>Rapport de cotes</th>
</tr>
</thead>
<tbody>
<tr><td>Morton 1984</td><td>1984</td><td>40</td><td style="color: var(--green);">0.10</td></tr>
<tr><td>Rasmussen 1986</td><td>1986</td><td>273</td><td style="color: var(--green);">0.35</td></tr>
<tr><td>Forgeron 1986</td><td>1986</td><td>400</td><td style="color: var(--green);">0.48</td></tr>
<tr><td>Abraham1987</td><td>1987</td><td>94</td><td>0.87</td></tr>
<tr><td>Shechter 1990</td><td>1990</td><td>103</td><td style="color: var(--green);">0.27</td></tr>
<tr><td>Ceremuzynski 1989</td><td>1989</td><td>48</td><td style="color: var(--green);">0.22</td></tr>
<tr><td>LIMITE-2</td><td>1992</td><td>2,316</td><td style="color: var(--green);">0.74</td></tr>
</tbody>
</table>
</div>
</div>
<div class="slide dark" data-index="5">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Exercice d'enqute: le dilemme du mta-analyste</h3>
</div>
<p class="direct-address">
                  Vous tes un valuateur Cochrane en 1993. On vous a demand de synthtiser les preuves sur le magnsium pour l'IM. Les donnes de sept essais se trouvent devant vous.
                </p>
<p class="rhetorical" style="margin: 1rem 0;">
                  Voyez-vous la tendance dans ce graphique forestier?
                </p>
<div id="magnesium-forest-small" style="background: white; border-radius: 8px; padding: 1rem; margin: 1rem 0;"></div>
<div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 1rem;">
<button class="reveal-btn" onclick="drawMagnesiumForest('small')">Gnrer une parcelle forestire </button>
<button class="reveal-btn" onclick="revealAnswer('mag-pooled')">Regroupez les preuves </button>
</div>
<div class="hidden-reveal" id="mag-pooled">
<div class="result-box" style="background: rgba(34, 197, 94, 0.2); border-color: #22c55e;">
<div class="value">OR group = 0,44 (IC  95%: 0,270,71)</div>
<div class="label">Rduction de la mortalit de 55%! Publier dans le Lancet?</div>
</div>
<p style="text-align: center; margin-top: 1rem; font-style: italic;">
                    Mais attendez... remarquez-vous quelque chose  propos de la taille des essais?
                  </p>
</div>
</div>
</div>
<div class="slide light" data-index="6">
<div class="content">
<h2 class="title navy animate">Les panneaux d'avertissement</h2>
<p class="rhetorical animate">Qu'est-ce qui aurait d nous faire rflchir?</p>
<div class="wrong-item animate delay-1">
<div class="wrong-number">1</div>
<p><strong>Petits chantillons:</strong> Six essais sur sept comptaient &lt;500 patients</p>
</div>
<div class="wrong-item animate delay-2">
<div class="wrong-number">2</div>
<p><strong>Extreme effects:</strong> Un OR de 0,10 (rduction de 90 %) est invraisemblable pour tout mdicament</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number">3</div>
<p><strong>All positive:</strong> O taient les rsultats ngatifs ? des essais ? Le problme du tiroir de fichiers...</p>
</div>
<div class="wrong-item animate delay-4">
<div class="wrong-number">4</div>
<p><strong>Funnel asymmetry:</strong> Les petits essais ont montr des effets beaucoup plus importants que les plus grands</p>
</div>
</div>
</div>
<div class="slide dark" data-index="7">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Le test de trac en entonnoir</h3>
</div>
<p class="direct-address">
                  Avant de mettre en commun, nous devons vrifier les biais de publication. Examinons le trac en entonnoir.
                </p>
<div id="magnesium-funnel-small" style="background: white; border-radius: 8px; padding: 1rem; margin: 1rem 0;"></div>
<button class="reveal-btn" onclick="drawMagnesiumFunnel('small')">Gnrer un trac en entonnoir </button>
<div id="mag-funnel-interpretation" style="display: none; margin-top: 1rem;">
<div class="focus-box" style="border-color: #f59e0b;">
<p class="main" style="color: #f59e0b;"> Asymmetric Funnel</p>
<p class="sub">Petit cluster d'essais sur la gauche (montrant les avantages). O sont les petits essais ngatifs?</p>
<p class="sub">Test d'Egger p = 0,04  asymtrie statistiquement significative.</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="8">
<div class="content">
<h2 class="title navy animate">Anne: 1995  Rapports ISIS-4</h2>
<p class="direct-address animate delay-1">
                  "Et puis est venue la vrit..."
                </p>
<div class="card animate delay-2">
<p class="card-text text-center">
                    The <strong>Quatrime tude internationale sur la survie  l'infarctus (ISIS-4)</strong>
                    recrut 58 050 patients dans 1 086 hpitaux dans 31 paie.
                  </p>
</div>
<div class="stats-grid animate delay-3">
<div class="stat-box">
<div class="stat-value">58,050</div>
<div class="stat-label">Patients</div>
</div>
<div class="stat-box">
<div class="stat-value">2,216</div>
<div class="stat-label">Dcs dans le groupe Mg</div>
</div>
<div class="stat-box">
<div class="stat-value">2,103</div>
<div class="stat-label">Dcs sous placebo</div>
</div>
</div>
<div class="result-box animate delay-4" style="background: rgba(197, 48, 48, 0.2); border-color: #C53030;">
<div class="value">OR = 1,06 (IC  95%: 1,001,12)</div>
<div class="label">Aucun avantage. Au contraire, il s'agit d'une tendance  la nocivit.</div>
</div>
</div>
</div>
<div class="slide dark" data-index="9">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Avant et aprs: le tableau complet</h3>
</div>
<p class="direct-address">
                  Regardez ce qui se passe lorsque nous ajoutons le mga-essai  notre parcelle forestire...
                </p>
<div class="comparison-grid" style="margin-top: 1rem;">
<div class="comparison-box">
<h4 style="color: var(--gold);">BEFORE ISIS-4</h4>
<p>7 small trials (N = 3,274)</p>
<p style="color: #22c55e; font-weight: bold;">OR = 0.44</p>
<p style="font-size: 0.9rem;">Signal de bnfice fort</p>
</div>
<div class="comparison-box">
<h4 style="color: var(--gold);">AFTER ISIS-4</h4>
<p>8 essais (N = 61324)</p>
<p style="color: #C53030; font-weight: bold;">OR = 1.02</p>
<p style="font-size: 0.9rem;">Aucun effet</p>
</div>
</div>
<div id="magnesium-forest-full" style="background: white; border-radius: 8px; padding: 1rem; margin: 1rem 0;"></div>
<button class="reveal-btn" onclick="drawMagnesiumForest('full')">Afficher la parcelle forestire complte </button>
</div>
</div>
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Pourquoi les petits essais ont-ils induit en erreur?</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Biais de publication</h4>
<p>Petits essais n'ont jamais t publis - ils sont rests dans des tiroirs</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Small-Study Effects</h4>
<p>Les essais de plus petite envergure ont tendance  montrer des effets plus importants en raison de faiblesses mthodologiques</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Biais alatoire lev</h4>
<p>Par hasard, quelques petits essais ont eu lieu des rsultats extrmes  et ceux-ci sont publis</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Random-Effects Amplification</h4>
<p>Les modles  effets alatoires accordent plus de poids aux petits essais, les amplifiant biais</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">Effets fixes ou alatoires</h2>
<p class="rhetorical animate">Quel modle devriez-vous choisir?</p>
<div class="animate delay-1" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; max-width: 850px;">
<div class="card" style="border-left: 4px solid #3b82f6;">
<div class="card-label">MODLE  EFFET FIXE</div>
<p class="card-text">Suppose <strong>un vrai effet</strong>. Pondre les tudes par variance inverse (prcision). Les grands essais dominent.</p>
<p style="font-size: 0.85rem; color: var(--navy); margin-top: 0.5rem;">
<strong>Magnesium result:</strong> OR = 0.96 (p = 0.52)
                    </p>
</div>
<div class="card" style="border-left: 4px solid #f59e0b;">
<div class="card-label">MODLE  EFFETS ALATOIRES</div>
<p class="card-text">Suppose <strong>distribution des effets</strong>. Donne plus de poids aux petits essais. Intervalles de confiance plus larges.</p>
<p style="font-size: 0.85rem; color: var(--navy); margin-top: 0.5rem;">
<strong>Magnesium result:</strong> OR = 0.59 (p = 0.01)
                    </p>
</div>
</div>
<div class="focus-box animate delay-2 mt-2" style="border-color: #f59e0b;">
<p class="main" style="color: #f59e0b;"> Le choix du modle a dtermin la conclusion!</p>
<p class="sub">Lorsqu'un biais de publication existe, des effets alatoires peuvent le rendre pire.</p>
</div>
</div>
</div>
<div class="slide light" data-index="12">
<div class="content">
<h2 class="title navy animate">Les leons du magnsium</h2>
<div class="card animate delay-1">
<p class="card-text" style="font-size: 1.1rem;">
<strong>1. Vrifiez les biais de publication</strong> avant de se fier  une estimation groupe. Les tracs en entonnoir et le test d'Egger sont vos outils.
                  </p>
</div>
<div class="card animate delay-2">
<p class="card-text" style="font-size: 1.1rem;">
<strong>2. Mfiez-vous des effets des petites tudes.</strong> Si seuls de petits essais montrent un bnfice, attendez un essai de grande envergure et bien men.
                  </p>
</div>
<div class="card animate delay-3">
<p class="card-text" style="font-size: 1.1rem;">
<strong>3. Le choix du modle est important.</strong> Les effets alatoires peuvent amplifier les preuves biaises. Considrez les deux modles et comprenez les implications.
                  </p>
</div>
<div class="card animate delay-4">
<p class="card-text" style="font-size: 1.1rem;">
<strong>4. Un grand essai peut renverser de nombreux petits essais.</strong>
                    C'est pourquoi les mga-essais comme ISIS-4 sont si prcieux.
                  </p>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="13">
<div class="content">
<h2 class="title navy animate">Quiz du module 7</h2>
<div class="quiz-container">
<div class="quiz-question" id="q7-1">
<h4>1. Pourquoi la mta-analyse du magnsium a-t-elle montr un bnfice qu'ISIS-4 n'a pas trouv ?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q7-1', 0, 2, ['ISIS-4 used wrong methods.', 'The pooled effect was calculated correctly.', 'Correct! Small negative trials were never published, creating a biased sample.', 'LIMIT-2 had adequate power.'])">
<span>A.</span> La mthodologie ISIS-4 tait imparfaite
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q7-1', 1, 2, ['ISIS-4 used wrong methods.', 'The pooled effect was calculated correctly.', 'Correct! Small negative trials were never published, creating a biased sample.', 'LIMIT-2 had adequate power.'])">
<span>B.</span> Erreur de calcul dans la mta-analyse
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q7-1', 2, 2, ['ISIS-4 used wrong methods.', 'The pooled effect was calculated correctly.', 'Correct! Small negative trials were never published, creating a biased sample.', 'LIMIT-2 had adequate power.'])">
<span>C.</span> Biais de publication dans les petits essais
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q7-1', 3, 2, ['ISIS-4 used wrong methods.', 'The pooled effect was calculated correctly.', 'Correct! Small negative trials were never published, creating a biased sample.', 'LIMIT-2 had adequate power.'])">
<span>D.</span> LIMIT-2 tait sous-aliment
                      </div>
</div>
<div id="q7-1-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q7-2" style="margin-top: 1.5rem;">
<h4>2. Quel signe davertissement aurait d alerter les valuateurs dun biais potentiel?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q7-2', 0, 0, ['Correct! Small trials showed much larger effects than larger onesa classic sign of small-study effects; publication bias is one explanation.', 'All trials showed consistent effects.', 'The biological mechanism was valid.', 'More trials needed to be published.'])">
<span>A.</span> Graphique en entonnoir asymtrique (petits essais montrant des effets plus importants)
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q7-2', 1, 0, ['Correct! Small trials showed much larger effects than larger onesa classic sign of small-study effects; publication bias is one explanation.', 'All trials showed consistent effects.', 'The biological mechanism was valid.', 'More trials needed to be published.'])">
<span>B.</span> Low heterogeneity (I = 0%)
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q7-2', 2, 0, ['Correct! Small trials showed much larger effects than larger onesa classic sign of small-study effects; publication bias is one explanation.', 'All trials showed consistent effects.', 'The biological mechanism was valid.', 'More trials needed to be published.'])">
<span>C.</span> Forte plausibilit biologique
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q7-2', 3, 0, ['Correct! Small trials showed much larger effects than larger onesa classic sign of small-study effects; publication bias is one explanation.', 'All trials showed consistent effects.', 'The biological mechanism was valid.', 'More trials needed to be published.'])">
<span>D.</span> Trop peu d'essais  analyser
                      </div>
</div>
<div id="q7-2-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q7-3" style="margin-top: 1.5rem;">
<h4>3. Lorsqu'un biais de publication est suspect, quel modle peut amplifier le biais?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q7-3', 0, 1, ['Fixed effects weights by precision, so large trials dominate.', 'Correct! Random effects gives more weight to small trials, which may be biased.', 'Bayesian models would be preferable.', 'Network meta-analysis handles bias differently.'])">
<span>A.</span> Effet fixe modle
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q7-3', 1, 1, ['Fixed effects weights by precision, so large trials dominate.', 'Correct! Random effects gives more weight to small trials, which may be biased.', 'Bayesian models would be preferable.', 'Network meta-analysis handles bias differently.'])">
<span>B.</span> Modle  effets alatoires
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q7-3', 2, 1, ['Fixed effects weights by precision, so large trials dominate.', 'Correct! Random effects gives more weight to small trials, which may be biased.', 'Bayesian models would be preferable.', 'Network meta-analysis handles bias differently.'])">
<span>C.</span> Bayesian model
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q7-3', 3, 1, ['Fixed effects weights by precision, so large trials dominate.', 'Correct! Random effects gives more weight to small trials, which may be biased.', 'Bayesian models would be preferable.', 'Network meta-analysis handles bias differently.'])">
<span>D.</span> Mta-analyse rseau
                      </div>
</div>
<div id="q7-3-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="12c" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">Designs d'tudes spciaux en mta-analyse</h2>
<div class="card animate delay-1">
<p class="card-text">
                    Tous les ECR n'utilisent pas un design en groupes parallles standard. Deux alternatives courantes ncessitent un traitement spcial lors du pooling des rsultats :
                  </p>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Essais randomiss en grappes</h4>
<p>
                      Randomise des groupes (hpitaux, coles), pas des individus. L'<strong>effet de plan</strong>
                      = 1 + (m1)  ICC rduit la taille d'chantillon effective. Diviser N par l'effet
                      de plan avant le pooling, ou utiliser l'ET ajuste de l'essai. Ignorer le clustering
                      produit des IC artificiellement troits.
                    </p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Essais croiss (Crossover)</h4>
<p>
                      Chaque patient reoit les deux traitements. Le design appari rduit la variance, mais
                      vous avez besoin de la <strong>corrlation intra-patient</strong> (ou l'ET de l'analyse apparie) pour combiner correctement. Utiliser l'ET du groupe parallle est conservateur ; utiliser le mauvais N double-compte les patients.
                    </p>
</div>
</div>
<p class="footnote animate delay-4">Voir le Manuel Cochrane v6.4, Chapitre 23 pour les formules dtailles et exemples pratiques.</p>
</div>
</div>
<div class="slide dark" data-index="14">
<p class="closing-line animate">De petits essais peuvent montrer de faux signaux.</p>
<p class="closing-line animate delay-1">Des essais  grande chelle ancrent la vrit.</p>
<p class="closing-line gold animate delay-2">L'htrognit est un message, pas un bruit.</p>
<div class="gold-line animate delay-3"></div>
</div>
<div class="slide black" data-index="15">
<p class="refrain animate">L'htrognit est un message, pas un bruit.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 8 : L'htrognit</p>
</div>
</div>
 Module 8 : L'htrognit (ACCORD) 
<div class="module-slides" data-module="8">
<div class="slide dark active" data-index="0">
<p class="refrain animate">L'htrognit est un message, pas un bruit.</p>
</div>
<div class="slide dark" data-index="1">
<p class="title cream animate text-center">ACCORD: 2008</p>
<p class="title gold animate delay-1 text-center">Quand la moyenne cache le vrit.</p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Module 8 : L'htrognit</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Calculez et interprtez I,  et les intervalles de prdiction</li>
<li>Appliquer les critres ICEMAN pour valuer la crdibilit du sous-groupe</li>
<li>Distinguer l'htrognit clinique, mthodologique et statistique</li>
<li>Raliser et interprter des analyses de sensibilit sans intervention</li>
<li>Expliquez comment ACCORD a rvl des effets diffrentiels entre les sous-groupes</li>
</ul>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">L'anne: 2008</h2>
<p class="direct-address animate delay-1">
                  "Vous tes sur le point d'assister  l'une des terminaisons d'essais les plus choquantes de l'histoire..."
                </p>
<div class="card animate delay-2">
<p class="card-text">
                    Pendant des dcennies, la communaut du diabte avait un guide principe: <strong>une glycmie plus faible est prfrable</strong>. Les tudes historiques DCCT (1993) et UKPDS (1998) ont montr qu'un contrle intensif de la glycmie rduisait les complications microvasculaires: ccit, insuffisance rnale, lsions nerveuses.
                  </p>
</div>
<div class="focus-box animate delay-3 mt-2">
<p class="main">L'extrapolation logique:</p>
<p class="sub">Si le contrle de la glycmie prvient les complications, un contrle intensif ne devrait-il pas galement prvenir les maladies cardiovasculaires?</p>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">ACCORD: Action pour contrler le risque cardiovasculaire dans le diabte</h2>
<p class="animate delay-1" style="font-style: italic;">Le test dfinitif de contrle intensif de la glycmie</p>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">10,251</div>
<div class="stat-label">Type 2 diabetics</div>
</div>
<div class="stat-box">
<div class="stat-value">HbA1c &lt;6%</div>
<div class="stat-label">Intensive target</div>
</div>
<div class="stat-box">
<div class="stat-value">HbA1c 7-7.9%</div>
<div class="stat-label">Standard target</div>
</div>
</div>
<div class="card animate delay-3">
<p class="card-text">
                    Tous les patients souffraient de diabte de type 2 avec un risque cardiovasculaire lev, qu'il s'agisse d'une maladie cardiovasculaire tablie ou de plusieurs facteurs de risque. L'essai a t conu pour une dure de 5,6 ans.
                  </p>
</div>
</div>
</div>
<div class="slide dark" data-index="4">
<p class="rhetorical animate" style="font-size: 2rem;">
                6 fvrier 2008
              </p>
<p class="animate delay-1" style="font-size: 1.3rem; margin-top: 2rem;">
                Le comit de surveillance de la scurit des donnes convoque une runion d'urgence.
              </p>
<p class="animate delay-2" style="font-size: 1.3rem; margin-top: 1rem;">
                Aprs 3,5 ans, ils prennent une dcision sans prcdent:
              </p>
<p class="title gold animate delay-3" style="font-size: 2.5rem; margin-top: 1.5rem;">
                ARRTEZ L'ESSAI.
              </p>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">Les rsultats choquants</h2>
<table class="results-table animate delay-1">
<thead>
<tr>
<th>Rsultat</th>
<th>Intensif</th>
<th>Standard</th>
<th>HR (95% CI)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Critre de jugement principal du CV</td>
<td>352 vnements</td>
<td>371 vnements</td>
<td>0.90 (0.781.04)</td>
</tr>
<tr style="background: rgba(197, 48, 48, 0.15);">
<td><strong>All-cause mortality</strong></td>
<td><strong>257 dcs</strong></td>
<td><strong>203 dcs</strong></td>
<td class="highlight"><strong>1.22 (1.011.46)</strong></td>
</tr>
<tr>
<td>Severe hypoglycemia</td>
<td>10.5%</td>
<td>3.5%</td>
<td>3,0 suprieur</td>
</tr>
</tbody>
</table>
<div class="result-box animate delay-2" style="background: rgba(197, 48, 48, 0.2); border-color: #C53030;">
<div class="value">Augmentation de 22% de mortalit</div>
<div class="label">54 dcs supplmentaires dans le bras intensif</div>
</div>
</div>
</div>
<div class="slide dark" data-index="6">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Exercice d'enqute: le dilemme du clinicien</h3>
</div>
<p class="direct-address">
                  Vous tes un endocrinologue auprs de 500 patients diabtiques. Les rsultats ACCORD sont publis. Que dites-vous  vos patients qui recherchent un taux d'HbA1c &lt;6 % ?
                </p>
<p class="rhetorical" style="margin: 1.5rem 0;">
                  Un contrle intensif est-il nocif pour tout le monde? Ou seulement pour certains?
                </p>
<div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 1rem;">
<button class="reveal-btn" onclick="revealAnswer('accord-subgroup')">Examinez les sous-groupes </button>
</div>
<div class="hidden-reveal" id="accord-subgroup">
<h4 style="color: var(--gold); margin-top: 1rem;">Analyse de sous-groupe rvle:</h4>
<table class="data-table-investigation" style="margin-top: 0.5rem;">
<thead><tr><th>Sous-groupe</th><th>Intensive HR</th><th>Interprtation</th></tr></thead>
<tbody>
<tr><td>Aucun MCV antrieur</td><td>1.00 (0.761.32)</td><td>Aucun effet</td></tr>
<tr><td>Prior CVD</td><td style="color: #C53030;">1.45 (1.151.84)</td><td>Significant harm</td></tr>
<tr><td>HbA1c de base &lt;8%</td><td>1.02 (0.751.40)</td><td>Aucun effet</td></tr>
<tr><td>HbA1c de base 8%</td><td style="color: #C53030;">1.29 (1.031.60)</td><td>Nuire</td></tr>
</tbody>
</table>
<div class="focus-box" style="margin-top: 1rem; border-color: #f59e0b;">
<p class="main" style="color: #f59e0b;">L'effet moyen masqu est critique htrognit!</p>
<p class="sub">Pour les patients prsentant une maladie cardiovasculaire tablie ou un mauvais contrle de base, le traitement intensif nocif tait.</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="7">
<div class="content">
<h2 class="title navy animate">Comprendre l'htrognit: I et Au-del</h2>
<p class="animate delay-1">Lorsque des tudes (ou des sous-groupes) montrent des effets diffrents, nous devons quantifier cette variation.</p>
<div class="animate delay-2" style="max-width: 700px;">
<div class="card" style="border-left: 4px solid #22c55e;">
<p class="card-text"><strong>I = 025%:</strong> Faible htrognit. Les effets sont cohrents dans toutes les tudes.</p>
</div>
<div class="card" style="border-left: 4px solid #3b82f6; margin-top: 0.5rem;">
<p class="card-text"><strong>I = 2550%:</strong> Modr. Recherchez les sources de variation.</p>
</div>
<div class="card" style="border-left: 4px solid #f59e0b; margin-top: 0.5rem;">
<p class="card-text"><strong>I = 5075%:</strong> substantiel. Dterminez si la mise en commun est approprie.</p>
</div>
<div class="card" style="border-left: 4px solid #C53030; margin-top: 0.5rem;">
<p class="card-text"><strong>I = 75100%:</strong> Considrable. Une seule estimation groupe peut induire en erreur.</p>
</div>
</div>
<p class="footnote animate delay-3">Mais I  lui seul ne vous dit pas quoi faire: il indique que vous devez approfondir vos recherches.</p>
</div>
</div>
<div class="slide light" data-index="8">
<div class="content">
<h2 class="title navy animate">Tau (): la variance entre les tudes</h2>
<p class="animate delay-1">Alors que I vous indique la proportion de variance due  l'htrognit,  vous indique l'ampleur.</p>
<div class="animate delay-2" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; max-width: 800px;">
<div class="card">
<div class="card-label">I (pourcentage)</div>
<p class="card-text">"Quelle fraction de la variance totale est due aux vritables diffrences entre les tudes?"</p>
<p style="font-size: 0.85rem;">Echelle : 0%  100%</p>
</div>
<div class="card">
<div class="card-label"> (absolute)</div>
<p class="card-text">"Dans quelle mesure les effets rels varient-ils entre les tudes?"</p>
<p style="font-size: 0.85rem;">Mme chelle que la mesure de l'effet</p>
</div>
</div>
<div class="focus-box animate delay-3 mt-2">
<p class="main">Utilisez  pour calculer <strong>prediction intervals</strong></p>
<p class="sub">Un intervalle de prdiction montre la gamme d'effets auxquels vous vous attendez dans une nouvelle tude, souvent beaucoup plus large que l'intervalle de confiance.</p>
</div>
</div>
</div>
<div class="slide dark" data-index="9">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>L'intervalle de prdiction: ce que ACCORD nous dit rellement</h3>
</div>
<p class="direct-address">
                  Envisagez une mta-analyse du contrle intensif de la glycmie  travers plusieurs essais...
                </p>
<div class="comparison-grid" style="margin-top: 1rem;">
<div class="comparison-box">
<h4 style="color: var(--gold);">Confidence Interval</h4>
<p style="font-size: 1.2rem; font-weight: bold;">HR 1.10 (0.951.27)</p>
<p style="font-size: 0.9rem;">"Notre meilleure estimation de l'effet moyen"</p>
</div>
<div class="comparison-box">
<h4 style="color: var(--gold);">Intervalle de pr?diction</h4>
<p style="font-size: 1.2rem; font-weight: bold;">HR 1.10 (0.701.73)</p>
<p style="font-size: 0.9rem;">"La gamme d'effets dans un nouveau dcor"</p>
</div>
</div>
<div class="focus-box" style="margin-top: 1rem; border-color: #f59e0b;">
<p class="main" style="color: #f59e0b;">L'intervalle de prdiction couvre  la fois les avantages et les inconvnients!</p>
<p class="sub">Dans certains contextes, un contrle intensif peut tre utile. Dans d'autres, cela pourrait tuer.</p>
</div>
</div>
</div>
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Quand un effet de sous-groupe est-il crdible?</h2>
<p class="animate delay-1" style="font-style: italic;">L'instrument ICEMAN (instrument d'valuation de la crdibilit de la modification de l'effet Analyses)</p>
<div class="lesson-item animate delay-2">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>L'analyse des sous-groupes a-t-elle t prdfinie?</h4>
<p>Les sous-groupes post-hoc sont sujets au dragage des donnes</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Existe-t-il une hypothse biologique plausible justification?</h4>
<p>Le mcanisme doit tre clair et indpendant des donnes</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>L'effet est-il cohrent entre les critres de jugement associs?</h4>
<p>Si un prjudice apparat pour mortalit, y a-t-il des dommages similaires en cas d'IM et d'accident vasculaire crbral?</p>
</div>
</div>
<div class="lesson-item animate delay-5">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Y a-t-il une rplication indpendante?</h4>
<p>L'effet du sous-groupe a-t-il t confirm dans d'autres tudes?</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">ICEMAN appliqu  ACCORD</h2>
<table class="results-table animate delay-1">
<thead>
<tr><th>Critre</th><th>valuation</th><th>Score</th></tr>
</thead>
<tbody>
<tr>
<td>Pr-spcifi?</td>
<td>Oui: une maladie cardiovasculaire antrieure figurait dans le protocole</td>
<td style="color: #22c55e;"></td>
</tr>
<tr>
<td>Biological rationale?</td>
<td>Oui: l'hypoglycmie est plus dangereuse en cas de maladies cardiovasculaires</td>
<td style="color: #22c55e;"></td>
</tr>
<tr>
<td>Consistent outcomes?</td>
<td>Oui Mortalit CV et mortalit toutes causes confondues alignes</td>
<td style="color: #22c55e;"></td>
</tr>
<tr>
<td>Independent replication?</td>
<td>Partiellement: ADVANCE et VADT ont montr des tendances similaires</td>
<td style="color: #f59e0b;">~</td>
</tr>
</tbody>
</table>
<div class="focus-box animate delay-2 mt-2">
<p class="main">Classement ICEMAN: haute crdibilit</p>
<p class="sub">Le prjudice diffrentiel chez les patients  haut risque semble rel.</p>
</div>
</div>
</div>
<div class="slide light" data-index="12">
<div class="content">
<h2 class="title navy animate">Les implications cliniques</h2>
<div class="card animate delay-1">
<p class="card-text" style="font-size: 1.1rem;">
<strong>Pour les patients sans MCV :</strong> Un contrle modr de la glycmie (HbA1c ~ 7%) reste l'objectif. Un contrle intensif peut rduire les complications microvasculaires.
                  </p>
</div>
<div class="card animate delay-2">
<p class="card-text" style="font-size: 1.1rem;">
<strong>Pour les patients prsentant une maladie cardiovasculaire tablie :</strong> vitez les cibles intensives. L'hypoglycmie est dangereuse pour les curs endommags.
                  </p>
</div>
<div class="card animate delay-3">
<p class="card-text" style="font-size: 1.1rem;">
<strong>Pour les personnes ges patients :</strong> Cibles dtendues. La qualit de vie compte. Un contrle strict provoque des chutes, de la confusion et une mortalit excessive.
                  </p>
</div>
<p class="footnote animate delay-4" style="font-size: 1rem; font-style: italic;">
                  Le traitement  taille unique  n'est pas une mdecine centre sur le patient.
                </p>
</div>
</div>
<!-- Meta-Regression -->
<div class="slide light" data-index="13">
<div class="content">
<h2 class="title navy animate">Mta-rgression: expliquer l'htrognit</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1rem;">
                  Lorsque l'htrognit est leve, la mta-rgression peut identifier les covariables au niveau de l'tude qui expliquent la variation.
                </p>
<div class="card animate delay-2" style="margin-bottom: 1rem;">
<div class="card-label">LA QUESTION</div>
<p class="card-text">L'ampleur de l'effet varie-t-elle systmatiquement avec les caractristiques de l'tude?</p>
</div>
<div class="stats-grid animate delay-3">
<div class="stat-box">
<div class="stat-value" style="font-size: 1.1rem;">Covariables</div>
<div class="stat-label">Anne, dose, dure, risque de base, qualit de l'tude</div>
</div>
<div class="stat-box">
<div class="stat-value" style="font-size: 1.1rem;">Sortir</div>
<div class="stat-label">Coefficient de rgression (pente), R, htrognit rsiduelle</div>
</div>
</div>
<div class="focus-box animate delay-4">
<p class="main" style="color: var(--red);">Prudence</p>
<p class="sub">La mta-rgression ncessite 10 tudes par covariable. Avec peu dtudes, elle est uniquement exploratoire. Erreur cologique: les associations au niveau de l'tude peuvent ne pas s'appliquer aux individus.</p>
</div>
<p class="footnote animate delay-5" style="margin-top: 1rem;">
<strong>Exemple:</strong> Dans ACCORD, la mta-rgression pourrait tester si l'effet du traitement varie en fonction de l'HbA1c de base, dmontrant que les dommages sont concentrs chez les patients prsentant des taux trs levs.
                </p>
</div>
</div>
 HISTOIRE: La rvolution de la tension artrielle SPRINT 
<div class="slide dark" data-index="13b">
<div class="story-box animate">
<p class="story-opener">Quel numro sauve des vies ? Qui dcide?</p>
<div class="real-data-box">
<h4>DONNES RELLES</h4>
<p>
                    Pendant des dcennies, l'objectif tait: traiter la tension artrielle  <span class="data-highlight">&lt;140 mmHg systolic</span>.
                    Then came <span class="data-highlight">SPRINT (2015)</span>: <span class="data-highlight">9 361 patients  haut risque</span>
                    randomis selon des cibles intensives (&lt;120) par rapport aux cibles standard (&lt;140). Traitement intensif rduit <span class="data-highlight">vnements CV de 25%</span> and
                    <span class="data-highlight">dcs de 27%</span>. Lessai sest arrt prmaturment pour en bnficier. Les directives ont chang dans le monde entier.
                  </p>
</div>
<div class="decision-tree">
<div class="decision-tree-header">Avant SPRINT: le comit des lignes directrices</div>
<div class="decision-scenario">
                    Vous fixez des lignes directrices en matire de tension artrielle en 2014. L'objectif est &lt;140 depuis des annes. Devez-vous attendre de meilleures preuves?
                  </div>
<div class="decision-paths">
<div class="decision-path path-a" role="button" tabindex="0">
<div class="path-label">CHEMIN A: Maintenir le statu quo</div>
<div class="path-choice">Maintenir l'objectif &lt;140 (pratique tablie, controverse minimale)</div>
<div class="path-arrow"></div>
<div class="path-consequence">Lignes directrices inchanges. Les mdecins continuent de traiter jusqu' &lt;140.</div>
<div class="path-outcome">OUTCOME: rater l'occasion de prvenir les dcs</div>
</div>
<div class="decision-path path-b" role="button" tabindex="0">
<div class="path-label">CHEMIN B: Financer l'essai dfinitif</div>
<div class="path-choice">Attendez les rsultats SPRINT avant de mettre  jour les cibles</div>
<div class="path-arrow"></div>
<div class="path-consequence">SPRINT dmontre ses avantages. Mettre  jour l'objectif  &lt;120 pour les patients  haut risque.</div>
<div class="path-outcome">RSULTAT: plus de 100000vies sauves dans le monde</div>
</div>
</div>
</div>
<div class="story-timeline">
<div class="timeline-point">JNC 7 (2003): &lt;140</div>
<div class="timeline-point critical">Des annes d'incertitude</div>
<div class="timeline-point resolution">SPRINT (2015) : &lt;120 pour les patients  haut risque</div>
</div>
<div class="story-revelation">
<div class="revelation-label">LE REVELATION</div>
<div class="revelation-text">
                     Norme de soins  n'est pas corrige. Cela change lorsque les essais remettent en question les hypothses. Pendant une dcennie, les patients ont peut-tre t sous-traits parce que personne n'a rpondu  la question vidente.
                  </div>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="14">
<div class="content">
<h2 class="title navy animate">Quiz module 8</h2>
<div class="quiz-container">
<div class="quiz-question" id="q8-1">
<h4>1. Pourquoi l'essai ACCORD a-t-il t arrt prmaturment?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q8-1', 0, 1, ['Incorrect! Intensive control did NOT show cardiovascular benefit  it increased mortality.', 'Correct! The intensive arm had 22% higher mortality, triggering early termination.', 'Enrollment was not the issue  the trial had adequate enrollment.', 'Budget was not the issue  the trial was stopped for safety reasons.'])">
<span>A.</span> Le contrle intensif a montr un bnfice cardiovasculaire vident
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q8-1', 1, 1, ['Incorrect! Intensive control did NOT show cardiovascular benefit  it increased mortality.', 'Correct! The intensive arm had 22% higher mortality, triggering early termination.', 'Enrollment was not the issue  the trial had adequate enrollment.', 'Budget was not the issue  the trial was stopped for safety reasons.'])">
<span>B.</span> Le contrle intensif a augment la mortalit
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q8-1', 2, 1, ['Incorrect! Intensive control did NOT show cardiovascular benefit  it increased mortality.', 'Correct! The intensive arm had 22% higher mortality, triggering early termination.', 'Enrollment was not the issue  the trial had adequate enrollment.', 'Budget was not the issue  the trial was stopped for safety reasons.'])">
<span>C.</span> L'inscription a t trop lente
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q8-1', 3, 1, ['Incorrect! Intensive control did NOT show cardiovascular benefit  it increased mortality.', 'Correct! The intensive arm had 22% higher mortality, triggering early termination.', 'Enrollment was not the issue  the trial had adequate enrollment.', 'Budget was not the issue  the trial was stopped for safety reasons.'])">
<span>D.</span> Budget excut sortie
                      </div>
</div>
<div id="q8-1-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q8-2" style="margin-top: 1.5rem;">
<h4>2. Qu'est-ce qu'un intervalle de prdiction nous dit qu'un intervalle de confiance ne nous dit pas?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q8-2', 0, 2, ['Both are estimates, but PI includes heterogeneity.', 'Taille de l'?chantillon affects precision.', 'Correct! The prediction interval shows what effects we might see in a new setting, accounting for between-study variance.', 'The formula is indeed different.'])">
<span>A.</span> Le vritable effet est estim plus prcisment
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q8-2', 1, 2, ['Both are estimates, but PI includes heterogeneity.', 'Taille de l'?chantillon affects precision.', 'Correct! The prediction interval shows what effects we might see in a new setting, accounting for between-study variance.', 'The formula is indeed different.'])">
<span>B.</span> L'chantillon la taille est adquate
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q8-2', 2, 2, ['Both are estimates, but PI includes heterogeneity.', 'Taille de l'?chantillon affects precision.', 'Correct! The prediction interval shows what effects we might see in a new setting, accounting for between-study variance.', 'The formula is indeed different.'])">
<span>C.</span> La gamme d'effets auxquels nous nous attendrions dans une nouvelle tude
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q8-2', 3, 2, ['Both are estimates, but PI includes heterogeneity.', 'Taille de l'?chantillon affects precision.', 'Correct! The prediction interval shows what effects we might see in a new setting, accounting for between-study variance.', 'The formula is indeed different.'])">
<span>D.</span> La formule mathmatique utilise
                      </div>
</div>
<div id="q8-2-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q8-3" style="margin-top: 1.5rem;">
<h4>3. Selon ICEMAN, quel facteur est le PLUS important pour la crdibilit du sous-groupe?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q8-3', 0, 0, ['Correct! Pre-specification protects against data dredging. All other criteria support but don\\'t replace it.', 'Taille de l'?chantillon matters, but pre-specification is paramount.', 'P-values can be gamed.', 'Multiple outcomes can be misleading.'])">
<span>A.</span> Pr-spcification du sous-groupe hypothse
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q8-3', 1, 0, ['Correct! Pre-specification protects against data dredging. All other criteria support but don\\'t replace it.', 'Taille de l'?chantillon matters, but pre-specification is paramount.', 'P-values can be gamed.', 'Multiple outcomes can be misleading.'])">
<span>B.</span> Grande taille d'chantillon dans le sous-groupe
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q8-3', 2, 0, ['Correct! Pre-specification protects against data dredging. All other criteria support but don\\'t replace it.', 'Taille de l'?chantillon matters, but pre-specification is paramount.', 'P-values can be gamed.', 'Multiple outcomes can be misleading.'])">
<span>C.</span> Valeur p statistiquement significative
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q8-3', 3, 0, ['Correct! Pre-specification protects against data dredging. All other criteria support but don\\'t replace it.', 'Taille de l'?chantillon matters, but pre-specification is paramount.', 'P-values can be gamed.', 'Multiple outcomes can be misleading.'])">
<span>D.</span> Plusieurs rsultats montrant la mme direction
                      </div>
</div>
<div id="q8-3-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide dark" data-index="15">
<p class="closing-line animate">Lorsque les tudes ne sont pas d'accord,</p>
<p class="closing-line animate delay-1">couter le dsaccord.</p>
<p class="closing-line gold animate delay-2">L'htrognit est un message, pas un bruit.</p>
<div class="gold-line animate delay-3"></div>
</div>
<div class="slide black" data-index="16">
<p class="refrain animate">L'absence de preuve n'est pas une preuve d'absence.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 9: Les tudes caches</p>
</div>
</div>
 Module 9 : Les tudes caches (Reboxetine) 
<div class="module-slides" data-module="9">
<div class="slide dark active" data-index="0">
<p class="refrain animate">L'absence de preuve n'est pas une preuve d'absence.</p>
</div>
<div class="slide dark" data-index="1">
<p class="title cream animate text-center">Rboxtine: 2010</p>
<p class="title gold animate delay-1 text-center">Les 74 % qui n'ont jamais vu le jour.</p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Module 9: Les tudes caches</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Interprter les tracs en entonnoir pour la dtection de l'asymtrie</li>
<li>Appliquer le test d'Egger et d'autres tests statistiques pour le biais de publication</li>
<li>Mettre en uvre la mthode de dcoupage et de remplissage pour le biais ajustement</li>
<li>valuer de manire critique les limites des tests de biais de publication</li>
<li>Appliquer le principe: "L'absence de preuve n'est pas une preuve d'absence"</li>
</ul>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Anne: 1997</h2>
<p class="direct-address animate delay-1">
                  "Un nouvel espoir pour les patients dpressifs qui ne peuvent pas tolrer les ISRS..."
                </p>
<div class="card animate delay-2">
<p class="card-text">
                    La rboxtine (Edronax) tait un nouvel antidpresseur, un inhibiteur slectif de la recapture de la noradrnaline (NRI). Contrairement  l'ISRS, il ciblait un systme de neurotransmetteurs diffrent. Pour les patients qui ne tolraient pas ou ne tolraient pas la fluoxtine ou la sertraline, il offre un nouveau mcanisme.
                  </p>
</div>
<div class="stats-grid animate delay-3">
<div class="stat-box">
<div class="stat-value">1997</div>
<div class="stat-label">EU approval</div>
</div>
<div class="stat-box">
<div class="stat-value">50+</div>
<div class="stat-label">Countries approved</div>
</div>
<div class="stat-box">
<div class="stat-value">Des millions</div>
<div class="stat-label">Prescriptions written</div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Les donnes probantes publies</h2>
<p class="animate delay-1" style="font-style: italic;">Ce que les mdecins ont pu trouver dans les revues mdicales:</p>
<table class="results-table animate delay-2">
<thead>
<tr><th>Comparaison</th><th>Published Trials</th><th>Published Result</th></tr>
</thead>
<tbody>
<tr>
<td>Rboxtine vs Placebo</td>
<td>3 essais (n=507)</td>
<td style="color: #22c55e;">Significativement meilleure (SMD = 0,56)</td>
</tr>
<tr>
<td>Rboxtine vs ISRS</td>
<td>4 essais (n=628)</td>
<td style="color: #22c55e;">quivalent ou suprieur</td>
</tr>
</tbody>
</table>
<div class="focus-box animate delay-3 mt-2">
<p class="main">La littrature publie raconte une histoire claire:</p>
<p class="sub">La rboxtine fonctionne. Les patients en profitent. Prescrire en toute confiance.</p>
</div>
</div>
</div>
<div class="slide dark" data-index="4">
<p class="rhetorical animate" style="font-size: 2rem;">
                Mais qu'en est-il des essais que vous ne pouviez pas voir?
              </p>
<p class="animate delay-1" style="font-size: 1.3rem; margin-top: 2rem;">
                En 2010, des chercheurs allemands de l'IQWiG ont adress une demande  l'Agence europenne des mdicaments...
              </p>
<p class="animate delay-2" style="font-size: 1.3rem; margin-top: 1rem;">
                Ils ont demand l'accs  <strong>all</strong> donnes des essais publies et non publi.
              </p>
<p class="title gold animate delay-3" style="font-size: 2rem; margin-top: 1.5rem;">
                Ce qu'ils ont trouv a tout chang.
              </p>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">Le tableau complet</h2>
<p class="animate delay-1" style="color: #C53030; font-weight: bold; font-style: italic;">Eyding et coll., BMJ 2010</p>
<table class="results-table animate delay-2">
<thead>
<tr><th>Comparaison</th><th>Published Only</th><th>TOUTES LES DONNES</th></tr>
</thead>
<tbody>
<tr>
<td><strong>Rboxtine vs Placebo</strong></td>
<td style="color: #22c55e;">SMD 0.56 (benefit)</td>
<td style="color: #C53030;"><strong>SMD 0,10 (aucun avantage)</strong></td>
</tr>
<tr>
<td>Patients analyss</td>
<td>507 (14%)</td>
<td><strong>2,731 (100%)</strong></td>
</tr>
<tr>
<td><strong>Rboxtine vs ISRS</strong></td>
<td style="color: #22c55e;">quivalent</td>
<td style="color: #C53030;"><strong>Infrieur (RR 1,23 pour les dommages)</strong></td>
</tr>
<tr>
<td>Patients analyss</td>
<td>628 (26%)</td>
<td><strong>2,411 (100%)</strong></td>
</tr>
</tbody>
</table>
<div class="result-box animate delay-3" style="background: rgba(197, 48, 48, 0.2); border-color: #C53030;">
<div class="value">74 % des donnes des patients n'ont jamais t publies</div>
<div class="label">Les essais cachs n'ont montr aucun bnfice et davantage de dommages</div>
</div>
</div>
</div>
<div class="slide dark" data-index="6">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Exercice d'enqute: le tiroir-classeur</h3>
</div>
<p class="direct-address">
                  Vous tes un valuateur systmatique en 2008. Vous effectuez une recherche dans PubMed, Embase et la bibliothque Cochrane pour tous les essais sur la rboxtine. Vous trouvez 7 essais publis dmontrant un bnfice.
                </p>
<p class="rhetorical" style="margin: 1.5rem 0;">
                  Pouvez-vous faire confiance  ces preuves?
                </p>
<div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 1rem;">
<button class="reveal-btn" onclick="revealAnswer('rebox-funnel')">Gnrer un trac en entonnoir </button>
</div>
<div class="hidden-reveal" id="rebox-funnel">
<div id="reboxetine-funnel" style="background: white; border-radius: 8px; padding: 1rem; margin: 1rem 0;"></div>
<script>
                    // This will be called when revealed
                    setTimeout(() => {
                      if (document.getElementById('rebox-funnel').classList.contains('hidden-reveal') === false) {
                        drawReboxetineFunnel();
                      }
                    }, 100);
                  </script>
<button class="reveal-btn" onclick="drawReboxetineFunnel()" style="margin-top: 0.5rem;">Draw Funnel </button>
<div class="focus-box" style="margin-top: 1rem; border-color: #f59e0b;">
<p class="main" style="color: #f59e0b;"> L'entonnoir est considrablement rduit asymtrique!</p>
<p class="sub">Toutes les tudes publies se regroupent d'un seul ct. O sont les essais nuls et ngatifs ?</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="7">
<div class="content">
<h2 class="title navy animate">La bote  outils sur le biais de publication</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Diagramme en entonnoir</h4>
<p>Taille de l'effet de trac par rapport  l'erreur standard. Un entonnoir symtrique ne suggre aucun biais; l'asymtrie dclenche des alarmes.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Test de rgression d'Egger</h4>
<p>Rgression de l'effet standardis sur la prcision. P &lt;0,10 suggre des effets issus d'une petite tude.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Peters' Test</h4>
<p>Pour les rsultats binaires, rgresse le journal OU sur l'inverse de la taille totale de l'chantillon. Moins sujet aux faux positifs.</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Dcouper et remplir</h4>
<p>Impute les tudes  manquantes  pour rendre l'entonnoir symtrique, puis recalcule l'effet pool.</p>
</div>
</div>
</div>
</div>
<div class="slide dark" data-index="8">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Interactif : analyser le Trim-and-Fill</h3>
</div>
<p class="direct-address">
                  Appliquons le dcoupage et le remplissage aux donnes de reboxtine et voyons quelle serait l'estimation ajuste...
                </p>
<div class="comparison-grid" style="margin-top: 1rem;">
<div class="comparison-box">
<h4 style="color: var(--gold);">Published Only</h4>
<p>7 essais</p>
<p style="font-size: 1.2rem; font-weight: bold; color: #22c55e;">SMD = 0.56</p>
<p style="font-size: 0.9rem;">Significant benefit</p>
</div>
<div class="comparison-box">
<h4 style="color: var(--gold);">Dcouper et remplir</h4>
<p>7 + 5 imputed = 12 trials</p>
<p style="font-size: 1.2rem; font-weight: bold; color: #f59e0b;">SMD = 0.23</p>
<p style="font-size: 0.9rem;">Rduit, toujours nominalement significatif</p>
</div>
</div>
<div class="focus-box" style="margin-top: 1rem; border-color: #C53030;">
<p class="main" style="color: #C53030;">Mais mme le trim-and-fill a sous-estim le problme !</p>
<p class="sub">Le vritable effet avec tous les donnes taient SMD = 0,10 (essentiellement nulles).<br/>Le dcoupage et le remplissage sont conservateurs, ce n'est pas le cas. entirement correct pour une publication slective.</p>
</div>
</div>
</div>
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">La meilleure dfense: registres d'essais</h2>
<p class="animate delay-1">Les mthodes de dtection des biais de publication sont imparfaites. La vraie solution est <strong>prospective registration</strong>.</p>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">ClinicalTrials.gov</div>
<div class="stat-label">US registry (2000)</div>
</div>
<div class="stat-box">
<div class="stat-value">WHO ICTRP</div>
<div class="stat-label">Global portal</div>
</div>
<div class="stat-box">
<div class="stat-value">PROSPRO</div>
<div class="stat-label">Vrifier l'inscription</div>
</div>
</div>
<div class="card animate delay-3">
<p class="card-text">
                    Lors de la recherche d'essais, vrifiez toujours les registres. Comparez le nombre de <strong>enregistr</strong> essais au nombre <strong>publi</strong>. Cette lacune est votre signal d'alarme.
                  </p>
</div>
<p class="footnote animate delay-4">
                  Depuis 2005, l'ICMJE exige l'enregistrement des essais comme condition de publication.
                </p>
</div>
</div>
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">La campagne AllTrials</h2>
<div class="card animate delay-1">
<p class="card-text" style="font-size: 1.2rem; text-align: center;">
<strong>"Tous les essais enregistrs. Tous les rsultats rapports."</strong>
</p>
</div>
<p class="animate delay-2" style="margin-top: 1rem;">
                  Le scandale de la rboxtine, ainsi que des cas similaires concernant d'autres mdicaments, ont catalys un mouvement mondial:
                </p>
<div class="lesson-item animate delay-3">
<div class="lesson-number"></div>
<div class="lesson-content">
<h4>2013: Politique de donnes cliniques de l'EMA</h4>
<p>L'Agence europenne des mdicaments s'engage  publier des rapports d'tudes cliniques</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number"></div>
<div class="lesson-content">
<h4>2016: application de la FDA Amendments Act</h4>
<p>Rapport obligatoire des rsultats sur ClinicalTrials.gov dans les 12 mois</p>
</div>
</div>
<div class="lesson-item animate delay-5">
<div class="lesson-number"></div>
<div class="lesson-content">
<h4>AllTrials Coalition</h4>
<p>Plus de 90 000 sympathisants, plus de 700 organisations exigeantes transparence</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">Les consquences de la rboxtine</h2>
<div class="wrong-item animate delay-1">
<div class="wrong-number" style="background: #C53030;">!</div>
<p>L'IQWiG allemand recommande de ne pas utiliser la rboxtine pour la dpression</p>
</div>
<div class="wrong-item animate delay-2">
<div class="wrong-number" style="background: #C53030;">!</div>
<p>Le NICE du Royaume-Uni l'a dclass  "non recommand"</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number" style="background: #C53030;">!</div>
<p>La FDA avait rejet la reboxtine en 2001 (ils avait accs  des donnes non publies)</p>
</div>
<div class="focus-box animate delay-4 mt-2">
<p class="main">Pendant plus d'une dcennie, les patients n'ont pas reu un mdicament meilleur qu'un placebo.</p>
<p class="sub">Car seuls les essais positifs ont t publis.</p>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="12">
<div class="content">
<h2 class="title navy animate">Module 9 Quiz</h2>
<div class="quiz-container">
<div class="quiz-question" id="q9-1">
<h4>1. Quel pourcentage des donnes des essais sur la rboxtine a t cach dans la littrature publie?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q9-1', 0, 2, ['Some data was hidden but much less.', 'About half was hidden.', 'Correct! 74% of patient data was in unpublished trials.', 'A larger fraction was hidden.'])">
<span>A.</span> 25%
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q9-1', 1, 2, ['Some data was hidden but much less.', 'About half was hidden.', 'Correct! 74% of patient data was in unpublished trials.', 'A larger fraction was hidden.'])">
<span>B.</span> 50%
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q9-1', 2, 2, ['Some data was hidden but much less.', 'About half was hidden.', 'Correct! 74% of patient data was in unpublished trials.', 'A larger fraction was hidden.'])">
<span>C.</span> 74%
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q9-1', 3, 2, ['Some data was hidden but much less.', 'About half was hidden.', 'Correct! 74% of patient data was in unpublished trials.', 'A larger fraction was hidden.'])">
<span>D.</span> 90%
                      </div>
</div>
<div id="q9-1-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q9-2" style="margin-top: 1.5rem;">
<h4>2. Pourquoi le dcoupage et le remplissage peuvent-ils sous-estimer la correction ncessaire?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q9-2', 0, 1, ['Trim-and-fill does not require normality.', 'Correct! It estimates missing studies but makes assumptions that may not hold when publication bias is severe.', 'Funnel plots can work with fewer studies.', 'More studies generally help.'])">
<span>A.</span> Il suppose que les effets sont normalement distribu
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q9-2', 1, 1, ['Trim-and-fill does not require normality.', 'Correct! It estimates missing studies but makes assumptions that may not hold when publication bias is severe.', 'Funnel plots can work with fewer studies.', 'More studies generally help.'])">
<span>B.</span> Il impute uniquement des tudes visant  obtenir une symtrie, ce qui peut ne pas reflter pleinement la ralit
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q9-2', 2, 1, ['Trim-and-fill does not require normality.', 'Correct! It estimates missing studies but makes assumptions that may not hold when publication bias is severe.', 'Funnel plots can work with fewer studies.', 'More studies generally help.'])">
<span>C.</span> Il ncessite au moins 20 tudes
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q9-2', 3, 1, ['Trim-and-fill does not require normality.', 'Correct! It estimates missing studies but makes assumptions that may not hold when publication bias is severe.', 'Funnel plots can work with fewer studies.', 'More studies generally help.'])">
<span>D.</span> Cela ne fonctionne qu'avec des tudes de trs grande envergure
                      </div>
</div>
<div id="q9-2-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q9-3" style="margin-top: 1.5rem;">
<h4>3. Quelle est la meilleure dfense prospective contre le biais de publication?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q9-3', 0, 2, ['Funnel plots detect, not prevent, bias.', 'Egger\\'s test detects, not prevents.', 'Correct! Registering all trials upfront ensures we know what exists, even if not all are published.', 'More journals doesn\\'t ensure negative trials get published.'])">
<span>A.</span> Entonnoir tracs dans toutes les mta-analyses
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q9-3', 1, 2, ['Funnel plots detect, not prevent, bias.', 'Egger\\'s test detects, not prevents.', 'Correct! Registering all trials upfront ensures we know what exists, even if not all are published.', 'More journals doesn\\'t ensure negative trials get published.'])">
<span>B.</span> Test d'Egger avant regroupement
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q9-3', 2, 2, ['Funnel plots detect, not prevent, bias.', 'Egger\\'s test detects, not prevents.', 'Correct! Registering all trials upfront ensures we know what exists, even if not all are published.', 'More journals doesn\\'t ensure negative trials get published.'])">
<span>C.</span> Enregistrement d'un essai prospectif
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q9-3', 3, 2, ['Funnel plots detect, not prevent, bias.', 'Egger\\'s test detects, not prevents.', 'Correct! Registering all trials upfront ensures we know what exists, even if not all are published.', 'More journals doesn\\'t ensure negative trials get published.'])">
<span>D.</span> Plus mdical journals
                      </div>
</div>
<div id="q9-3-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide dark" data-index="13">
<p class="closing-line animate">Ce que tu ne peux pas voir</p>
<p class="closing-line animate delay-1">peut tre plus important que ce que vous pouvez.</p>
<p class="closing-line gold animate delay-2">L'absence de preuve n'est pas une preuve d'absence.</p>
<div class="gold-line animate delay-3"></div>
</div>
<div class="slide black" data-index="14">
<p class="refrain animate">La certitude doit tre gagne et non assume.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 10:Le Certitude</p>
</div>
</div>
 Module 10 : La certitude (surfactant prcoce) 
<div class="module-slides" data-module="10">
<div class="slide dark active" data-index="0">
<p class="refrain animate">La certitude doit tre gagne et non assume.</p>
</div>
<div class="slide dark" data-index="1">
<p class="title cream animate text-center">Early Surfactant: 2012</p>
<p class="title gold animate delay-1 text-center">Lorsque des donnes probantes de haute qualit voluent.</p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Module 10:Le Certitude</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Appliquer le cadre complet GRADE pour valuer la certitude des preuves</li>
<li>valuez les cinq facteurs de dclassement (RoB, incohrence, caractre indirect, imprcision, biais de publication)</li>
<li>Identifier quand effectuer une mise  niveau en cas d'effet important, de dose-rponse ou de confusion</li>
<li>Construire des tableaux de rsum des rsultats avec des estimations d'effet absolu</li>
<li>Appliquer le principe:"La certitude doit tre gagne, pas suppos"</li>
</ul>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">L'anne:annes 1990</h2>
<p class="direct-address animate delay-1">
                  "Une rvolution dans les soins nonatals..."
                </p>
<div class="card animate delay-2">
<p class="card-text">
                    Le syndrome de dtresse respiratoire (SDR) tait la principale cause de dcs chez les nourrissons prmaturs. Le dveloppement de substances exognes <strong>tensioactif</strong>, la substance qui empche les alvoles de s'effondrer, a t l'une des grandes avances de la mdecine nonatale.
                  </p>
</div>
<div class="focus-box animate delay-3 mt-2">
<p class="main">La question est devenue: Quand devrions-nous administrer un surfactant?</p>
<p class="sub">Prophylactiquement (pour tous les nourrissons  haut risque) ou slectivement (uniquement aprs le dveloppement du SDR)?</p>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">La revue Cochrane originale (2003)</h2>
<p class="animate delay-1" style="font-style: italic;">Plusieurs ECR mens avant l're de la CPAP de routine</p>
<table class="results-table animate delay-2">
<thead>
<tr><th>Rsultat</th><th>Prophylactique vs Slectif</th><th>Certitude</th></tr>
</thead>
<tbody>
<tr>
<td>Neonatal mortality</td>
<td style="color: #22c55e;">RR 0,73 (favorise la prophylaxie)</td>
<td>Haut</td>
</tr>
<tr>
<td>TPL ou dcs</td>
<td style="color: #22c55e;">RR 0,84 (favorise prophylactique)</td>
<td>Haut</td>
</tr>
</tbody>
</table>
<div class="result-box animate delay-3">
<div class="value">Recommandation: administrer du surfactant  titre prophylactique</div>
<div class="label">Les lignes directrices du monde entier ont adopt ce approche</div>
</div>
</div>
</div>
<div class="slide dark" data-index="4">
<p class="rhetorical animate" style="font-size: 2rem;">
                Mais le monde des soins nonatals tait en train de changer...
              </p>
<p class="animate delay-1" style="font-size: 1.3rem; margin-top: 2rem;">
                Une nouvelle technologie a merg: <strong>Pression positive continue des voies respiratoires (CPAP)</strong>
</p>
<p class="animate delay-2" style="font-size: 1.3rem; margin-top: 1rem;">
                Soutien non invasif qui pourrait aider les poumons prmaturs sans intubation.
              </p>
<p class="title gold animate delay-3" style="font-size: 1.5rem; margin-top: 1.5rem;">
                Les anciennes preuves s'appliqueraient-elles toujours?
              </p>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">La mise  jour Cochrane 2012</h2>
<p class="animate delay-1" style="color: #C53030; font-weight: bold;">Nouveaux essais mens  l're CPAP</p>
<table class="results-table animate delay-2">
<thead>
<tr><th>Rsultat</th><th>Old Trials</th><th>New Trials</th></tr>
</thead>
<tbody>
<tr>
<td>TPL ou dcs</td>
<td style="color: #22c55e;">RR 0,84 (favorise prophylactique)</td>
<td style="color: #C53030;">RR 1,12 (favorise la slectivit)</td>
</tr>
<tr>
<td>Besoin d'une ventilation mcanique</td>
<td style="color: #22c55e;">Faible avec prophylaxie</td>
<td style="color: #C53030;">Plus lev avec prophylaxie!</td>
</tr>
</tbody>
</table>
<div class="result-box animate delay-3" style="background: rgba(197, 48, 48, 0.2); border-color: #C53030;">
<div class="value">Inversion compl?te</div>
<div class="label"> l're de la CPAP, les surfactants prophylactiques causent plus de dommages</div>
</div>
</div>
</div>
<div class="slide dark" data-index="6">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Enqute : pourquoi les preuves ont-elles volu ?</h3>
</div>
<p class="direct-address">
                  Vous tes nonatologiste. Un collgue demande:Comment les essais randomiss peuvent-ils se contredire?
                </p>
<p class="rhetorical" style="margin: 1rem 0;">
                  Les preuves originales taient-elles errones?
                </p>
<button class="reveal-btn" onclick="revealAnswer('surfactant-explain')">Comprendre l'volution </button>
<div class="hidden-reveal" id="surfactant-explain">
<div class="lesson-item" style="margin-top: 1rem;">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Indirectness Changed</h4>
<p>Anciens essais:aucune CPAP disponible. Nouveaux essais: norme de soins CPAP.</p>
</div>
</div>
<div class="lesson-item">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Le comparateur amlior</h4>
<p>Le surfactant slectif + la CPAP sont meilleurs que l'intubation prophylactique.</p>
</div>
</div>
<div class="lesson-item">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Context Matters</h4>
<p>Les preuves d'une poque peuvent ne pas s'appliquer  une autre.</p>
</div>
</div>
<div class="focus-box" style="margin-top: 1rem; border-color: #f59e0b;">
<p class="main" style="color: #f59e0b;">C'est pourquoi GRADE value le caractre indirect!</p>
<p class="sub">Des preuves de haute qualit peuvent devenir inapplicables lorsque le contexte change.</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="7">
<div class="content">
<h2 class="title navy animate">Le cadre GRADE</h2>
<p class="animate delay-1" style="margin-bottom: 1rem; font-style: italic;">
                  Classement des recommandations, valuation, dveloppement et valuations
                </p>
<p class="animate delay-2">GRADE rpond  la question: <strong>Dans quelle mesure sommes-nous confiants dans cette estimation ?</strong></p>
<div class="animate delay-3" style="max-width: 700px;">
<div class="card" style="background: rgba(34,197,94,0.15); border-left: 4px solid #22c55e;">
<p class="card-text"><strong> LEV:</strong> Trs confiant. L'effet rel est proche de l'estimation.</p>
</div>
<div class="card" style="background: rgba(59,130,246,0.15); border-left: 4px solid #3b82f6; margin-top: 0.5rem;">
<p class="card-text"><strong> MODR:</strong> Modrment confiant. L'effet rel est probablement proche, mais peut diffrer considrablement.</p>
</div>
<div class="card" style="background: rgba(245,158,11,0.15); border-left: 4px solid #f59e0b; margin-top: 0.5rem;">
<p class="card-text"><strong> LOW:</strong> Confiance limite. L'effet rel peut diffrer considrablement.</p>
</div>
<div class="card" style="background: rgba(197,48,48,0.15); border-left: 4px solid #C53030; margin-top: 0.5rem;">
<p class="card-text"><strong> VERY LOW:</strong> Trs peu de confiance. L'effet rel est probablement sensiblement diffrent.</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="8">
<div class="content">
<h2 class="title navy animate">GRADE: Facteurs qui dgradent la certitude</h2>
<p class="animate delay-1">Les preuves ECR commencent  LEV. Il peut tre rtrograd en raison de:</p>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background: #C53030;">1</div>
<div class="lesson-content">
<h4>Risque de biais</h4>
<p>La randomisation dfectueuse, le manque de mise en aveugle, le suivi incomplet, les rapports slectifs</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background: #C53030;">2</div>
<div class="lesson-content">
<h4>Incohrence</h4>
<p>Htrognit inexplique entre les tudes (grand I, sans chevauchement CI)</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background: #C53030;">3</div>
<div class="lesson-content">
<h4>Indirectit</h4>
<p>Diffrences dans la population, l'intervention, le comparateur ou les rsultats de la question</p>
</div>
</div>
<div class="lesson-item animate delay-5">
<div class="lesson-number" style="background: #C53030;">4</div>
<div class="lesson-content">
<h4>Imprcision</h4>
<p>Intervalles de confiance larges, petite taille d'chantillon, peu d'vnements</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">GRADE: le cinquime facteur</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background: #C53030;">5</div>
<div class="lesson-content">
<h4>Biais de publication</h4>
<p>Trac en entonnoir asymtrique, essais enregistrs manquants, influence du sponsor</p>
</div>
</div>
<div class="focus-box animate delay-2 mt-2">
<p class="main">Chaque facteur peut tre dclass d'un ou deux niveaux</p>
<p class="sub">lev  Modr  Faible  Trs faible</p>
</div>
<div class="card animate delay-3" style="margin-top: 1rem;">
<p class="card-text">
<strong>Exemple:</strong> Une mta-analyse d'ECR (dbut LEV) prsentant un risque lev de biais (1) et un caractre indirect grave (1) serait note <strong>LOW</strong>.
                  </p>
</div>
</div>
</div>
<div class="slide dark" data-index="10">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Interactif: appliquer GRADE au surfactant</h3>
</div>
<p class="direct-address">
                  valuons la certitude des preuves en faveur du surfactant prophylactique  l'aide d'essais anciens et nouveaux.
                </p>
<div class="comparison-grid" style="margin-top: 1rem;">
<div class="comparison-box">
<h4 style="color: var(--gold);">ANCIENS ESSAIS (Pr-CPAP)</h4>
<p><strong>Dpart:</strong> HIGH (RCTs)</p>
<p><strong>Risque de biais:</strong> Low (0)</p>
<p><strong>Incohrence:</strong> Aucun (0)</p>
<p><strong>Indirectit:</strong> Srieux (1)</p>
<p style="font-size: 0.85rem; color: #f59e0b;">Norme de soins diffrente aujourd'hui</p>
<p><strong>Final:</strong>  MODR</p>
</div>
<div class="comparison-box">
<h4 style="color: var(--gold);">NOUVEAU ESSAIS (CPAP Era)</h4>
<p><strong>Dpart:</strong> HIGH (RCTs)</p>
<p><strong>Risque de biais:</strong> Low (0)</p>
<p><strong>Incohrence:</strong> Aucun (0)</p>
<p><strong>Indirectit:</strong> Aucun (0)</p>
<p style="font-size: 0.85rem; color: #22c55e;">Correspond  la pratique actuelle</p>
<p><strong>Final:</strong>  LEV</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">GRADE: facteurs qui amliorent la certitude</h2>
<p class="animate delay-1">Les preuves d'observation commencent  FAIBLE. Il peut tre mis  niveau pour:</p>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background: #22c55e;">+1</div>
<div class="lesson-content">
<h4>Grande ampleur de Effet</h4>
<p>RR &gt;2 ou &lt;0,5 sans confusion plausible</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background: #22c55e;">+1</div>
<div class="lesson-content">
<h4>Dose-Response Gradient</h4>
<p>Une exposition plus leve = un effet plus important selon un schma cohrent</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background: #22c55e;">+1</div>
<div class="lesson-content">
<h4>Residual Confounding</h4>
<p>Tous les facteurs de confusion plausibles rduiraient l'effet (renforce l'infrence causale)</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="12">
<div class="content">
<h2 class="title navy animate">Communicating Certainty</h2>
<p class="animate delay-1">GRADE ncessite un langage transparent sur la confiance:</p>
<div class="card animate delay-2">
<p class="card-text"><strong>HAUT:</strong> "Prophylactic surfactant <em>rduit</em> mortalit..."</p>
</div>
<div class="card animate delay-3">
<p class="card-text"><strong>MODR:</strong> "Prophylactic surfactant <em>probably reduces</em> mortalit..."</p>
</div>
<div class="card animate delay-4">
<p class="card-text"><strong>LOW:</strong> "Prophylactic surfactant <em>may reduce</em> mortalit..."</p>
</div>
<div class="card animate delay-5">
<p class="card-text"><strong>VERY LOW:</strong> "Nous sommes <em>uncertain whether</em> le surfactant prophylactique rduit la mortalit..."</p>
</div>
<p class="footnote animate delay-6">
                  Ce langage garantit que les cliniciens comprennent la force des preuves.
                </p>
</div>
</div>
 HISTOIRE: Le paradoxe de loxygne chez les bbs prmaturs 
<div class="slide dark" data-index="12b">
<div class="story-box animate">
<p class="story-opener">Une trop grande boue de sauvetage peut-elle devenir une tueur?</p>
<div class="real-data-box">
<h4>DONNES RELLES</h4>
<p>
<span class="data-highlight">1940s-50s:</span> Des concentrations leves d'oxygne ont sauv les bbs prmaturs de l'insuffisance respiratoire. Puis vint <span class="data-highlight">pidmie de ccit</span>fibroplasie rtrolentale (maintenant appele ROP). Mdecins <span class="data-highlight">rduction spectaculaire de l'oxygne</span>. La ccit est tombe. Mais alors: <span class="data-highlight">augmentation des dcs et des lsions crbrales</span> de l'hypoxie. Le niveau d'oxygne optimal requis <span class="data-highlight">dcennies de essais</span>  trouver. Les rcents essais SUPPORT/BOOST II ont finalement dfini la fentre thrapeutique: SpO2 <span class="data-highlight">91-95%</span>.
                  </p>
</div>
<div class="decision-tree">
<div class="decision-tree-header">Le Le dilemme du nonatologiste: 1955</div>
<div class="decision-scenario">
                    Vous tes nonatologiste. Les bbs prmaturs sous haute oxygne deviennent aveugles. Que faites-vous?
                  </div>
<div class="decision-paths">
<div class="decision-path path-a" role="button" tabindex="0">
<div class="path-label">CHEMINA: Dramatique Rduction</div>
<div class="path-choice">Rduire considrablement l'oxygne pour prvenir la ccit</div>
<div class="path-arrow"></div>
<div class="path-consequence">Les taux de ccit diminuent. Mais certains bbs meurent ou souffrent de lsions crbrales dues  l'hypoxie.</div>
<div class="path-outcome">RSULTAT: changer un prjudice contre un autre</div>
</div>
<div class="decision-path path-b" role="button" tabindex="0">
<div class="path-label">PATH B: tude systmatique</div>
<div class="path-choice">Tirer soigneusement l'oxygne, tudier la relation dose-rponse</div>
<div class="path-arrow"></div>
<div class="path-consequence">Prend des dcennies, mais finit par identifier la plage optimale.</div>
<div class="path-outcome">RSULTAT: optimiser  la fois la survie et la vision</div>
</div>
</div>
</div>
<div class="story-timeline">
<div class="timeline-point">Annes 1940:un taux lev d'O2 sauve des vies</div>
<div class="timeline-point critical">1950s: Blindness epidemic</div>
<div class="timeline-point critical">Annes 1960-70: dcs dus  un faible taux d'O2</div>
<div class="timeline-point resolution">Annes 2010: SUPPORT/BOOST dfinit la plage optimale</div>
</div>
<div class="story-revelation">
<div class="revelation-label">LE REVELATION</div>
<div class="revelation-text">
                    Chaque intervention a une fentre thrapeutique. Le trouver ncessite des mesures, pas des hypothses. Le pendule a bascul pendant 60 ans avant que les preuves ne dfinissent l'quilibre.
                  </div>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="13">
<div class="content">
<h2 class="title navy animate">Module 10 Quiz</h2>
<div class="quiz-container">
<div class="quiz-question" id="q10-1">
<h4>1. Pourquoi la recommandation sur les tensioactifs s'est-elle inverse entre 2003 et 2012?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q10-1', 0, 1, ['The original trials were well-conducted.', 'Correct! CPAP changed the standard of care, making old evidence indirect.', 'Taille de l'?chantillon was adequate.', 'The outcome definition stayed the same.'])">
<span>A.</span> Les essais initiaux taient frauduleux
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q10-1', 1, 1, ['The original trials were well-conducted.', 'Correct! CPAP changed the standard of care, making old evidence indirect.', 'Taille de l'?chantillon was adequate.', 'The outcome definition stayed the same.'])">
<span>B.</span> La CPAP a chang le comparateur (caractre indirect)
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q10-1', 2, 1, ['The original trials were well-conducted.', 'Correct! CPAP changed the standard of care, making old evidence indirect.', 'Taille de l'?chantillon was adequate.', 'The outcome definition stayed the same.'])">
<span>C.</span> Pas assez de patients dans les essais initiaux
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q10-1', 3, 1, ['The original trials were well-conducted.', 'Correct! CPAP changed the standard of care, making old evidence indirect.', 'Taille de l'?chantillon was adequate.', 'The outcome definition stayed the same.'])">
<span>D.</span> Le rsultat a t mesur diffremment
                      </div>
</div>
<div id="q10-1-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q10-2" style="margin-top: 1.5rem;">
<h4>2. Lequel des lments suivants n'est PAS un facteur de dclassement de GRADE?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q10-2', 0, 3, ['Risk of bias downgrades certainty.', 'Imprecision downgrades certainty.', 'Publication bias downgrades certainty.', 'Correct! Large effect is an upgrade factor for observational studies, not a downgrade factor.'])">
<span>A.</span> Risque de biais
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q10-2', 1, 3, ['Risk of bias downgrades certainty.', 'Imprecision downgrades certainty.', 'Publication bias downgrades certainty.', 'Correct! Large effect is an upgrade factor for observational studies, not a downgrade factor.'])">
<span>B.</span> Imprcision
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q10-2', 2, 3, ['Risk of bias downgrades certainty.', 'Imprecision downgrades certainty.', 'Publication bias downgrades certainty.', 'Correct! Large effect is an upgrade factor for observational studies, not a downgrade factor.'])">
<span>C.</span> Publication bias
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q10-2', 3, 3, ['Risk of bias downgrades certainty.', 'Imprecision downgrades certainty.', 'Publication bias downgrades certainty.', 'Correct! Large effect is an upgrade factor for observational studies, not a downgrade factor.'])">
<span>D.</span> Grande ampleur de l'effet
                      </div>
</div>
<div id="q10-2-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q10-3" style="margin-top: 1.5rem;">
<h4>3. Quel langage doit tre utilis pour les preuves de FAIBLE certitude?</h4>
<div class="quiz-options">
<div '\"probably="" '\"uncertain\"="" 'correct!="" \"may="" class="quiz-option" confidence.',="" confidence.'])"="" for="" high="" implies="" is="" low="" moderate="" onclick="checkQuizAnswer('q10-3', 0, 2, ['\" reduce\"="" reduces\"="" signals="" very="">
<span>A.</span> "L'intervention rduit..."
                      </div>
<div '\"probably="" '\"uncertain\"="" 'correct!="" \"may="" class="quiz-option" confidence.',="" confidence.'])"="" for="" high="" implies="" is="" low="" moderate="" onclick="checkQuizAnswer('q10-3', 1, 2, ['\" reduce\"="" reduces\"="" signals="" very="">
<span>B.</span> "L'intervention rduit probablement..."
                      </div>
<div '\"probably="" '\"uncertain\"="" 'correct!="" \"may="" class="quiz-option" confidence.',="" confidence.'])"="" for="" high="" implies="" is="" low="" moderate="" onclick="checkQuizAnswer('q10-3', 2, 2, ['\" reduce\"="" reduces\"="" signals="" very="">
<span>C.</span> "L'intervention peut rduire..."
                      </div>
<div '\"probably="" '\"uncertain\"="" 'correct!="" \"may="" class="quiz-option" confidence.',="" confidence.'])"="" for="" high="" implies="" is="" low="" moderate="" onclick="checkQuizAnswer('q10-3', 3, 2, ['\" reduce\"="" reduces\"="" signals="" very="">
<span>D.</span> "Nous ne savons pas si..."
                      </div>
</div>
<div id="q10-3-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide dark" data-index="14">
<p class="closing-line animate">Un nombre ne suffit pas.</p>
<p class="closing-line animate delay-1">Vous devez indiquer votre niveau de certitude.</p>
<p class="closing-line gold animate delay-2">La certitude doit tre gagne et non assume.</p>
<div class="gold-line animate delay-3"></div>
</div>
<div class="slide black" data-index="15">
<p class="refrain animate">Les mthodes protgent les patients de notre confiance.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 11 : La revue vivante</p>
</div>
</div>
 Module 11 : La revue vivante (COVID-19) 
<div class="module-slides" data-module="11">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Les mthodes protgent les patients de notre confiance.</p>
</div>
<div class="slide dark" data-index="1">
<p class="title cream animate text-center">COVID-19 Hydroxychloroquine: 2020</p>
<p class="title gold animate delay-1 text-center">Lorsque l'urgence est satisfaite preuves.</p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Module 11 : La revue vivante</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Appliquer l'analyse squentielle des essais pour dterminer quand les preuves sont suffisantes</li>
<li>Concevoir et maintenir une revue systmatique vivante</li>
<li>tablir des dclencheurs de mise  jour et des limites de futilit/prjudice</li>
<li>Grer la multiplicit et les dpenses alpha dans des analyses squentielles</li>
<li>Expliquez avec quelle rapidit les preuves sont obtenues synthse volue pendant la COVID-19</li>
</ul>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Mars 2020: un monde en crise</h2>
<p class="direct-address animate delay-1">
                  "Le virus se propage plus rapidement que ce que nous comprenons..."
                </p>
<div class="card animate delay-2">
<p class="card-text">
                    Le COVID-19 tuait des milliers de personnes. Les units de soins intensifs dbordaient. Il nexistait ni vaccin, ni traitement. Puis une lueur d'espoir: <strong>hydroxychloroquine (HCQ)</strong>- un ancien mdicament contre le paludisme - a montr une activit antivirale dans des tudes en laboratoire.
                  </p>
</div>
<div class="stats-grid animate delay-3">
<div class="stat-box">
<div class="stat-value">20 mars</div>
<div class="stat-label">Etude Gautret (France)</div>
</div>
<div class="stat-box">
<div class="stat-value">36 pts</div>
<div class="stat-label">Non randomis</div>
</div>
<div class="stat-box">
<div class="stat-value">Viral</div>
<div class="stat-label">Clearance improved</div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Le Rush to Adopt</h2>
<p class="animate delay-1" style="font-style: italic;"> quelques semaines de l'tude Gautret:</p>
<div class="wrong-item animate delay-2">
<div class="wrong-number" style="background: #f59e0b;">!</div>
<p><strong>28 mars:</strong> FDA dlivre une autorisation d'utilisation d'urgence pour HCQ</p>
</div>
<div class="wrong-item animate delay-3">
<div class="wrong-number" style="background: #f59e0b;">!</div>
<p><strong>4 avril:</strong> LInde interdit les exportations de HCQ (craintes de thsaurisation)</p>
</div>
<div class="wrong-item animate delay-4">
<div class="wrong-number" style="background: #f59e0b;">!</div>
<p><strong>Mondial:</strong> Les pnuries concernent les patients atteints de lupus et de polyarthrite rhumatode</p>
</div>
<div class="focus-box animate delay-5 mt-2" style="border-color: #f59e0b;">
<p class="main" style="color: #f59e0b;">Des millions de personnes ont reu du HCQ sur la base d'une tude observationnelle de 36 patients</p>
<p class="sub">Qu'est-ce qui pourrait mal se passer ?</p>
</div>
</div>
</div>
<div class="slide dark" data-index="4">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Enqute: l'tude Gautret</h3>
</div>
<p class="direct-address">
                  Vous tes un expert EBM charg d'valuer l'tude franaise HCQ. Examinez la conception...
                </p>
<button class="reveal-btn" onclick="revealAnswer('hcq-flaws')">Identifiez les dfauts </button>
<div class="hidden-reveal" id="hcq-flaws">
<table class="data-table-investigation" style="margin-top: 1rem;">
<thead><tr><th>Problme</th><th>Impact</th></tr></thead>
<tbody>
<tr><td><strong>Non randomis</strong></td><td>Biais de slection: qui a obtenu HCQ?</td></tr>
<tr><td><strong>6 patients exclus</strong></td><td>3 sont alls aux soins intensifs, 1 est dcd, 1 s'est retir, 1 a t hospitalis nauses</td></tr>
<tr><td><strong>Surrogate outcome</strong></td><td>Charge virale, pas de rsultats cliniques</td></tr>
<tr><td><strong>Contrle de diffrents hpitaux</strong></td><td>Des soins diffrents, diffrents tests</td></tr>
<tr><td><strong>No blinding</strong></td><td>Biais d'attente dans les tests de laboratoire</td></tr>
</tbody>
</table>
<div class="focus-box" style="margin-top: 1rem; border-color: #C53030;">
<p class="main" style="color: #C53030;">Cette tude prsenterait un risque de biais LEV sur RoB 2.0</p>
<p class="sub">Certitude de GRADE: TRS FAIBLE. Pourtant, cela a chang la politique mondiale.</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">Pourquoi les tudes observationnelles sur le COVID ont t induites en erreur</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background: #C53030;">1</div>
<div class="lesson-content">
<h4>Immortel Time Biais</h4>
<p>Les patients doivent survivre suffisamment longtemps pour recevoir un traitement. Les survivants sont compars aux non-survivants.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background: #C53030;">2</div>
<div class="lesson-content">
<h4>Confondant par Indication</h4>
<p>Les patients plus malades peuvent recevoir des traitements diffrents. Des patients en meilleure sant ont reu l'HCQ plus tt.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background: #C53030;">3</div>
<div class="lesson-content">
<h4>Effet utilisateur sain</h4>
<p>Les patientes qui recherchent un traitement ont tendance  tre globalement en meilleure sant.</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background: #C53030;">4</div>
<div class="lesson-content">
<h4>Outcome Reporting</h4>
<p>Les tudes avec des rsultats positifs ont t publies plus rapidement.</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="6">
<div class="content">
<h2 class="title navy animate">Juin 2020: Le rapport des ECR</h2>
<p class="animate delay-1" style="font-style: italic;">Des essais rigoureux et de grande envergure raliss  une vitesse remarquable</p>
<table class="results-table animate delay-2">
<thead>
<tr><th>Procs</th><th>N</th><th>Rsultat</th></tr>
</thead>
<tbody>
<tr>
<td>RECOVERY (UK)</td>
<td>4,716</td>
<td style="color: #C53030;">Aucun bnfice sur la mortalit (RR 1,09)</td>
</tr>
<tr>
<td>WHO SOLIDARITY</td>
<td>954</td>
<td style="color: #C53030;">Aucun avantage (RR 1,19)</td>
</tr>
<tr>
<td>ORCHID (US)</td>
<td>479</td>
<td style="color: #C53030;">Arrt pour cause de futilit</td>
</tr>
</tbody>
</table>
<div class="result-box animate delay-3" style="background: rgba(197, 48, 48, 0.2); border-color: #C53030;">
<div class="value">L'HCQ n'a apport aucun bnfice et a peut-tre caus prjudice</div>
<div class="label">15 juin 2020: la FDA rvoque l'autorisation d'utilisation d'urgence</div>
</div>
</div>
</div>
<div class="slide dark" data-index="7">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Chronologie: donnes probantes observationnelles ou ECR</h3>
</div>
<div class="comparison-grid" style="margin-top: 1rem;">
<div class="comparison-box">
<h4 style="color: var(--gold);">Mars-mai 2020</h4>
<p><strong>Observation:</strong> ~20 tudes</p>
<p style="color: #22c55e;">Suggest benefit</p>
<p style="font-size: 0.85rem;">OR group ~0,65</p>
</div>
<div class="comparison-box">
<h4 style="color: var(--gold);">Juin-Juillet 2020</h4>
<p><strong>ECR:</strong> RECOVERY, SOLIDARITY</p>
<p style="color: #C53030;">Ne montre aucun avantage/prjudice</p>
<p style="font-size: 0.85rem;">Pooled RR ~1.10</p>
</div>
</div>
<div class="focus-box" style="margin-top: 1rem;">
<p class="main">De  prometteur    inefficace  en 3 mois</p>
<p class="sub">C'est pourquoi nous avons besoin de randomisation et d'analyses vivantes pour suivre l'volution preuves.</p>
</div>
</div>
</div>
<div class="slide light" data-index="8">
<div class="content">
<h2 class="title navy animate">Examens systmatiques vivants</h2>
<p class="animate delay-1">Une nouvelle approche pour des preuves en volution rapide:</p>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background: #22c55e;">1</div>
<div class="lesson-content">
<h4>Continuous Surveillance</h4>
<p>Recherchez dans la littrature chaque semaine, voire quotidiennement, de nouvelles preuves</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background: #22c55e;">2</div>
<div class="lesson-content">
<h4>Mta-analyse cumulative</h4>
<p>Mettre  jour les estimations regroupes  chaque nouvel essai</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background: #22c55e;">3</div>
<div class="lesson-content">
<h4>Analyse squentielle des essais (TSA)</h4>
<p>Dterminez quand suffisamment d'informations se sont accumules pour conclure</p>
</div>
</div>
<div class="lesson-item animate delay-5">
<div class="lesson-number" style="background: #22c55e;">4</div>
<div class="lesson-content">
<h4>Transparent Versioning</h4>
<p>Suivez chaque changement, maintenez-le complet piste d'audit</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">Analyse squentielle des essais (TSA)</h2>
<p class="animate delay-1" style="font-style: italic;">Quand en avons-nous suffisamment appris?</p>
<div class="card animate delay-2">
<p class="card-text">
                    La TSA applique des limites d'arrt  la mta-analyse, de la mme manire qu'une analyse intermdiaire dans un seul essai. Cela explique le <strong>taille des informations requises (RIS)</strong> ncessaires pour dtecter ou exclure un effet cliniquement significatif.
                  </p>
</div>
<div class="stats-grid animate delay-3">
<div class="stat-box">
<div class="stat-value">RIS</div>
<div class="stat-label">Taille d'chantillon requise</div>
</div>
<div class="stat-box">
<div class="stat-value">-spending</div>
<div class="stat-label">Contrles des erreurs de type I</div>
</div>
<div class="stat-box">
<div class="stat-value">Limites</div>
<div class="stat-label">Bnfice/Mfait/ Futilit</div>
</div>
</div>
<p class="footnote animate delay-4">
                  Pour HCQ dans COVID, la TSA a montr que la limite de futilit avait t franchie en juin 2020.
                </p>
</div>
</div>
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Leons de la saga HCQ</h2>
<div class="card animate delay-1">
<p class="card-text" style="font-size: 1.1rem;">
<strong>1. Les tudes observationnelles peuvent induire en erreur de faon spectaculaire</strong> lorsque les biais sont rpandus. Mme de nombreuses tudes allant dans la mme direction peuvent tre errones.
                  </p>
</div>
<div class="card animate delay-2">
<p class="card-text" style="font-size: 1.1rem;">
<strong>2. Les ECR peuvent tre mens rapidement</strong> lorsque la volont existe. RECOVERY a recrut plus de 5 000 patients en quelques semaines.
                  </p>
</div>
<div class="card animate delay-3">
<p class="card-text" style="font-size: 1.1rem;">
<strong>3. Les examens vivants sont essentiels</strong> pour des sujets en volution. Les valuations  un moment donn deviennent instantanment obsoltes.
                  </p>
</div>
<div class="card animate delay-4">
<p class="card-text" style="font-size: 1.1rem;">
<strong>4. La pression politique ne change pas la biologie.</strong>
                    Des mthodes rigoureuses protgent les patients mme lorsqu'ils sont sous pression.
                  </p>
</div>
</div>
</div>
 HISTOIRE: La rvolution LEAP contre les allergies aux arachides 
<div class="slide dark" data-index="10b">
<div class="story-box animate">
<p class="story-opener">Et si la prvention EST la cause?</p>
<div class="real-data-box">
<h4>DONNES RELLES</h4>
<p>
                    Pendant des dcennies, des lignes directrices pdiatriques recommand: <span class="data-highlight">viter les cacahutes pendant la petite enfance</span> pour prvenir les allergies. Pendant ce temps, les taux dallergie aux arachides <span class="data-highlight">tripl</span> de 1997  2008. Puis est venu <span class="data-highlight">SAUT (2015)</span>: 640 nourrissons  haut risque randomiss pour une introduction prcoce aux arachides plutt qu'un vitement. Rsultat: introduction prcoce <span class="data-highlight">rduction de 81% de l'allergie aux arachides</span> (1,9 % contre 13,7 %). La stratgie de prvention tait  l'origine de l'pidmie.
                  </p>
</div>
<div class="decision-tree">
<div class="decision-tree-header">Le carrefour des allergologues: 2010</div>
<div class="decision-scenario">
                    Vous tes allergologue pdiatrique. Les allergies aux arachides sont en augmentation malgr les directives dvitement. Remettez-vous en question le dogme ?
                  </div>
<div class="decision-paths">
<div class="decision-path path-a" role="button" tabindex="0">
<div class="path-label">CHEMIN A: suivre les directives</div>
<div class="path-choice">Continuez  recommander d'viter les arachides chez les nourrissons  haut risque</div>
<div class="path-arrow"></div>
<div class="path-consequence">Les lignes directrices sont  fondes sur des preuves . Suivre le consensus en toute scurit.</div>
<div class="path-outcome">RESULTAT: Les allergies aux arachides continuent de Rise</div>
</div>
<div class="decision-path path-b" role="button" tabindex="0">
<div class="path-label">CHEMIN B : Remettez en question le dogme</div>
<div class="path-choice">Concevez un essai pour tester si une introduction prcoce peut tre protectrice</div>
<div class="path-arrow"></div>
<div class="path-consequence">L'essai LEAP rvle la vrit. Les directives s'inversent dans le monde entier.</div>
<div class="path-outcome">RESULTAT: Prvenir une pidmie</div>
</div>
</div>
</div>
<div class="story-timeline">
<div class="timeline-point">2000:AAP recommande vitement</div>
<div class="timeline-point critical">2008: les taux d'allergies triplent</div>
<div class="timeline-point resolution">2015 : LEAP renverse les preuves</div>
<div class="timeline-point resolution">2017: les lignes directrices passent  une introduction prcoce</div>
</div>
<div class="story-revelation">
<div class="revelation-label">LE REVELATION</div>
<div class="revelation-text">
                     D'abord, ne pas nuire  ncessite des preuves. Les hypothses, mme celles qui sont bien intentionnes, peuvent causer des dommages  grande chelle. Le systme immunitaire avait besoin d'tre expos pour dvelopper une tolrance; l'vitement crait une sensibilisation.
                  </div>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">Module 11 Quiz</h2>
<div class="quiz-container">
<div class="quiz-question" id="q11-1">
<h4>1. Quel tait le principal dfaut de ltude Gautret sur lhydroxychloroquine ?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q11-1', 0, 2, ['Taille de l'?chantillon was indeed small but not the main issue.', 'Blinding was missing but not the main issue.', 'Correct! Excluding 6 patients (including ICU/death) from HCQ group created severe selection bias.', 'Follow-up was adequate.'])">
<span>A.</span> Trop peu de patients
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q11-1', 1, 2, ['Taille de l'?chantillon was indeed small but not the main issue.', 'Blinding was missing but not the main issue.', 'Correct! Excluding 6 patients (including ICU/death) from HCQ group created severe selection bias.', 'Follow-up was adequate.'])">
<span>B.</span> No blinding
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q11-1', 2, 2, ['Taille de l'?chantillon was indeed small but not the main issue.', 'Blinding was missing but not the main issue.', 'Correct! Excluding 6 patients (including ICU/death) from HCQ group created severe selection bias.', 'Follow-up was adequate.'])">
<span>C.</span>  l'exclusion des patients qui dtrior
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q11-1', 3, 2, ['Taille de l'?chantillon was indeed small but not the main issue.', 'Blinding was missing but not the main issue.', 'Correct! Excluding 6 patients (including ICU/death) from HCQ group created severe selection bias.', 'Follow-up was adequate.'])">
<span>D.</span> Suivi trop court
                      </div>
</div>
<div id="q11-1-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q11-2" style="margin-top: 1.5rem;">
<h4>2. Qu'est-ce que l'analyse squentielle des essais aide  dterminer?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q11-2', 0, 1, ['TSA doesn\\'t identify bias directly.', 'Correct! TSA determines when cumulative evidence reaches required information size.', 'Heterogeneity is assessed separately.', 'TSA doesn\\'t rank treatments.'])">
<span>A.</span> Quelles tudes prsentent un risque lev de biais
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q11-2', 1, 1, ['TSA doesn\\'t identify bias directly.', 'Correct! TSA determines when cumulative evidence reaches required information size.', 'Heterogeneity is assessed separately.', 'TSA doesn\\'t rank treatments.'])">
<span>B.</span> Lorsque suffisamment de preuves se sont accumules
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q11-2', 2, 1, ['TSA doesn\\'t identify bias directly.', 'Correct! TSA determines when cumulative evidence reaches required information size.', 'Heterogeneity is assessed separately.', 'TSA doesn\\'t rank treatments.'])">
<span>C.</span> Le degr de htrognit
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q11-2', 3, 1, ['TSA doesn\\'t identify bias directly.', 'Correct! TSA determines when cumulative evidence reaches required information size.', 'Heterogeneity is assessed separately.', 'TSA doesn\\'t rank treatments.'])">
<span>D.</span> Quel traitement est le meilleur
                      </div>
</div>
<div id="q11-2-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q11-3" style="margin-top: 1.5rem;">
<h4>3. Pourquoi les tudes observationnelles sur la COVID ont-elles montr un bnfice de l'HCQ alors que les ECR ne l'ont pas fait?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q11-3', 0, 2, ['Patient populations were similar.', 'RCTs measured the same outcomes.', 'Correct! Immortal time bias and confounding by indication created false apparent benefit.', 'Observational data quality was adequate.'])">
<span>A.</span> ECR recrut des patients plus malades
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q11-3', 1, 2, ['Patient populations were similar.', 'RCTs measured the same outcomes.', 'Correct! Immortal time bias and confounding by indication created false apparent benefit.', 'Observational data quality was adequate.'])">
<span>B.</span> Les ECR ont utilis diffrents rsultats
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q11-3', 2, 2, ['Patient populations were similar.', 'RCTs measured the same outcomes.', 'Correct! Immortal time bias and confounding by indication created false apparent benefit.', 'Observational data quality was adequate.'])">
<span>C.</span> Biais dans les tudes observationnelles
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q11-3', 3, 2, ['Patient populations were similar.', 'RCTs measured the same outcomes.', 'Correct! Immortal time bias and confounding by indication created false apparent benefit.', 'Observational data quality was adequate.'])">
<span>D.</span> Les tudes observationnelles disposaient de meilleures donnes
                      </div>
</div>
<div id="q11-3-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide dark" data-index="12">
<p class="closing-line animate">La rapidit ne peut pas remplacer la rigueur.</p>
<p class="closing-line animate delay-1">Mais la rigueur peut tre rapide.</p>
<p class="closing-line gold animate delay-2">Revues rcentes quilibrer les deux.</p>
<div class="gold-line animate delay-3"></div>
</div>
<div class="slide black" data-index="13">
<p class="refrain animate">Tous les signaux ne sont pas vrais.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 12: Mthodes avances</p>
</div>
</div>
 Module 12: Mthodes avances 
<div class="module-slides" data-module="12">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Tous les signaux ne sont pas vrais.</p>
</div>
<div class="slide dark" data-index="1">
<p class="title cream animate text-center">Mthodes avances</p>
<p class="title gold animate delay-1 text-center">Au-del de la mta-analyse par paires.</p>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Module 12: Mthodes avances</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Interprter la gomtrie de la mta-analyse du rseau et les classements SUCRA</li>
<li>Appliquer des modles bivaris pour une mta-analyse de l'exactitude des tests diagnostiques</li>
<li>Effectuez une mta-analyse dose-rponse avec des splines flexibles</li>
<li>Comprendre quand une mta-analyse des donnes individuelles des patients (IPD) est ncessaire</li>
<li>Reconnatre les hypothses et les limites de chaque mthode avance mthode</li>
</ul>
</div>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Quand deux par deux ne suffisent pas</h2>
<p class="direct-address animate delay-1">
                  "Parfois, la question est plus complexe que A contre B..."
                </p>
<div class="card animate delay-2">
<p class="card-text">
                    Les mthodes que vous avez apprises constituent la base. Mais la ralit clinique exige souvent plus:
                    <strong>Lequel des 10 antidpresseurs est le meilleur?</strong> <strong>Quelle est la dose optimale de statine?</strong>
<strong>Ce test permet-il de diagnostiquer avec prcision un cancer prcoce?</strong>
</p>
</div>
<p class="footnote animate delay-3">
                  Ce module prsente quatre mthodes avances, chacune rpondant  diffrentes questions complexes.
                </p>
</div>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Mta-analyse de rseau (NMA)</h2>
<p class="animate delay-1" style="font-style: italic;">Lorsque vous avez de nombreux traitements mais peu de face--face essais</p>
<div class="card animate delay-2">
<p class="card-text">
                    NMA combines <strong>direct preuve</strong> (A vs B) avec <strong>preuves indirectes</strong>
                    (A vs C, B vs C  dduit A vs B) pour comparer plusieurs traitements simultanment.
                  </p>
</div>
<div class="stats-grid animate delay-3">
<div class="stat-box">
<div class="stat-value">SUCRA</div>
<div class="stat-label">Ranking probabilities, not effect size</div>
</div>
<div class="stat-box">
<div class="stat-value">Cohrence</div>
<div class="stat-label">Direct = Indirect?</div>
</div>
<div class="stat-box">
<div class="stat-value">Rseaux</div>
<div class="stat-label">Visualisez les preuves</div>
</div>
</div>
</div>
</div>
<div class="slide dark" data-index="4">
<div class="investigation-box animate">
<div class="investigation-header">
<span class="icon"></span>
<h3>Exemple NMA: antidpresseurs</h3>
</div>
<p class="direct-address">
                  Le rapport historique Cipriani 2018 NMA compar  21 antidpresseurs utilisant 522 essais.
                </p>
<div class="comparison-grid" style="margin-top: 1rem;">
<div class="comparison-box">
<h4 style="color: var(--gold);">Le dfi</h4>
<p>21 mdicaments, mais toutes les paires n'ont pas t testes en tte--tte</p>
<p style="font-size: 0.85rem;">Beaucoup contre placebo, peu les uns contre les autres</p>
</div>
<div class="comparison-box">
<h4 style="color: var(--gold);">La solution</h4>
<p>La NMA "emprunte sa force"  travers rseau</p>
<p style="font-size: 0.85rem;">Classe les 21 en termes d'efficacit et d'acceptabilit</p>
</div>
</div>
<div class="focus-box" style="margin-top: 1rem;">
<p class="main">Rsultat: Amitriptyline, mirtazapine la plus efficace; la fluoxtine et la vortioxtine sont les plus tolrables</p>
<p class="sub">Aucun mdicament n'est  le meilleur   cela dpend de ce qui compte pour le patient.</p>
</div>
</div>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">NMA: hypothses critiques</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background: #f59e0b;">1</div>
<div class="lesson-content">
<h4>Transitivit</h4>
<p>Patients, rsultats et modificateurs d'effet similaires dans les comparaisons</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background: #f59e0b;">2</div>
<div class="lesson-content">
<h4>Cohrence</h4>
<p>Preuves directes et indirectes concordantes (testables)</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background: #f59e0b;">3</div>
<div class="lesson-content">
<h4>Connected Network</h4>
<p>Tous les traitements lis par au moins un comparateur commun</p>
</div>
</div>
<div class="focus-box animate delay-4 mt-2">
<p class="main">Lorsque les hypothses chouent, la NMA peut induire en erreur</p>
<p class="sub">Toujours valuer la transitivit et tester l'incohrence.</p>
</div>
</div>
</div>
<div class="slide light" data-index="6">
<div class="content">
<h2 class="title navy animate">Mta-analyse dose-rponse</h2>
<p class="animate delay-1" style="font-style: italic;">Trouver l'optimal dose</p>
<div class="card animate delay-2">
<p class="card-text">
                    Utilise le <strong>Mthode Groenland-Longnecker</strong> avec des splines cubiques restreintes pour modliser des relations non linaires entre la dose et l'effet.
                  </p>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Non-linear patterns</h4>
<p>En forme de J (alcool et mortalit), en forme de U (vitamine D), seuil (aspirine)</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Clinical relevance</h4>
<p>Trouvez la dose avec le meilleur quilibre bnfices-risques, pas seulement  plus c'est mieux </p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="7">
<div class="content">
<h2 class="title navy animate">Donnes individuelles des patients (IPD)</h2>
<p class="animate delay-1" style="font-style: italic;">L'talon-or pour le sous-groupe analyse</p>
<div class="card animate delay-2">
<p class="card-text">
                    Au lieu de donnes rcapitulatives publies, obtenir <strong>donnes brutes au niveau du patient</strong> des essayistes. Permet des analyses prcises de sous-groupes, une modlisation du temps jusqu' l'vnement et des dfinitions standardises.
                  </p>
</div>
<div class="stats-grid animate delay-3">
<div class="stat-box">
<div class="stat-value">Une tape</div>
<div class="stat-label">Single mega-dataset</div>
</div>
<div class="stat-box">
<div class="stat-value">Deux tapes</div>
<div class="stat-label">Analyser, puis regrouper</div>
</div>
<div class="stat-box">
<div class="stat-value">80%+ needed</div>
<div class="stat-label">Pour une infrence valide</div>
</div>
</div>
<p class="footnote animate delay-4">
                  Le groupe collaboratif des premiers essais sur le cancer du sein a t le pionnier de l'IPD MA dans les annes 1980.
                </p>
</div>
</div>
<div class="slide light" data-index="8">
<div class="content">
<h2 class="title navy animate">Prcision des tests de diagnostic (DTA)</h2>
<p class="animate delay-1" style="font-style: italic;">Lorsque l'intervention est un test</p>
<div class="card animate delay-2">
<p class="card-text">
                    DTA la mta-analyse synthtise <strong>sensibilit</strong> (taux de vrais positifs) et
                    <strong>spcificit</strong> (taux vrai ngatif): deux rsultats corrls ncessitant une analyse bivarie modles.
                  </p>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Modle bivari/HSROC</h4>
<p>Comprend en compte la corrlation entre la sensibilit et la spcificit</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>SROC Curve</h4>
<p>Courbe ROC rcapitulative avec Rgions de confiance et de prdiction  95%</p>
</div>
</div>
<div class="lesson-item animate delay-5">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>QUADAS-2</h4>
<p>valuation de la qualit des tudes sur l'exactitude du diagnostic</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">Choisir la bonne mthode</h2>
<table class="results-table animate delay-1">
<thead>
<tr><th>Question</th><th>Mthode</th></tr>
</thead>
<tbody>
<tr><td>Does A beat B?</td><td><strong>Pairwise MA</strong></td></tr>
<tr><td>Lequel des plusieurs traitements sont les meilleurs?</td><td><strong>Rseau MA (NMA)</strong></td></tr>
<tr><td>Quelle est la dose optimale?</td><td><strong>Dose-Response MA</strong></td></tr>
<tr><td>Qui en profite le plus? (sous-groupes)</td><td><strong>IPD MA</strong></td></tr>
<tr><td>Quelle est la prcision de ce test?</td><td><strong>DTA MA</strong></td></tr>
<tr><td>Comment l'effet volue-t-il dans le temps?</td><td><strong>AMM de survie/dlai jusqu' l'vnement</strong></td></tr>
</tbody>
</table>
<p class="footnote animate delay-2">La mthode doit correspondre  la question. Ne forcez jamais une question dans la mauvaise mthode.</p>
</div>
</div>
 HISTOIRE: Les strodes dans Sepsis Saga 
<div class="slide dark" data-index="9b">
<div class="story-box animate">
<p class="story-opener">Trois grands essais. Trois rponses diffrentes. Que pensez-vous?</p>
<div class="real-data-box">
<h4>DONNES RELLES</h4>
<p>
<span class="data-highlight">CORTICUS (2008):</span> 499. Hydrocortisone en cas de choc septique. <span class="data-highlight">Aucune mortalit bnfice</span>.
                    <span class="data-highlight">ADRENAL (2018)</span> 3 658 patients. Hydrocortisone. <span class="data-highlight">Aucune mortalit bnfice</span>.
                    <span class="data-highlight">APROCCHSS (2018):</span> 1 241 patients. Hydrocortisone + fludrocortisone. <span class="data-highlight">Mortality reduced</span> (43% contre 49,1%, p = 0,03). Mme classe d'intervention. Diffrents protocoles. Diffrents rsultats.
                  </p>
</div>
<div class="decision-tree">
<div class="decision-tree-header">Le dfi du rdacteur de lignes directrices</div>
<div class="decision-scenario">
                    Vous rdigez des directives sur la septicmie. Trois essais majeurs sont en dsaccord. Que recommandez-vous?
                  </div>
<div class="decision-paths">
<div class="decision-path path-a" role="button" tabindex="0">
<div class="path-label">CHEMIN A: Moyenne simple</div>
<div class="path-choice">Regroupez les trois essais. Effet global incertain. Concluez preuves peu claires.</div>
<div class="path-arrow"></div>
<div class="path-consequence">Les directives indiquent que les strodes sont facultatifs. Aucune recommandation forte.</div>
<div class="path-outcome">RSULTAT: les cliniciens sont rests sans conseils clairs</div>
</div>
<div class="decision-path path-b" role="button" tabindex="0">
<div class="path-label">CHEMIN B: Enquter sur l'htrognit</div>
<div class="path-choice">Analysez pourquoi l'APROCCHSS diffrait (fludrocortisone, dure plus longue, population diffrente)</div>
<div class="path-arrow"></div>
<div class="path-consequence">Identifiez que le protocole efficace diffre de ceux inefficaces.</div>
<div class="path-outcome">RSULTAT: Recommander le protocole efficace spcifique</div>
</div>
</div>
</div>
<div class="story-revelation">
<div class="revelation-label">LE REVELATION</div>
<div class="revelation-text">
                    Les essais contradictoires ne sont pas des checs. Ce sont des cartes indiquant o le traitement fonctionne et o il ne fonctionne pas. Les diffrences entre les essais (dose, dure, co-interventions, population) sont la cl de la comprhension.
                  </div>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Quiz du module 12</h2>
<div class="quiz-container">
<div class="quiz-question" id="q12-1">
<h4>1. Quel est le principal avantage de la mta-analyse en rseau par rapport  la mta-analyse par paire?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q12-1', 0, 1, ['All MA requires data extraction.', 'Correct! NMA combines direct and indirect evidence to compare treatments without head-to-head trials.', 'NMA still requires quality assessment.', 'Forest plots work differently.'])">
<span>A.</span> Ne ncessite pas d'extraction de donnes
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q12-1', 1, 1, ['All MA requires data extraction.', 'Correct! NMA combines direct and indirect evidence to compare treatments without head-to-head trials.', 'NMA still requires quality assessment.', 'Forest plots work differently.'])">
<span>B.</span> Il compare les traitements non directement tests les uns contre les autres. autre
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q12-1', 2, 1, ['All MA requires data extraction.', 'Correct! NMA combines direct and indirect evidence to compare treatments without head-to-head trials.', 'NMA still requires quality assessment.', 'Forest plots work differently.'])">
<span>C.</span> Cela limine le besoin d'valuation du risque de biais
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q12-1', 3, 1, ['All MA requires data extraction.', 'Correct! NMA combines direct and indirect evidence to compare treatments without head-to-head trials.', 'NMA still requires quality assessment.', 'Forest plots work differently.'])">
<span>D.</span> Il produit de meilleures parcelles forestires
                      </div>
</div>
<div id="q12-1-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q12-2" style="margin-top: 1.5rem;">
<h4>2. Pourquoi la mta-analyse DTA ncessite-t-elle des modles bivaris?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q12-2', 0, 2, ['Univariate models can sometimes be appropriate.', 'DTA has other specific requirements.', 'Correct! Sensitivity and specificity trade off against each other and must be modeled together.', 'Forest plots are used differently.'])">
<span>A.</span> Pour grer plus de deux tudes
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q12-2', 1, 2, ['Univariate models can sometimes be appropriate.', 'DTA has other specific requirements.', 'Correct! Sensitivity and specificity trade off against each other and must be modeled together.', 'Forest plots are used differently.'])">
<span>B.</span> Pour ajuster le biais de publication
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q12-2', 2, 2, ['Univariate models can sometimes be appropriate.', 'DTA has other specific requirements.', 'Correct! Sensitivity and specificity trade off against each other and must be modeled together.', 'Forest plots are used differently.'])">
<span>C.</span> La sensibilit et la spcificit sont corrles
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q12-2', 3, 2, ['Univariate models can sometimes be appropriate.', 'DTA has other specific requirements.', 'Correct! Sensitivity and specificity trade off against each other and must be modeled together.', 'Forest plots are used differently.'])">
<span>D.</span> Pour gnrer des parcelles forestires
                      </div>
</div>
<div id="q12-2-feedback" style="display: none;"></div>
</div>
<div class="quiz-question" id="q12-3" style="margin-top: 1.5rem;">
<h4>3. Qu'exige l'hypothse de  cohrence  dans la NMA?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q12-3', 0, 1, ['Quality is assessed separately.', 'Correct! If direct evidence says A beats B by X, indirect evidence should agree.', 'Taille de l'?chantillons vary in real networks.', 'Missing studies are a separate concern.'])">
<span>A.</span> Toutes les tudes doivent tre de haute qualit
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q12-3', 1, 1, ['Quality is assessed separately.', 'Correct! If direct evidence says A beats B by X, indirect evidence should agree.', 'Taille de l'?chantillons vary in real networks.', 'Missing studies are a separate concern.'])">
<span>B.</span> Les preuves directes et indirectes doivent d'accord
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q12-3', 2, 1, ['Quality is assessed separately.', 'Correct! If direct evidence says A beats B by X, indirect evidence should agree.', 'Taille de l'?chantillons vary in real networks.', 'Missing studies are a separate concern.'])">
<span>C.</span> Les tailles d'chantillon doivent tre similaires
                      </div>
<div class="quiz-option" onclick="checkQuizAnswer('q12-3', 3, 1, ['Quality is assessed separately.', 'Correct! If direct evidence says A beats B by X, indirect evidence should agree.', 'Taille de l'?chantillons vary in real networks.', 'Missing studies are a separate concern.'])">
<span>D.</span> Aucun manquant tudes
                      </div>
</div>
<div id="q12-3-feedback" style="display: none;"></div>
</div>
</div>
</div>
</div>
<div class="slide dark" data-index="11">
<p class="closing-line animate">La mthode doit correspondre  la question.</p>
<p class="closing-line animate delay-1">Les mthodes avances rpondent aux questions avances.</p>
<p class="closing-line gold animate delay-2">Mais les fondamentaux ne changent jamais.</p>
<div class="gold-line animate delay-3"></div>
</div>
<div class="slide light" data-index="11b" data-tier="mastery">
<span class="tier-badge mastery">Mthodologiste</span>
<div class="content">
<h2 class="title navy animate">L'cosystme des cours</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1rem;">
                  Ce cours couvre l'ensemble du flux de travail de la revue systmatique. Pour des approfondissements, explorez les cours compagnons :
                </p>
<div class="animate delay-2" style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; max-width: 700px; font-size: 0.85rem;">
<div class="card" style="padding: 0.5rem 0.75rem;"><strong>Cours DTA</strong><br/>Bivari/HSROC, courbes SROC, QUADAS-2</div>
<div class="card" style="padding: 0.5rem 0.75rem;"><strong>Risque de biais</strong><br/>RoB 2, ROBINS-I/E, valuation par domaine</div>
<div class="card" style="padding: 0.5rem 0.75rem;"><strong>Certitude GRADE</strong><br/>Tableaux SoF complets, GRADE-CERQual</div>
<div class="card" style="padding: 0.5rem 0.75rem;"><strong>Mta-analyse IPD</strong><br/>Modles  une/deux tapes, effets mixtes</div>
<div class="card" style="padding: 0.5rem 0.75rem;"><strong>Biais de publication</strong><br/>Copas, PET-PEESE, p-curve, modles de slection</div>
<div class="card" style="padding: 0.5rem 0.75rem;"><strong>Revues parapluie</strong><br/>AMSTAR 2, ROBIS, correction du chevauchement</div>
<div class="card" style="padding: 0.5rem 0.75rem;"><strong>Revues pronostiques</strong><br/>CHARMS, PROBAST, pooling du c-statistique</div>
<div class="card" style="padding: 0.5rem 0.75rem;"><strong>Revues vivantes + rapides</strong><br/>TSA, dclencheurs de mise  jour, mthodes abrges</div>
</div>
</div>
</div>
<div class="slide dark" data-index="12">
<div class="content" style="text-align: center;">
<p class="title gold animate">Module 12 termin</p>
<div class="gold-line animate delay-1"></div>
<p class="animate delay-2 serif" style="font-size: 1.3rem; font-style: italic; max-width: 600px;">
                   La mthode doit correspondre  la question. Les mthodes avances rpondent  des questions avances  mais les fondamentaux ne changent jamais. 
                </p>
<p class="animate delay-3" style="font-size: 1rem; margin-top: 1.5rem; opacity: 0.8;">
                  Vous avez matris le flux de travail fondamental. Les dix prochains modules explorent la frontire : infrence baysienne, mta-analyse en rseau, donnes individuelles de patients, modlisation doserponse, robustesse et fragilit, quit, synthse assiste par IA, preuves qualitatives, mthodes multivaries et reproductibilit.
                </p>
</div>
</div>
<div class="slide black" data-index="13">
<p class="refrain animate">Tout signal n'est pas vrit.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 13 : Le Tournant Baysien</p>
</div>
</div>
<!-- ============================================================
               MODULE 13 : LE TOURNANT BAY&Eacute;SIEN (essai plateforme STAMPEDE)
               ============================================================ -->
<div class="module-slides" data-module="13">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Tout signal n'est pas vrit.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 13 : Le Tournant Baysien</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Module 13 : Le Tournant Baysien</h2>
<div class="learning-objectives animate delay-1">
<h4> Objectifs d'apprentissage</h4>
<ul>
<li>Expliquer la diffrence entre l'infrence frquentiste et baysienne</li>
<li>Interprter les distributions a priori, les vraisemblances et les distributions a posteriori</li>
<li>Distinguer les intervalles de crdibilit des intervalles de confiance</li>
<li>Comprendre quand la mta-analyse baysienne offre des avantages</li>
<li>Reconnatre comment le choix de l'a priori affecte les conclusions</li>
</ul>
</div>
</div>
</div>
<!-- Histoire d'ouverture : STAMPEDE -->
<div class="slide dark" data-index="2">
<p class="title cream animate text-center">En 2005, un essai a commenc</p>
<p class="title gold animate delay-1 text-center">qui ne se terminerait jamais vraiment.</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; max-width: 600px;">
                L'essai STAMPEDE pour le cancer de la prostate a utilis un design de plateforme multi-bras, multi-tapes (MAMS).
                Des bras pouvaient tre ajouts ou abandonns au fur et  mesure que les preuves s'accumulaient. Bien que ses statistiques fussent frquentistes, la philosophie adaptative incarnait l'esprit baysien : mettre  jour les dcisions au fil de l'accumulation des donnes.
              </p>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">La Vision Frquentiste</h2>
<div class="card animate delay-1">
<p class="card-text">
                    En statistique frquentiste, la probabilit signifie <strong>frquence  long terme</strong>.
                    Un IC  95 % ne signifie PAS  95 % de probabilit que le vrai effet soit  l'intrieur .
                    Cela signifie : si nous rptions l'tude  l'infini, 95 % des intervalles contiendraient la vrit.
                  </p>
</div>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">valeur p</div>
<div class="stat-label">P(donnes | H), pas P(H | donnes)</div>
</div>
<div class="stat-box">
<div class="stat-value">IC 95 %</div>
<div class="stat-label">Proprit de couverture, pas croyance</div>
</div>
<div class="stat-box">
<div class="stat-value">Fixe</div>
<div class="stat-label">Le vrai paramtre est fixe</div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">La Vision Baysienne</h2>
<div class="card animate delay-1">
<p class="card-text">
                    En statistique baysienne, la probabilit reprsente le <strong>degr de croyance</strong>.
                    On commence avec un <strong>a priori</strong> (ce que l'on croit avant les donnes), on met  jour avec la
                    <strong>vraisemblance</strong> (ce que les donnes nous disent), et on obtient un <strong>a posteriori</strong> (croyance mise  jour).
                  </p>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>A priori  Vraisemblance = A posteriori</h4>
<p>Thorme de Bayes : P(|donnes)  P(donnes|)  P()</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Intervalles de crdibilit</h4>
<p>Un intervalle de crdibilit  95 % signifie  95 % de probabilit que le paramtre se trouve ici . Directement interprtable.</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="5" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">Choisir les A Priori</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Non informatif (vague)</h4>
<p>Normal(0, 10000) ou uniforme. Laisse les donnes dominer. Reproduit les rsultats frquentistes.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Faiblement informatif</h4>
<p>Normal(0, 1) pour le log-OR. Rgularise les estimations extrmes tout en restant flexible.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Informatif</h4>
<p>Bas sur des preuves antrieures. Puissant mais controvers. Doit tre pr-spcifi.</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Half-Cauchy pour </h4>
<p>Recommand pour l'htrognit. Half-Cauchy(0, 0.5) permet des  grands mais concentre la masse prs de zro.</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="6" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">chantillonnage MCMC</h2>
<div class="card animate delay-1">
<p class="card-text">
                    La plupart des modles baysiens ne peuvent pas tre rsolus analytiquement. On utilise les
                    <strong>chanes de Markov Monte Carlo</strong> (MCMC) pour tirer des chantillons de la distribution a posteriori.
                    Outils : JAGS, Stan, brms (R), PyMC (Python).
                  </p>
</div>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">Chanes</div>
<div class="stat-label">Plusieurs chanes indpendantes (typiquement 4)</div>
</div>
<div class="stat-box">
<div class="stat-value">R</div>
<div class="stat-label">Convergence : R &lt; 1.01 (strict ; anciens textes utilisent &lt; 1.1)</div>
</div>
<div class="stat-box">
<div class="stat-value">ESS</div>
<div class="stat-label">Bulk-ESS &gt; 400 pour les moyennes ; tail-ESS &gt; 400 pour les IC</div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="7" data-tier="mastery">
<span class="tier-badge mastery">Mthodologiste</span>
<div class="content">
<h2 class="title navy animate">Pondration Baysienne de Modles</h2>
<div class="card animate delay-1">
<p class="card-text">
                    Au lieu de choisir entre modles  effet fixe et  effets alatoires,
                    la <strong>pondration baysienne de modles</strong> (BMA) pondre chaque modle par sa probabilit a posteriori.
                    Cela prend en compte l'incertitude du modle dans l'estimation finale.
                  </p>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">BF</div>
<div class="lesson-content">
<h4>Facteurs de Bayes</h4>
<p>BF &gt; 10 = preuve forte pour H. BF &lt; 1/10 = preuve forte pour H.</p>
</div>
</div>
</div>
</div>
<!-- Outil interactif -->
<div class="slide light" data-index="8">
<div class="content">
<h2 class="title navy animate">Interactif : Visualiseur de Postrieure</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1rem;">
                  Ajustez la force de l'a priori pour voir comment elle affecte la postrieure. Observez comment plus de donnes submergent l'a priori.
                </p>
<div class="animate delay-2" id="bayesianPosteriorTool" style="min-height: 300px; background: rgba(30,39,97,0.05); border-radius: 8px; padding: 1rem;">
<div style="margin-bottom: 1rem;">
<label style="font-weight:600;">Force de l'a priori : <span id="priorStrengthLabel">Vague</span></label><br/>
<input id="priorStrengthSlider" max="100" min="0" oninput="updateBayesianPosterior()" style="width:100%;" type="range" value="10"/>
</div>
<div style="margin-bottom: 1rem;">
<label style="font-weight:600;">Moyenne a priori (log-OR) : <span id="priorMeanLabel">0.00</span></label><br/>
<input id="priorMeanSlider" max="200" min="-200" oninput="updateBayesianPosterior()" style="width:100%;" type="range" value="0"/>
</div>
<div id="bayesianPlotArea" style="width:100%; min-height:220px;"></div>
</div>
</div>
</div>
<!-- Bo&icirc;te narrative -->
<div class="slide dark" data-index="9">
<div class="content" style="max-width: 700px;">
<div class="story-box animate">
<h3 style="color: var(--gold); margin-bottom: 1rem;">L'Histoire de STAMPEDE</h3>
<p style="margin-bottom: 0.75rem;">
                    STAMPEDE a t lanc en 2005 avec 5 bras de recherche comparant des traitements pour le cancer avanc de la prostate.
                    En 2016, l'essai avait ajout l'abiratrone et dmontr une rduction de 37 % de la mortalit (HR 0.63, IC 95 % 0.520.76).
                  </p>
<p style="margin-bottom: 0.75rem;">
                    Le design de plateforme incarne la pense adaptative baysienne : les analyses intermdiaires guident la slection des soutiens-gorge, de nouveaux bras peuvent entrer au fur et  mesure que des traitements mergent, et les bras futiles sont abandonns ttpargnant aux patients des thrapies inefficaces.
                  </p>
<p style="font-style: italic; opacity: 0.9;">
                    STAMPEDE a recrut plus de 10 000 patients dans plus de 100 centres et a fondamentalement transform la prise en charge du cancer de la prostate. L'tat d'esprit baysien a permis aux preuves de s'accumuler et d'clairer les dcisions en temps rel.
                  </p>
</div>
</div>
</div>
<!-- Arbre de d&eacute;cision -->
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Arbre de Dcision : Quand Passer au Baysien ?</h2>
<div class="decision-tree animate delay-1">
<div class="decision-tree-header">Mta-analyse frquentiste vs baysienne</div>
<div class="decision-scenario">
                    Choisir le baysien quand : (1) vous disposez d'informations a priori genuines, (2) vous avez besoin d'noncs probabilistes ( 80 % de chance que l'effet &gt; 0 ), (3) peu d'tudes rendent les proprits frquentistes peu fiables, ou (4) vous souhaitez faire de la pondration de modles.
                  </div>
<div class="decision-options">
<div class="decision-option correct">
<div class="decision-label">Baysien avec a priori faiblement informatif</div>
<div class="decision-detail">Meilleur choix par dfaut pour la plupart des mta-analyses baysiennes. Rgularise sans dominer.</div>
</div>
<div class="decision-option">
<div class="decision-label">Baysien avec a priori informatif</div>
<div class="decision-detail">Uniquement quand les preuves antrieures sont solides et pr-spcifies. Analyse de sensibilit obligatoire.</div>
</div>
<div class="decision-option">
<div class="decision-label">Rester frquentiste</div>
<div class="decision-detail">Plus simple, bien compris. Prfr quand k est grand et qu'il n'y a pas d'information a priori.</div>
</div>
</div>
</div>
</div>
</div>
<!-- Rappel -->
<div class="slide dark" data-index="11">
<div class="content" style="text-align: center;">
<p class="animate" style="font-size: 1.1rem; opacity: 0.7;">Vous souvenez-vous du Module 1 ?</p>
<p class="title gold animate delay-1">CAST  Travers le Prisme Baysien</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="max-width: 600px; font-size: 1.05rem;">
                  Si une analyse baysienne de CAST avait utilis un a priori informatif bas sur la science fondamentale (les antiarythmiques suppriment les ESV),
                  la postrieure aurait quand mme fortement bascul vers le danger. Avec suffisamment de donnes, mme un a priori fort cde devant la vraisemblance.
                  La leon : les mthodes baysiennes ne protgent pas contre les mauvais a priorimais elles rendent les hypothses <em>transparentes</em>.
                </p>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="12">
<div class="content">
<h2 class="title navy animate">Quiz du Module 13</h2>
<div class="quiz-box animate delay-1">
<p class="quiz-question"><strong>Q1.</strong> Que signifie un intervalle de crdibilit baysien  95 % ?</p>
<div class="quiz-options" id="m13-q1">
<div class="quiz-option" onclick="checkQuizAnswer('m13-q1', 0, 1, ['C\'est l\'interpr\u00e9tation fr\u00e9quentiste d\'un intervalle de confiance.', 'Correct ! Un intervalle de cr\u00e9dibilit\u00e9 \u00e9nonce directement la probabilit\u00e9 que le param\u00e8tre se trouve dans l\'intervalle.', 'Les intervalles de cr\u00e9dibilit\u00e9 ont une interpr\u00e9tation probabiliste directe.', 'Les intervalles bay\u00e9siens concernent le param\u00e8tre, pas les donn\u00e9es futures.'])">
<span>A.</span> 95 % des expriences rptes produiraient des intervalles contenant la vraie valeur
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m13-q1', 1, 1, ['C\'est l\'interpr\u00e9tation fr\u00e9quentiste d\'un intervalle de confiance.', 'Correct ! Un intervalle de cr\u00e9dibilit\u00e9 \u00e9nonce directement la probabilit\u00e9 que le param\u00e8tre se trouve dans l\'intervalle.', 'Les intervalles de cr\u00e9dibilit\u00e9 ont une interpr\u00e9tation probabiliste directe.', 'Les intervalles bay\u00e9siens concernent le param\u00e8tre, pas les donn\u00e9es futures.'])">
<span>B.</span> Il y a 95 % de probabilit que le vrai paramtre se trouve dans cet intervalle
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m13-q1', 2, 1, ['C\'est l\'interpr\u00e9tation fr\u00e9quentiste d\'un intervalle de confiance.', 'Correct ! Un intervalle de cr\u00e9dibilit\u00e9 \u00e9nonce directement la probabilit\u00e9 que le param\u00e8tre se trouve dans l\'intervalle.', 'Les intervalles de cr\u00e9dibilit\u00e9 ont une interpr\u00e9tation probabiliste directe.', 'Les intervalles bay\u00e9siens concernent le param\u00e8tre, pas les donn\u00e9es futures.'])">
<span>C.</span> L'intervalle a 95 % de chances d'tre correct
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m13-q1', 3, 1, ['C\'est l\'interpr\u00e9tation fr\u00e9quentiste d\'un intervalle de confiance.', 'Correct ! Un intervalle de cr\u00e9dibilit\u00e9 \u00e9nonce directement la probabilit\u00e9 que le param\u00e8tre se trouve dans l\'intervalle.', 'Les intervalles de cr\u00e9dibilit\u00e9 ont une interpr\u00e9tation probabiliste directe.', 'Les intervalles bay\u00e9siens concernent le param\u00e8tre, pas les donn\u00e9es futures.'])">
<span>D.</span> 95 % des donnes futures tomberont dans cet intervalle
                    </div>
</div>
<div id="m13-q1-feedback" style="display: none;"></div>
</div>
<div class="quiz-box animate delay-2">
<p class="quiz-question"><strong>Q2.</strong> Quel est l'a priori recommand pour l'htrognit inter-tudes () ?</p>
<div class="quiz-options" id="m13-q2">
<div class="quiz-option" onclick="checkQuizAnswer('m13-q2', 0, 2, ['Les a priori uniformes sur la variance peuvent \u00eatre impropres et favoriser une grande h\u00e9t\u00e9rog\u00e9n\u00e9it\u00e9.', 'Les a priori normaux sont utilis\u00e9s pour les param\u00e8tres d\'effet, pas la variance.', 'Correct ! Les a priori Half-Cauchy permettent des valeurs \u00e9lev\u00e9es mais concentrent la probabilit\u00e9 pr\u00e8s de z\u00e9ro, offrant une bonne r\u00e9gularisation.', 'Les valeurs fixes \u00e9liminent l\'incertitude sur l\'h\u00e9t\u00e9rog\u00e9n\u00e9it\u00e9, ce qui d\u00e9fait l\'objectif.'])">
<span>A.</span> Uniforme (0, 100)
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m13-q2', 1, 2, ['Les a priori uniformes sur la variance peuvent \u00eatre impropres et favoriser une grande h\u00e9t\u00e9rog\u00e9n\u00e9it\u00e9.', 'Les a priori normaux sont utilis\u00e9s pour les param\u00e8tres d\'effet, pas la variance.', 'Correct ! Les a priori Half-Cauchy permettent des valeurs \u00e9lev\u00e9es mais concentrent la probabilit\u00e9 pr\u00e8s de z\u00e9ro, offrant une bonne r\u00e9gularisation.', 'Les valeurs fixes \u00e9liminent l\'incertitude sur l\'h\u00e9t\u00e9rog\u00e9n\u00e9it\u00e9, ce qui d\u00e9fait l\'objectif.'])">
<span>B.</span> Normale(0, 1)
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m13-q2', 2, 2, ['Les a priori uniformes sur la variance peuvent \u00eatre impropres et favoriser une grande h\u00e9t\u00e9rog\u00e9n\u00e9it\u00e9.', 'Les a priori normaux sont utilis\u00e9s pour les param\u00e8tres d\'effet, pas la variance.', 'Correct ! Les a priori Half-Cauchy permettent des valeurs \u00e9lev\u00e9es mais concentrent la probabilit\u00e9 pr\u00e8s de z\u00e9ro, offrant une bonne r\u00e9gularisation.', 'Les valeurs fixes \u00e9liminent l\'incertitude sur l\'h\u00e9t\u00e9rog\u00e9n\u00e9it\u00e9, ce qui d\u00e9fait l\'objectif.'])">
<span>C.</span> Demi-Cauchy (0, 0,5)
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m13-q2', 3, 2, ['Les a priori uniformes sur la variance peuvent \u00eatre impropres et favoriser une grande h\u00e9t\u00e9rog\u00e9n\u00e9it\u00e9.', 'Les a priori normaux sont utilis\u00e9s pour les param\u00e8tres d\'effet, pas la variance.', 'Correct ! Les a priori Half-Cauchy permettent des valeurs \u00e9lev\u00e9es mais concentrent la probabilit\u00e9 pr\u00e8s de z\u00e9ro, offrant une bonne r\u00e9gularisation.', 'Les valeurs fixes \u00e9liminent l\'incertitude sur l\'h\u00e9t\u00e9rog\u00e9n\u00e9it\u00e9, ce qui d\u00e9fait l\'objectif.'])">
<span>D.</span> Fix  0.5
                    </div>
</div>
<div id="m13-q2-feedback" style="display: none;"></div>
</div>
</div>
</div>
<!-- C&eacute;r&eacute;monie de cl&ocirc;ture -->
<div class="slide dark" data-index="13">
<div class="content" style="text-align: center;">
<p class="title gold animate">Module 13 Termin</p>
<div class="gold-line animate delay-1"></div>
<p class="animate delay-2 serif" style="font-size: 1.3rem; font-style: italic; max-width: 600px;">
                   Le tournant baysien n'est pas une question de mathmatiques. C'est une question d'honntetrendre nos hypothses visibles. 
                </p>
</div>
</div>
<!-- Transition -->
<div class="slide black" data-index="14">
<p class="refrain animate">Tout signal n'est pas vrit.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 14 : Le Rseau</p>
</div>
</div>
<!-- ============================================================
               MODULE 14 : LE R&Eacute;SEAU (Cipriani 2018 &mdash; 21 antid&eacute;presseurs)
               ============================================================ -->
<div class="module-slides" data-module="14">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Les mthodes protgent les patients de notre assurance.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 14 : Le Rseau</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Module 14 : Le Rseau</h2>
<div class="learning-objectives animate delay-1">
<h4> Objectifs d'apprentissage</h4>
<ul>
<li>Expliquer pourquoi les comparaisons par paires sont insuffisantes quand de nombreux traitements existent</li>
<li>Interprter la gomtrie du rseau (nuds, artes, paisseur)</li>
<li>Comprendre la transitivit, la cohrence et le rle des preuves indirectes</li>
<li>Interprter les classements SUCRA et les tableaux de ligue</li>
<li>Reconnatre quand les hypothses de la NMA sont violes</li>
</ul>
</div>
</div>
</div>
<!-- Histoire : Cipriani 2018 -->
<div class="slide dark" data-index="2">
<p class="title cream animate text-center">Un clinicien fait face  un patient</p>
<p class="title gold animate delay-1 text-center">dpressif. Quel mdicament ?</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; max-width: 600px;">
                Il existe 21 antidpresseurs couramment prescrits. La plupart des essais comparatifs ne comparent que 2 ou 3 molcules. Cipriani et coll. (2018, Lancet) ont connect 522 essais et 116 477 patients dans un seul rseau.
              </p>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">La Logique de la Mta-Analyse en Rseau</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Preuve directe</h4>
<p>Les essais comparant directement A vs B donnent l'estimation la plus fiable.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Preuve indirecte</h4>
<p>Si A vs C et B vs C existent, on peut infrer A vs B. C'est l'hypothse de  transitivit .</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Preuve mixte</h4>
<p>La NMA combine les deux, pondres par la prcision, pour classer tous les traitements simultanment.</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">Interactif : Graphe de Rseau</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1rem;">
                  Chaque nud est un traitement. L'paisseur des artes reprsente le nombre d'tudes comparant ces deux traitements.
                </p>
<div class="animate delay-2" id="nmaNetworkTool" style="min-height: 350px; background: rgba(30,39,97,0.05); border-radius: 8px; padding: 1rem;">
<div id="nmaNetworkArea" style="width:100%; min-height:320px;"></div>
</div>
</div>
</div>
<div class="slide light" data-index="5" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">Transitivit &amp; Cohrence</h2>
<div class="card animate delay-1">
<p class="card-text">
<strong>Transitivit</strong> : L'estimation indirecte (via un comparateur commun) devrait approximer l'estimation directe.
                    Cela exige que les modificateurs d'effet soient distribus de manire similaire entre les comparaisons.
                  </p>
</div>
<div class="card animate delay-2" style="margin-top: 1rem;">
<p class="card-text">
<strong>Cohrence</strong> : Test statistique comparant les preuves directes et indirectes.
                    Les tests globaux (interaction design-traitement) et locaux (node-splitting) aident  identifier les boucles d'incohrence.
                  </p>
</div>
</div>
</div>
<div class="slide light" data-index="6" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">SUCRA &amp; P-scores</h2>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value">SUCRA</div>
<div class="stat-label">Surface Under Cumulative Ranking. 100 % = toujours le meilleur, 0 % = toujours le pire.</div>
</div>
<div class="stat-box">
<div class="stat-value">Score P</div>
<div class="stat-label">Analogue frquentiste. Degr moyen de certitude qu'un traitement est suprieur  un autre.</div>
</div>
</div>
<div class="card animate delay-2" style="margin-top: 1rem;">
<p class="card-text">
<strong>Attention :</strong> Le classement est sduisant mais trompeur quand les diffrences entre traitements sont faibles
                    ou incertaines. Toujours rapporter les intervalles de crdibilit/confiance avec les rangs.
                  </p>
</div>
</div>
</div>
<div class="slide light" data-index="7" data-tier="mastery">
<span class="tier-badge mastery">Mthodologiste</span>
<div class="content">
<h2 class="title navy animate">NMA par Composantes</h2>
<div class="card animate delay-1">
<p class="card-text">
                    Quand les interventions sont complexes (ex. comportementale + pharmacologique), la <strong>NMA par composantes</strong>
                    dcompose les traitements multi-composantes pour estimer la contribution individuelle de chaque composante.
                    Utilise des modles additifs : effet(A+B) = effet(A) + effet(B) + interaction.
                  </p>
</div>
</div>
</div>
<!-- Bo&icirc;te narrative -->
<div class="slide dark" data-index="8">
<div class="content" style="max-width: 700px;">
<div class="story-box animate">
<h3 style="color: var(--gold); margin-bottom: 1rem;">Le Rseau de Cipriani</h3>
<p style="margin-bottom: 0.75rem;">
                    L'analyse du Lancet de 2018 a montr que les 21 antidpresseurs taient tous plus efficaces que le placebo.
                    L'amitriptyline, la mirtazapine et la venlafaxine taient les mieux classes pour l'efficacit.
                    L'agomlatine, la fluoxtine et l'escitalopram taient les mieux classes pour l'acceptabilit (moins d'abandons).
                  </p>
<p style="font-style: italic; opacity: 0.9;">
                    Aucun mdicament n'a  gagn  sur tous les critres. Le rseau a rvl des compromis invisibles  l'analyse par paires.
                  </p>
</div>
</div>
</div>
<!-- Arbre de d&eacute;cision -->
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">Arbre de Dcision : La NMA Est-elle Approprie ?</h2>
<div class="decision-tree animate delay-1">
<div class="decision-tree-header">Vrification de faisabilit de la NMA</div>
<div class="decision-scenario">
                    Vous avez 15 ECR comparant 6 statines diffrentes. Certaines paires ont des preuves directes, d'autres non.
                  </div>
<div class="decision-options">
<div class="decision-option correct">
<div class="decision-label">Vrifier la transitivit, puis ajuster la NMA</div>
<div class="decision-detail">Vrifier que les populations et les designs d'tude sont suffisamment similaires entre les comparaisons.</div>
</div>
<div class="decision-option">
<div class="decision-label">Ignorer les preuves indirectes</div>
<div class="decision-detail">Perte de puissance statistique et lacunes dans la base de preuves.</div>
</div>
<div class="decision-option">
<div class="decision-label">Tout regrouper en une comparaison par paires</div>
<div class="decision-detail">Viole la structure des preuves. Les statines sont des mdicaments diffrents.</div>
</div>
</div>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Quiz du Module 14</h2>
<div class="quiz-box animate delay-1">
<p class="quiz-question"><strong>Q1.</strong> Quelle hypothse doit tre vrifie pour que les preuves indirectes soient valides en NMA ?</p>
<div class="quiz-options" id="m14-q1">
<div class="quiz-option" onclick="checkQuizAnswer('m14-q1', 0, 0, ['Correct ! La transitivit\u00e9 signifie que les modificateurs d\'effet sont distribu\u00e9s de mani\u00e8re similaire entre les comparaisons, rendant les preuves indirectes valides.', 'L\'homog\u00e9n\u00e9it\u00e9 concerne le I\u00b2 par paires, pas la validit\u00e9 de la NMA.', 'Des tailles d\'\u00e9chantillon similaires ne sont pas requises pour la NMA.', 'Le statut de mise en aveugle concerne l\'\u00e9valuation des biais, pas la transitivit\u00e9.'])">
<span>A.</span> Transitivit  les modificateurs d'effet sont quilibrs entre les comparaisons
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m14-q1', 1, 0, ['Correct ! La transitivit\u00e9 signifie que les modificateurs d\'effet sont distribu\u00e9s de mani\u00e8re similaire entre les comparaisons, rendant les preuves indirectes valides.', 'L\'homog\u00e9n\u00e9it\u00e9 concerne le I\u00b2 par paires, pas la validit\u00e9 de la NMA.', 'Des tailles d\'\u00e9chantillon similaires ne sont pas requises pour la NMA.', 'Le statut de mise en aveugle concerne l\'\u00e9valuation des biais, pas la transitivit\u00e9.'])">
<span>B.</span> Homognit  I doit tre infrieur  25 %
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m14-q1', 2, 0, ['Correct ! La transitivit\u00e9 signifie que les modificateurs d\'effet sont distribu\u00e9s de mani\u00e8re similaire entre les comparaisons, rendant les preuves indirectes valides.', 'L\'homog\u00e9n\u00e9it\u00e9 concerne le I\u00b2 par paires, pas la validit\u00e9 de la NMA.', 'Des tailles d\'\u00e9chantillon similaires ne sont pas requises pour la NMA.', 'Le statut de mise en aveugle concerne l\'\u00e9valuation des biais, pas la transitivit\u00e9.'])">
<span>C.</span> Toutes les tudes doivent avoir des tailles d'chantillon similaires
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m14-q1', 3, 0, ['Correct ! La transitivit\u00e9 signifie que les modificateurs d\'effet sont distribu\u00e9s de mani\u00e8re similaire entre les comparaisons, rendant les preuves indirectes valides.', 'L\'homog\u00e9n\u00e9it\u00e9 concerne le I\u00b2 par paires, pas la validit\u00e9 de la NMA.', 'Des tailles d\'\u00e9chantillon similaires ne sont pas requises pour la NMA.', 'Le statut de mise en aveugle concerne l\'\u00e9valuation des biais, pas la transitivit\u00e9.'])">
<span>D.</span> Toutes les tudes doivent tre en double aveugle
                    </div>
</div>
<div id="m14-q1-feedback" style="display: none;"></div>
</div>
</div>
</div>
<!-- Cl&ocirc;ture -->
<div class="slide dark" data-index="11">
<div class="content" style="text-align: center;">
<p class="title gold animate">Module 14 Termin</p>
<div class="gold-line animate delay-1"></div>
<p class="animate delay-2 serif" style="font-size: 1.3rem; font-style: italic; max-width: 600px;">
                   Le rseau voit ce que les comparaisons par paires ne peuvent pas : le paysage complet des choix thrapeutiques. 
                </p>
</div>
</div>
<div class="slide black" data-index="12">
<p class="refrain animate">Tout signal n'est pas vrit.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 15 : L'Individu</p>
</div>
</div>
<!-- ============================================================
               MODULE 15 : L'INDIVIDU (EBCTCG &mdash; m&eacute;ta-analyse sur DPI)
               ============================================================ -->
<div class="module-slides" data-module="15">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Qu'est-ce qui tait cach en pleine vue ?</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 15 : L'Individu</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Module 15 : L'Individu</h2>
<div class="learning-objectives animate delay-1">
<h4> Objectifs d'apprentissage</h4>
<ul>
<li>Expliquer pourquoi les donnes agrges peuvent masquer les interactions traitementcovariable</li>
<li>Distinguer les modles IPD en une tape et en deux tapes</li>
<li>Reconnatre le biais cologique dans la mta-analyse agrge</li>
<li>Comprendre les dfis pratiques de la collecte de DPI</li>
<li>Interprter les graphiques d'interaction traitementcovariable</li>
</ul>
</div>
</div>
</div>
<div class="slide dark" data-index="2">
<p class="title cream animate text-center">Pendant des dcennies, les essais sur le cancer du sein</p>
<p class="title gold animate delay-1 text-center">publiaient des curriculum vitae. Pas des patients.</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; max-width: 600px;">
                L'Early Breast Cancer Trialists' Collaborative Group (EBCTCG) a collect les dossiers individuels de
                plus de 100 000 femmes  travers des centaines d'essais. Leurs mta-analyses sur DPI ont montr que les bnfices du tamoxifne
                dpendent fortement du statut des rcepteurs aux strognesquelque chose d'invisible dans les donnes agrges.
              </p>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Ce Que les Rsums Cachaient</h2>
<p class="direct-address animate delay-1">Chaque essai publi sur le tamoxifne rapportait un rsultat global.  travers des centaines d'tudes, le tamoxifne semblait offrir un bnfice modeste. Mais ce  bnfice modeste  tait une moyenne qui dissimulait une vrit profonde.</p>
<div class="investigation-box animate delay-2">
<h4>La Division Cache en Sous-groupes</h4>
<div class="stats-grid" style="margin-top: 1rem;">
<div class="stat-box" style="border-left: 4px solid #22c55e;">
<div class="stat-value" style="color: #22c55e;">RR 0.59</div>
<div class="stat-label">Sous-groupe ER-positif : rduction de 41 % des rcidives</div>
</div>
<div class="stat-box" style="border-left: 4px solid #ef4444;">
<div class="stat-value" style="color: #ef4444;">RR 0.97</div>
<div class="stat-label">Sous-groupe ER-ngatif : essentiellement aucun bnfice</div>
</div>
</div>
<p style="margin-top: 1rem; font-style: italic;">L'effet combin globalmlangeant patientes rceptives et non rceptivestait une fiction statistique. Une moyenne  modeste  qui surestimait le bnfice pour un groupe et impliquait un bnfice inexistant pour l'autre.</p>
</div>
</div>
</div>
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">Donnes Agrges vs Donnes Individuelles de Patients</h2>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value">DA</div>
<div class="stat-label">Agrges : effet publi + IC uniquement</div>
</div>
<div class="stat-box">
<div class="stat-value">DPI</div>
<div class="stat-label">Individuelles : donnes brutes au niveau du patient</div>
</div>
</div>
<div class="card animate delay-2" style="margin-top: 1rem;">
<p class="card-text">
                    Les DPI permettent : (1) des dfinitions correspondantes des critres de jugement, (2) des analyses en sous-groupes par caractristiques des patients, (3) la modlisation du dlai avant vnement, (4) la vrification du biais cologique. C'est le <strong>gold standard</strong>
                    pour explorer la modification de l'effet du traitement.
                  </p>
</div>
</div>
</div>
<div class="slide light" data-index="5" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">DPI en Une tape vs Deux tapes</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Deux tapes</h4>
<p>Analyser chaque tude sparment, puis combiner les estimations (comme la MA standard). Simple mais perte d'information.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Une tape</h4>
<p>Ajuster un seul modle mixte  toutes les donnes patients simultanment. Plus puissant pour les interactions et les vnements rares.</p>
</div>
</div>
<div class="card animate delay-3" style="margin-top: 1rem;">
<p class="card-text">
<strong>Cl :</strong> Les deux doivent tenir compte du regroupement par tude. Ne jamais regrouper les DPI comme s'il s'agissait d'un mga-essaicela
                    introduit un facteur de confusion (paradoxe de Simpson).
                  </p>
</div>
</div>
</div>
<div class="slide light" data-index="6" data-tier="mastery">
<span class="tier-badge mastery">Mthodologiste</span>
<div class="content">
<h2 class="title navy animate">Biais cologique</h2>
<div class="card animate delay-1">
<p class="card-text">
                    Une mta-rgression utilisant l'ge moyen au niveau de l'tude pourrait montrer que les patients plus tendus bnficieraient davantage. Mais cela pourrait tre un <strong>biais cologique</strong>l'association au niveau de l'tude ne reflte pas
                    la vrit au niveau du patient. Seules les DPI peuvent sparer les effets <em>intra-tude</em> des effets <em>inter-tudes</em>.
                  </p>
</div>
</div>
</div>
<div class="slide dark" data-index="7">
<div class="content" style="max-width: 700px;">
<h2 class="title cream animate text-center">Quand le Tout Ment Sur Ses Parties</h2>
<div class="gold-line animate delay-1"></div>
<p class="animate delay-2" style="font-size: 1.05rem; text-align: center; max-width: 650px; margin-top: 1rem;">
                  Le paradoxe de Simpson : une tendance qui apparat dans les donnes agrges s'inverse lorsque les donnes sont regroupes par une variable de confusion.
                </p>
<div class="investigation-box animate delay-3" style="margin-top: 1.5rem;">
<h4>Le Paradoxe en Pratique</h4>
<p style="margin-top: 0.75rem;">Une analyse de type mga-essai a trouv le Traitement X bnfique <em>globalement</em>. Mais <strong>au sein de chaque tude</strong>, il tait nocif. Comment ? Les diffrences de risque de base entre tudes craient une illusionles populations plus malades recevaient davantage de traitement, gonflant le bnfice agrg.</p>
<p style="margin-top: 0.75rem;">Cates (2002, <em>BMJ</em>) a montr que combiner les tudes sans tenir compte du regroupement peut inverser la direction apparente de l'effet.</p>
<p style="margin-top: 0.75rem; font-weight: 600; color: var(--gold);">C'est pourquoi les modles DPI  une tape incluent l'tude comme variable de regroupementpour empcher la confusion inter-tudes de se faire passer pour un effet du traitement.</p>
</div>
</div>
</div>
<!-- Bo&icirc;te narrative -->
<div class="slide dark" data-index="8">
<div class="content" style="max-width: 700px;">
<div class="story-box animate">
<h3 style="color: var(--gold); margin-bottom: 1rem;">L'Hritage de l'EBCTCG</h3>
<p style="margin-bottom: 0.75rem;">
                    Les mta-analyses sur DPI de l'EBCTCG ont dfini le traitement du cancer du sein pendant 40 ans.
                    Leur analyse de 2005 du tamoxifne versus pas de traitement a montr un bnfice clair dans les tumeurs ER-positives
                    (RR 0.59) mais aucun bnfice dans les tumeurs ER-ngatives (RR 0.97).
                  </p>
<p style="font-style: italic; opacity: 0.9;">
                    Sans les DPI, l'effet global agrg aurait t pool entre les deux groupes
                    diluant le bnfice et privant potentiellement les patientes ER-positives de l'ampleur de leur gain.
                  </p>
</div>
</div>
</div>
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">Arbre de Dcision : Quand les DPI Valent-elles la Peine ?</h2>
<div class="decision-tree animate delay-1">
<div class="decision-node" style="background: var(--navy); color: white; padding: 1rem; border-radius: 8px; text-align: center; margin-bottom: 1rem;">
                    Souponnez-vous des interactions traitementcovariable ?
                  </div>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
<div style="background: rgba(34,197,94,0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #22c55e;">
<strong>Oui </strong>
<p style="margin-top: 0.5rem; font-size: 0.95rem;">Pouvez-vous obtenir les DPI de &gt;80 % des essais ?</p>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; margin-top: 0.75rem;">
<div style="background: rgba(34,197,94,0.2); padding: 0.75rem; border-radius: 6px; font-size: 0.85rem;">
<strong style="color: #22c55e;">Oui </strong> Mta-analyse DPI  une tape avec termes d'interaction
                        </div>
<div style="background: rgba(212,175,55,0.2); padding: 0.75rem; border-radius: 6px; font-size: 0.85rem;">
<strong style="color: var(--gold);">Non </strong> Approche  deux tapes : demander les DPI disponibles + agrges pour le reste
                        </div>
</div>
</div>
<div style="background: rgba(239,68,68,0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #ef4444;">
<strong>Non </strong>
<p style="margin-top: 0.5rem; font-size: 0.95rem;">Le biais cologique est-il une proccupation ?</p>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; margin-top: 0.75rem;">
<div style="background: rgba(212,175,55,0.2); padding: 0.75rem; border-radius: 6px; font-size: 0.85rem;">
<strong style="color: var(--gold);">Oui </strong> DPI prfres mme sans interactions
                        </div>
<div style="background: rgba(239,68,68,0.2); padding: 0.75rem; border-radius: 6px; font-size: 0.85rem;">
<strong style="color: #ef4444;">Non </strong> La mta-analyse de donnes agrges peut suffire
                        </div>
</div>
</div>
</div>
<p class="footnote animate delay-2" style="margin-top: 1rem; font-size: 0.85rem; font-style: italic;">L'EBCTCG a collect des donnes de centaines d'essais sur 40 ans. La plupart des mta-analyses sur DPI portent sur 520 essais. La dcision dpend de la question, pas de l'ambition.</p>
</div>
</div>
</div>
<div class="slide light" data-index="10" data-tier="mastery">
<span class="tier-badge mastery">Mthodologiste</span>
<div class="content">
<h2 class="title navy animate">Le Schma Se Rpte</h2>
<p class="direct-address animate delay-1">Souvenez-vous du Module 3 ? Le THS semblait bnfique dans les tudes observationnelles mais nocif dans les ECR. Le mme masquage par l'agrgation se produisait : le bnfice global cachait un prjudice dans certains sous-groupes.</p>
<div class="card animate delay-2">
<p class="card-text">
                    L'analyse sur DPI de la Womens Health Initiative a ensuite montr que <strong>le moment importait</strong>les femmes commenant le THS dans les 10 ans suivant la mnopause avaient des rsultats diffrents de celles commenant plus tard. L' hypothse du timing  tait invisible dans les rsums agrgs publis.
                  </p>
</div>
<div class="card animate delay-3" style="margin-top: 1rem; border-left: 4px solid var(--gold);">
<p class="card-text">
<strong>La leon se rpte :</strong> les donnes agrges peuvent masquer des interactions traitementcovariable critiques. Que ce soit le statut ER dans le cancer du sein ou le timing dans le THS, les donnes individuelles rvlent ce que les rsums dissimulent.
                  </p>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">Quiz du Module 15</h2>
<div class="quiz-box animate delay-1">
<p class="quiz-question"><strong>Q1.</strong> Quel est le principal avantage des DPI par rapport  la mta-analyse sur donnes agrges ?</p>
<div class="quiz-options" id="m15-q1">
<div class="quiz-option" onclick="checkQuizAnswer('m15-q1', 0, 2, ['Plus d\'\u00e9tudes n\'aide pas si la granularit\u00e9 des donn\u00e9es est la m\u00eame.', 'Moins cher est faux\u2014les DPI sont beaucoup plus co\u00fbteuses \u00e0 collecter.', 'Correct ! Les DPI permettent d\'explorer les modificateurs d\'effet au niveau du patient sans biais \u00e9cologique.', 'Plus rapide est faux\u2014les DPI n\u00e9cessitent de longues n\u00e9gociations de partage de donn\u00e9es.'])">
<span>A.</span> Elles incluent toujours plus d'tudes
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m15-q1', 1, 2, ['Plus d\'\u00e9tudes n\'aide pas si la granularit\u00e9 des donn\u00e9es est la m\u00eame.', 'Moins cher est faux\u2014les DPI sont beaucoup plus co\u00fbteuses \u00e0 collecter.', 'Correct ! Les DPI permettent d\'explorer les modificateurs d\'effet au niveau du patient sans biais \u00e9cologique.', 'Plus rapide est faux\u2014les DPI n\u00e9cessitent de longues n\u00e9gociations de partage de donn\u00e9es.'])">
<span>B.</span> C'est moins cher et plus rapide
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m15-q1', 2, 2, ['Plus d\'\u00e9tudes n\'aide pas si la granularit\u00e9 des donn\u00e9es est la m\u00eame.', 'Moins cher est faux\u2014les DPI sont beaucoup plus co\u00fbteuses \u00e0 collecter.', 'Correct ! Les DPI permettent d\'explorer les modificateurs d\'effet au niveau du patient sans biais \u00e9cologique.', 'Plus rapide est faux\u2014les DPI n\u00e9cessitent de longues n\u00e9gociations de partage de donn\u00e9es.'])">
<span>C.</span> Elles permettent d'explorer les interactions traitementcovariable sans biais cologique
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m15-q1', 3, 2, ['Plus d\'\u00e9tudes n\'aide pas si la granularit\u00e9 des donn\u00e9es est la m\u00eame.', 'Moins cher est faux\u2014les DPI sont beaucoup plus co\u00fbteuses \u00e0 collecter.', 'Correct ! Les DPI permettent d\'explorer les modificateurs d\'effet au niveau du patient sans biais \u00e9cologique.', 'Plus rapide est faux\u2014les DPI n\u00e9cessitent de longues n\u00e9gociations de partage de donn\u00e9es.'])">
<span>D.</span> Elles liminent le besoin de modles  effets alatoires
                    </div>
</div>
<div id="m15-q1-feedback" style="display: none;"></div>
</div>
</div>
</div>
<!-- Cl&ocirc;ture -->
<div class="slide dark" data-index="12">
<div class="content" style="text-align: center;">
<p class="title gold animate">Module 15 Termin</p>
<div class="gold-line animate delay-1"></div>
<p class="animate delay-2 serif" style="font-size: 1.3rem; font-style: italic; max-width: 600px;">
                   Derrire chaque estimation poole se trouvent des individus dont les histoires ne peuvent tre racontes par l'agrgat. 
                </p>
</div>
</div>
<div class="slide black" data-index="13">
<p class="refrain animate">L'htrognit est un message, pas du bruit.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 16 : La Dose</p>
</div>
</div>
<!-- ============================================================
               MODULE 16 : LA DOSE (courbe en J de l'alcool / Stockwell 2016)
               ============================================================ -->
<div class="module-slides" data-module="16">
<div class="slide dark active" data-index="0">
<p class="refrain animate">L'htrognit est un message, pas du bruit.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 16 : La Dose</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Module 16 : La Dose</h2>
<div class="learning-objectives animate delay-1">
<h4> Objectifs d'apprentissage</h4>
<ul>
<li>Expliquer pourquoi les simples comparaisons par paires ne capturent pas les relations doserponse</li>
<li>Distinguer les modles doserponse linaires, quadratiques et par splines</li>
<li>Interprter les splines cubiques restreintes avec nuds</li>
<li>Identifier les effets de seuil et les courbes en J/U</li>
<li>Comprendre la comparaison de modles avec AIC/BIC</li>
</ul>
</div>
</div>
</div>
<div class="slide dark" data-index="2">
<p class="title cream animate text-center">Pendant des dcennies, la consommation modre d'alcool</p>
<p class="title gold animate delay-1 text-center">semblait protger le cur.</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; max-width: 600px;">
                La  courbe en J  montrait que les non-buveurs avaient une mortalit cardiovasculaire plus leve que les buveurs modrs.
                Mais Stockwell et al. (2016) ont dmontr que la courbe en J tait un artefact d  la classification errone
                d'anciens buveurs (ayant arrt pour cause de maladie) comme  abstinents .
              </p>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Un Consensus Scientifique Bti sur du Sable</h2>
<p class="direct-address animate delay-1">En 2010, plus de 100 tudes observationnelles avaient confirm la courbe en J. Les manuels mdicaux l'enseignaient. Les cardiologues la citaient. Les lobbyistes de l'industrie vinicole finanaient des confrences autour d'elle.</p>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">100+</div>
<div class="stat-label">tudes observationnelles confirmant la courbe en J</div>
</div>
<div class="stat-box">
<div class="stat-value">1525 %</div>
<div class="stat-label">Mortalit cardiovasculaire infrieure chez les buveurs modrs vs abstinents</div>
</div>
</div>
<div class="card animate delay-3" style="margin-top: 1rem; border-left: 4px solid var(--red);">
<p class="card-text">
                    Les preuves semblaient accablantes. Mais que se passait-il si le groupe de comparaisonles  abstinents tait contamin ?
                  </p>
</div>
</div>
</div>
<div class="slide dark" data-index="4">
<div class="content" style="max-width: 700px;">
<h2 class="title cream animate text-center">Le Malade Qui Arrte</h2>
<p class="title gold animate delay-1 text-center" style="font-size: 1.2rem;">Un Facteur de Confusion Cach</p>
<div class="gold-line animate delay-2"></div>
<div class="investigation-box animate delay-3" style="margin-top: 1.5rem;">
<h4>Le Problme</h4>
<p style="margin-top: 0.75rem;">Les personnes qui arrtent de boire le font souvent <strong>parce qu'elles sont dj malades</strong>maladie hpatique, interactions mdicamenteuses, diagnostic de cancer. Ces  anciens buveurs  taient classs comme  abstinents  dans la plupart des tudes.</p>
<p style="margin-top: 0.75rem;"><strong>L'effet :</strong> Le groupe de rfrence (abstinents) semblait <em>moins en bonne sant</em>non pas parce que l'abstinence tait nocive, mais parce que des personnes malades l'avaient rejoint.</p>
</div>
<div class="card animate delay-4" style="margin-top: 1rem; background: rgba(212,175,55,0.15); border-left: 4px solid var(--gold);">
<p class="card-text" style="color: var(--cream);">
                    Quand Stockwell et al. (2016, <em>J Stud Alcool Drogues</em>) ont exclu les anciens buveurs et appliqu les corrections de qualit d'tude adquates : <strong>la courbe en J a disparu</strong>. L'effet protecteur tait un fantme.
                  </p>
</div>
</div>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">Mta-Analyse DoseRponse</h2>
<div class="card animate delay-1">
<p class="card-text">
                    La mta-analyse standard demande :  Le traitement X fonctionne-t-il ?  La mta-analyse doserponse demande :
                     <strong> quelle dose</strong> le traitement X fonctionne-t-il le mieux ?  Elle modlise la relation entre
                    le niveau de dose et le critre de jugement  travers plusieurs tudes.
                  </p>
</div>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">Linaire</div>
<div class="stat-label">Le plus simple : log(RR) =   dose</div>
</div>
<div class="stat-box">
<div class="stat-value">Spline</div>
<div class="stat-label">Flexible : polynmes par morceaux avec nuds</div>
</div>
<div class="stat-box">
<div class="stat-value">Fractionnaire</div>
<div class="stat-label">Polynomial : dose^p1 + dose^p2</div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="6" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">Splines Cubiques Restreintes</h2>
<div class="card animate delay-1">
<p class="card-text">
                    Les RCS placent des <strong>nuds</strong>  des points de dose pr-spcifis et ajustent des polynmes lisses entre eux.
                    Typiquement 35 nuds aux quantiles de la distribution des doses. Linaire au-del des nuds aux bornes.
                    Les tests de non-linarit comparent le modle par spline  un modle linaire plus simple.
                  </p>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">AIC</div>
<div class="lesson-content">
<h4>Comparaison de modles</h4>
<p>AIC/BIC comparent l'ajustement linaire vs par spline. Plus bas = meilleur. Tester aussi l'cart  la linarit (p-value pour les termes de spline).</p>
</div>
</div>
</div>
</div>
<!-- Outil interactif -->
<div class="slide light" data-index="7">
<div class="content">
<h2 class="title navy animate">Interactif : Constructeur DoseRponse</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1rem;">
                  Comparez les ajustements linaire, quadratique et par spline. Observez comment la forme du modle change selon les hypothses.
                </p>
<div class="animate delay-2" id="doseResponseTool" style="min-height: 300px; background: rgba(30,39,97,0.05); border-radius: 8px; padding: 1rem;">
<div style="display:flex; gap:1rem; margin-bottom:1rem; flex-wrap:wrap;">
<button class="btn" id="doseBtn-linear" onclick="setDoseModel('linear')">Linaire</button>
<button class="btn" id="doseBtn-quadratic" onclick="setDoseModel('quadratic')">Quadratique</button>
<button class="btn primary" id="doseBtn-spline" onclick="setDoseModel('spline')">Spline (3 nuds)</button>
</div>
<div id="doseResponsePlotArea" style="width:100%; min-height:240px;"></div>
</div>
</div>
</div>
<!-- Bo&icirc;te narrative -->
<div class="slide dark" data-index="8">
<div class="content" style="max-width: 700px;">
<div class="story-box animate">
<h3 style="color: var(--gold); margin-bottom: 1rem;">La Courbe en J de l'Alcool Dmystifie</h3>
<p style="margin-bottom: 0.75rem;">
                    La r-analyse de Stockwell en 2016 a montr que lorsque les anciens buveurs taient correctement exclus
                    du groupe de rfrence  abstinents , l'effet protecteur de la consommation modre disparaissait.
                    La courbe en J tait due au biais du  malade qui arrte .
                  </p>
<p style="font-style: italic; opacity: 0.9;">
                    La mta-analyse doserponse a rvl la vrit : la forme de la courbe dpend
                    de manire critique de la faon dont on dfinit la  dose zro . La mauvaise catgorie de rfrence a cr un bnfice fantme.
                  </p>
</div>
</div>
</div>
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">Quand les Courbes Faonnent les Politiques</h2>
<p class="direct-address animate delay-1">La courbe en J fantme a influenc les recommandations sur l'alcool dans le monde entier :</p>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background: #1a3a5c; color: white;">UK</div>
<div class="lesson-content">
<h4>Recommandations du NHS (jusqu'en 2016)</h4>
<p> La consommation modre peut protger le cur  figurait dans les recommandations officielles. Aprs la correction de Stockwell, le Royaume-Uni a rvis ses limites  14 units/semaine pour <strong>tous</strong> les buveurs (auparavant 21 pour les hommes). Aucune quantit n'a t dclare  sre .</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background: #3b4d8c; color: white;">US</div>
<div class="lesson-content">
<h4>Comit Consultatif des Dietary Guidelines</h4>
<p>Les tudes sur la courbe en J ont t cites jusqu'en 2015. Le comit de 2020 a recommand de rduire les limites  1 verre/jour pour les hommes, reconnaissant le biais du groupe de rfrence.</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background: #2d6a4f; color: white;">AU</div>
<div class="lesson-content">
<h4>Recommandations Australiennes</h4>
<p>Les limites de consommation sre ont t retardes par la recherche finance par l'industrie promouvant une consommation modre  cardioprotectrice .</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Arbre de Dcision : L'Analyse DoseRponse Est-elle Approprie ?</h2>
<div class="decision-tree animate delay-1">
<div class="decision-node" style="background: var(--navy); color: white; padding: 1rem; border-radius: 8px; text-align: center; margin-bottom: 1rem;">
                    Avez-vous 3 niveaux d'exposition (pas seulement expos vs non expos) ?
                  </div>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
<div style="background: rgba(34,197,94,0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #22c55e;">
<strong>Oui </strong>
<p style="margin-top: 0.5rem; font-size: 0.95rem;">La relation est-elle plausiblement non linaire ?</p>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; margin-top: 0.75rem;">
<div style="background: rgba(34,197,94,0.2); padding: 0.75rem; border-radius: 6px; font-size: 0.85rem;">
<strong style="color: #22c55e;">Oui </strong> Splines cubiques restreintes (35 nuds). Comparer AIC avec le modle linaire.
                        </div>
<div style="background: rgba(212,175,55,0.2); padding: 0.75rem; border-radius: 6px; font-size: 0.85rem;">
<strong style="color: var(--gold);">Non </strong> La mta-rgression doserponse linaire peut suffire
                        </div>
</div>
</div>
<div style="background: rgba(239,68,68,0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #ef4444;">
<strong>Non </strong>
<p style="margin-top: 0.5rem; font-size: 0.95rem;">Mta-analyse par paires standard (pas d'analyse doserponse possible avec seulement deux niveaux)</p>
</div>
</div>
<div style="background: rgba(197,48,48,0.15); padding: 1rem; border-radius: 8px; margin-top: 1rem; border-left: 4px solid var(--red);">
<strong style="color: #f87171;">Attention :</strong> Vrifiez toujoursvotre catgorie de rfrence est-elle propre ? La leon de la courbe en J : un groupe de rfrence contamin cre une non-linarit fantme.
                  </div>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">Quiz du Module 16</h2>
<div class="quiz-box animate delay-1">
<p class="quiz-question"><strong>Q1.</strong> Qu'est-ce qui rend les splines cubiques restreintes utiles en mta-analyse doserponse ?</p>
<div class="quiz-options" id="m16-q1">
<div class="quiz-option" onclick="checkQuizAnswer('m16-q1', 0, 1, ['Les splines ne se limitent pas aux lignes droites\u2014c\'est le mod\u00e8le lin\u00e9aire.', 'Correct ! Les splines peuvent mod\u00e9liser des formes non lin\u00e9aires (courbes en J, en U, seuils) tout en restant lisses.', 'Moins d\'\u00e9tudes ne s\'am\u00e9liore pas avec le seul choix du mod\u00e8le.', 'Les splines peuvent augmenter le nombre de param\u00e8tres par rapport au mod\u00e8le lin\u00e9aire.'])">
<span>A.</span> Elles produisent toujours une ligne droite
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m16-q1', 1, 1, ['Les splines ne se limitent pas aux lignes droites\u2014c\'est le mod\u00e8le lin\u00e9aire.', 'Correct ! Les splines peuvent mod\u00e9liser des formes non lin\u00e9aires (courbes en J, en U, seuils) tout en restant lisses.', 'Moins d\'\u00e9tudes ne s\'am\u00e9liore pas avec le seul choix du mod\u00e8le.', 'Les splines peuvent augmenter le nombre de param\u00e8tres par rapport au mod\u00e8le lin\u00e9aire.'])">
<span>B.</span> Elles capturent de manire flexible les courbes doserponse non linaires
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m16-q1', 2, 1, ['Les splines ne se limitent pas aux lignes droites\u2014c\'est le mod\u00e8le lin\u00e9aire.', 'Correct ! Les splines peuvent mod\u00e9liser des formes non lin\u00e9aires (courbes en J, en U, seuils) tout en restant lisses.', 'Moins d\'\u00e9tudes ne s\'am\u00e9liore pas avec le seul choix du mod\u00e8le.', 'Les splines peuvent augmenter le nombre de param\u00e8tres par rapport au mod\u00e8le lin\u00e9aire.'])">
<span>C.</span> Elles rduisent le nombre d'tudes ncessaires
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m16-q1', 3, 1, ['Les splines ne se limitent pas aux lignes droites\u2014c\'est le mod\u00e8le lin\u00e9aire.', 'Correct ! Les splines peuvent mod\u00e9liser des formes non lin\u00e9aires (courbes en J, en U, seuils) tout en restant lisses.', 'Moins d\'\u00e9tudes ne s\'am\u00e9liore pas avec le seul choix du mod\u00e8le.', 'Les splines peuvent augmenter le nombre de param\u00e8tres par rapport au mod\u00e8le lin\u00e9aire.'])">
<span>D.</span> Elles simplifient le modle en rduisant les paramtres
                    </div>
</div>
<div id="m16-q1-feedback" style="display: none;"></div>
</div>
</div>
</div>
<!-- Cl&ocirc;ture -->
<div class="slide dark" data-index="12">
<div class="content" style="text-align: center;">
<p class="title gold animate">Module 16 Termin</p>
<div class="gold-line animate delay-1"></div>
<p class="animate delay-2 serif" style="font-size: 1.3rem; font-style: italic; max-width: 600px;">
                   La dose fait le poison. Et la forme de la courbe rvle si le poison est rel. 
                </p>
</div>
</div>
<div class="slide black" data-index="13">
<p class="refrain animate">L'absence de preuve n'est pas la preuve de l'absence.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 17 : La Fragilit</p>
</div>
</div>
<!-- ============================================================
               MODULE 17 : LA FRAGILIT&Eacute; (oseltamivir / Jefferson 2014)
               ============================================================ -->
<div class="module-slides" data-module="17">
<div class="slide dark active" data-index="0">
<p class="refrain animate">L'absence de preuve n'est pas la preuve de l'absence.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 17 : La Fragilit</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Module 17 : La Fragilit</h2>
<div class="learning-objectives animate delay-1">
<h4> Objectifs d'apprentissage</h4>
<ul>
<li>Calculer et interprter l'indice de fragilit</li>
<li>Utiliser les graphiques GOSH pour identifier les tudes influentes et les effets de sous-groupes</li>
<li>Interprter les funnel plots  contours amliors</li>
<li>Appliquer les modles de slection de Copas et PET-PEESE pour le biais de publication</li>
<li>Comprendre comment les analyses de sensibilit renforcent les conclusions mta-analytiques</li>
</ul>
</div>
</div>
</div>
<div class="slide dark" data-index="2">
<p class="title cream animate text-center">Les gouvernements ont stock des milliards</p>
<p class="title gold animate delay-1 text-center">sur la base de preuves qu'ils ne pouvaient pas voir.</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; max-width: 600px;">
                Aprs le H1N1, les gouvernements ont dpens des milliards pour constituer des stocks d'oseltamivir (Tamiflu).
                L'quipe Cochrane (Jefferson et al. 2014) a lutt pendant des annes pour accder aux donnes non publies.
                Quand ils y sont finalement parvenus, les preuves de prvention des complications se sont vapores.
              </p>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">L'Indice de Fragilit</h2>
<div class="card animate delay-1">
<p class="card-text">
                    L'indice de fragilit demande : <strong> Combien de patients devraient changer de rsultat pour faire basculer un rsultat statistiquement significatif en non significatif ? </strong>
                    Il ajoute itrativement des vnements (convertit des non-vnements en vnements) dans le groupe avec le moins d'vnements jusqu' ce que p &gt; 0.05.
                  </p>
</div>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">IF = 1</div>
<div class="stat-label">Extrmement fragile. Le changement d'un seul patient modifie la conclusion.</div>
</div>
<div class="stat-box">
<div class="stat-value">IF &gt; 8</div>
<div class="stat-label">Raisonnablement robuste. Moins sensible aux rsultats individuels.</div>
</div>
</div>
</div>
</div>
<!-- Outil interactif -->
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">Interactif : Calculateur de Fragilit</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1rem;">
                  Entrez un tableau 22 pour calculer l'indice de fragilit. Observez les vnements se dplacer jusqu' ce que la significativit bascule.
                </p>
<div class="animate delay-2" id="fragilityTool" style="min-height: 200px; background: rgba(30,39,97,0.05); border-radius: 8px; padding: 1rem;">
<div style="display:grid; grid-template-columns: auto 1fr 1fr; gap:0.5rem; max-width:350px; margin-bottom:1rem;">
<div></div>
<div style="font-weight:600; text-align:center;">vnements</div>
<div style="font-weight:600; text-align:center;">Nombre total</div>
<div style="font-weight:600;">Traitement</div>
<input id="fi-eventsTx" style="padding:0.3rem; border:1px solid #ccc; border-radius:4px; text-align:center;" type="number" value="15"/>
<input id="fi-nTx" style="padding:0.3rem; border:1px solid #ccc; border-radius:4px; text-align:center;" type="number" value="100"/>
<div style="font-weight:600;">Contrle</div>
<input id="fi-eventsCtrl" style="padding:0.3rem; border:1px solid #ccc; border-radius:4px; text-align:center;" type="number" value="30"/>
<input id="fi-nCtrl" style="padding:0.3rem; border:1px solid #ccc; border-radius:4px; text-align:center;" type="number" value="100"/>
</div>
<button class="btn primary" onclick="calculateFragilityIndex()">Calculer l'Indice de Fragilit</button>
<div id="fragilityResult" style="margin-top:1rem; padding:1rem; background:rgba(212,175,55,0.1); border-radius:6px; display:none;"></div>
</div>
</div>
</div>
<div class="slide light" data-index="5" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">Graphiques GOSH</h2>
<div class="card animate delay-1">
<p class="card-text">
<strong>Aperu graphique de l'tude Htrognit</strong> (GOSH) ajuste des modles de mta-analyse
                     tous les sous-ensembles possibles d'tudes. Chaque point reprsente l'effet pool vs I pour un sous-ensemble.
                    Les clusters suggrent des sous-groupes distincts ; les nuages aberrants suggrent qu'une tude conduit l'htrognit.
                  </p>
</div>
<p class="footnote animate delay-2">Pour k tudes, il y a 2<sup>k</sup>1 sous-ensembles. Pour k &gt; 15, un chantillonnage alatoire est utilis.</p>
</div>
</div>
<div class="slide light" data-index="6" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">Diagramme en entonnoirs  Contours Amliors</h2>
<div class="card animate delay-1">
<p class="card-text">
                    Les funnel plots standard montrent la taille d'effet vs l'erreur standard. Les versions <strong> contours amliors</strong>
                    ajoutent des zones ombres pour p &lt; 0.01, p &lt; 0.05 et p &lt; 0.10.
                    Si les tudes manquantes se situent dans les zones non significatives, un biais de publication est probable.
                    Si elles se situent dans les zones significatives, d'autres causes (ex. qualit des tudes) peuvent expliquer l'asymtrie.
                  </p>
</div>
</div>
</div>
<div class="slide light" data-index="7" data-tier="mastery">
<span class="tier-badge mastery">Mthodologiste</span>
<div class="content">
<h2 class="title navy animate">Slection de Copas &amp; PET-PEESE</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Modle de slection de Copas</h4>
<p>Modlise la probabilit de publication d'une tude en fonction de son erreur standard et de sa taille d'effet. Estime conjointement le vrai effet et le mcanisme de slection.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>ANIMAUX DE COMPAGNIE</h4>
<p>Test d'effet par la prcision (PET) : rgresse les effets sur l'ES. Si l'ordonne  l'origine = 0, pas de vrai effet. PEESE utilise ES pour de meilleures performances quand un vrai effet existe.</p>
</div>
</div>
</div>
</div>
<!-- Bo&icirc;te narrative -->
<div class="slide dark" data-index="8">
<div class="content" style="max-width: 700px;">
<div class="story-box animate">
<h3 style="color: var(--gold); margin-bottom: 1rem;">La Saga de l'Oseltamivir</h3>
<p style="margin-bottom: 0.75rem;">
                    La mta-analyse originale finance par Roche (Kaiser 2003) montrait que l'oseltamivir rduisait
                    les complications grippales de 67 %. Mais 8 des 10 essais n'avaient jamais t publis.
                    Aprs que Cochrane a obtenu les rapports d'tude clinique, le bnfice pour les complications
                    est tomb  11 %, non significatif.
                  </p>
<p style="font-style: italic; opacity: 0.9;">
                    La fragilit n'tait pas seulement statistiqueelle tait informationnelle. La base de preuves elle-mme
                    manquait la plupart des donnes.
                  </p>
</div>
</div>
</div>
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">Arbre de Dcision : Interprter Vos Rsultats de Fragilit</h2>
<div class="decision-tree animate delay-1">
<div class="decision-node" style="background: var(--navy); color: white; padding: 1rem; border-radius: 8px; text-align: center; margin-bottom: 1rem;">
                    Vous avez calcul l'Indice de Fragilit. Que signifie le nombre ?
                  </div>
<div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.75rem;">
<div style="background: rgba(239,68,68,0.15); padding: 1rem; border-radius: 8px; border-top: 4px solid #ef4444;">
<strong style="color: #f87171; font-size: 1.1rem;">IF  3</strong>
<p style="margin-top: 0.5rem; font-size: 0.9rem;"><strong>Trs fragile.</strong> Une poigne d'vnements diffrents inverserait la conclusion.  interprter avec une extrme prudence.</p>
</div>
<div style="background: rgba(212,175,55,0.15); padding: 1rem; border-radius: 8px; border-top: 4px solid var(--gold);">
<strong style="color: var(--gold); font-size: 1.1rem;">IF 48</strong>
<p style="margin-top: 0.5rem; font-size: 0.9rem;"><strong>Modrment fragile.</strong> Sensible  de petites perturbations. Y a-t-il des essais non publis qui pourraient faire basculer le rsultat ?</p>
</div>
<div style="background: rgba(34,197,94,0.15); padding: 1rem; border-radius: 8px; border-top: 4px solid #22c55e;">
<strong style="color: #22c55e; font-size: 1.1rem;">IF &gt; 8</strong>
<p style="margin-top: 0.5rem; font-size: 0.9rem;"><strong>Relativement robuste.</strong> Mais n'oubliez pas : la fragilit n'est qu'une dimension. Le biais de publication peut saper mme des rsultats robustes.</p>
</div>
</div>
<div class="card animate delay-2" style="margin-top: 1rem; background: rgba(0,0,0,0.05);">
<p class="card-text" style="font-size: 0.9rem;">
                      Walsh et coll. (2014, <em>J Clin Epidemiol</em>) ont trouv que dans 399 ECR publis dans des revues prestigieuses, l'indice de fragilit mdian n'tait que de 8. Plus de 25 % avaient un IF  3. Des essais majeurs influenant la pratique clinique ne tenaient souvent qu' un fil statistique.
                    </p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="10" data-tier="mastery">
<span class="tier-badge mastery">Mthodologiste</span>
<div class="content">
<h2 class="title navy animate">Au-del de l'Indice : La Fragilit Structurelle</h2>
<p class="direct-address animate delay-1">La saga de l'oseltamivir a rvl <strong>trois types de fragilit</strong>et l'Indice de Fragilit ne capture que le premier.</p>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background: #ef4444;">1</div>
<div class="lesson-content">
<h4>Fragilit Statistique (IF)</h4>
<p>Combien d'vnements font basculer la p-value ? C'est ce que mesure l'Indice de Fragilit. Il quantifie la sensibilit aux rsultats de patients individuels.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background: var(--gold); color: var(--navy);">2</div>
<div class="lesson-content">
<h4>Fragilit Informationnelle</h4>
<p>Quelle proportion des preuves est cache ? Huit des dix essais de Roche sur l'oseltamivir n'taient pas publis. La base de preuves tait structurellement incomplte.</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background: #3b82f6;">3</div>
<div class="lesson-content">
<h4>Fragilit Analytique</h4>
<p>Combien de degrs de libert du chercheur pourraient changer la conclusion ? Dfinitions diffrentes des critres de jugement, populations d'analyse ou mthodes statistiques.</p>
</div>
</div>
<div class="card animate delay-5" style="margin-top: 1rem; border-left: 4px solid var(--gold);">
<p class="card-text">
<strong>Rappel du Module 10 (la paroxtine) :</strong> La r-analyse avec des dfinitions de critres de jugement diffrentes a compltement invers la conclusion. C'tait de la fragilit analytiquel'IF n'a jamais t calcul car le critre de jugement lui-mme tait contest. Une valuation complte de la robustesse examine les trois dimensions.
                  </p>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">Quiz du Module 17</h2>
<div class="quiz-box animate delay-1">
<p class="quiz-question"><strong>Q1.</strong> Un essai comporte 200 patients par bras, 12 vnements dans le traitement, 25 dans le contrle (p=0,03). L'indice de fragilit est 3. Qu'est-ce que cela signifie ?</p>
<div class="quiz-options" id="m17-q1">
<div class="quiz-option" onclick="checkQuizAnswer('m17-q1', 0, 1, ['L\'indice de fragilit\u00e9 concerne la significativit\u00e9, pas la taille d\'effet.', 'Correct ! Changer seulement 3 \u00e9v\u00e9nements ferait basculer p de &lt;0.05 \u00e0 &gt;0.05. La conclusion est fragile.', 'Cela signifie fragile, pas robuste.', '3 patients ne sont pas le minimum pour l\'\u00e9tude\u2014c\'est le minimum pour faire basculer la significativit\u00e9.'])">
<span>A.</span> La taille d'effet est exactement 3
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m17-q1', 1, 1, ['L\'indice de fragilit\u00e9 concerne la significativit\u00e9, pas la taille d\'effet.', 'Correct ! Changer seulement 3 \u00e9v\u00e9nements ferait basculer p de &lt;0.05 \u00e0 &gt;0.05. La conclusion est fragile.', 'Cela signifie fragile, pas robuste.', '3 patients ne sont pas le minimum pour l\'\u00e9tude\u2014c\'est le minimum pour faire basculer la significativit\u00e9.'])">
<span>B.</span> Changer seulement 3 rsultats de patients feraient basculer le rsultat en non significatif
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m17-q1', 2, 1, ['L\'indice de fragilit\u00e9 concerne la significativit\u00e9, pas la taille d\'effet.', 'Correct ! Changer seulement 3 \u00e9v\u00e9nements ferait basculer p de &lt;0.05 \u00e0 &gt;0.05. La conclusion est fragile.', 'Cela signifie fragile, pas robuste.', '3 patients ne sont pas le minimum pour l\'\u00e9tude\u2014c\'est le minimum pour faire basculer la significativit\u00e9.'])">
<span>C.</span> Le rsultat est trs robuste avec 3 tudes de confirmation
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m17-q1', 3, 1, ['L\'indice de fragilit\u00e9 concerne la significativit\u00e9, pas la taille d\'effet.', 'Correct ! Changer seulement 3 \u00e9v\u00e9nements ferait basculer p de &lt;0.05 \u00e0 &gt;0.05. La conclusion est fragile.', 'Cela signifie fragile, pas robuste.', '3 patients ne sont pas le minimum pour l\'\u00e9tude\u2014c\'est le minimum pour faire basculer la significativit\u00e9.'])">
<span>D.</span> Au moins 3 patients sont ncessaires pour l'tude
                    </div>
</div>
<div id="m17-q1-feedback" style="display: none;"></div>
</div>
</div>
</div>
<!-- Cl&ocirc;ture -->
<div class="slide dark" data-index="12">
<div class="content" style="text-align: center;">
<p class="title gold animate">Module 17 Termin</p>
<div class="gold-line animate delay-1"></div>
<p class="animate delay-2 serif" style="font-size: 1.3rem; font-style: italic; max-width: 600px;">
                   Le nombre qui survit  chaque tentative de le briser est le nombre digne de confiance. 
                </p>
</div>
</div>
<div class="slide black" data-index="13">
<p class="refrain animate">Tout signal n'est pas vrit.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 18 : L'quit</p>
</div>
</div>
<!-- ============================================================
               MODULE 18 : L'&Eacute;QUIT&Eacute; (exclusions SPRINT / PROGRESS-Plus)
               ============================================================ -->
<div class="module-slides" data-module="18">
<div class="slide dark active" data-index="0">
<p class="refrain animate">La certitude doit tre mrite, pas prsume.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 18 : L'quit</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Module 18 : L'quit</h2>
<div class="learning-objectives animate delay-1">
<h4> Objectifs d'apprentissage</h4>
<ul>
<li>Identifier comment les critres d'exclusion des essais crent des lacunes dans les preuves</li>
<li>Appliquer le cadre PROGRESS-Plus pour valuer l'quit dans les preuves</li>
<li>Utiliser les directives de rapport PRISMA-Equity</li>
<li>Comprendre la transportabilit : quand les rsultats d'essais chouent en pratique</li>
<li>Concevoir des stratgies de recherche et de synthse sensibles  l'quit</li>
</ul>
</div>
</div>
</div>
<div class="slide dark" data-index="2">
<p class="title cream animate text-center">SPRINT a prouv qu'un contrle strict de la pression artrielle</p>
<p class="title gold animate delay-1 text-center">sauve des vies. Mais les vies de qui ?</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; max-width: 600px;">
                L'essai phare SPRINT excluait les patients diabtiques, ceux ayant eu un AVC antrieur et ceux en insuffisance cardiaque. Plus de 75 % des patients hypertendus amricains n'auraient pas t ligibles. Les preuves taient solides mais l'applicabilit tait restreinte.
              </p>
</div>
<!-- Diapositive A : La Majorit&eacute; Manquante -->
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">L'Essai Qui Excluait la Majorit de Ses Patients</h2>
<div class="card animate delay-1">
<p class="card-text">
                    SPRINT a inclus 9 361 patients et a prouv que le contrle intensif de la pression artrielle (cible &lt;120 mmHg) rduisait les vnements cardiaques de 25 % (HR 0,75, IC 95 % 0,640,89). Mais les critres d'inclusion racontaient une autre histoire.
                  </p>
</div>
<div class="card animate delay-2" style="margin-top: 1rem; background: rgba(197,48,48,0.08); border-left: 3px solid var(--red);">
<p class="card-text"><strong>Qui tait exclu :</strong></p>
<ul style="margin-top: 0.5rem; padding-left: 1.25rem; line-height: 1.8;">
<li><strong>Diabte</strong>  35 % des adultes amricains hypertendus</li>
<li><strong>AVC antrieur</strong>  8 % de la population hypertendue</li>
<li><strong>Insuffisance cardiaque symptomatique</strong>  6 % des adultes hypertendus</li>
<li><strong>Survie attendue &lt;3 ans</strong>  les patients les plus fragiles</li>
<li><strong>Rsidents en maison de retraite</strong>  exclus entirement</li>
<li><strong>DFG &lt;20 mL/min</strong>  insuffisance rnale avance</li>
</ul>
</div>
<p class="footnote animate delay-3" style="margin-top: 1rem; font-weight: 600;">
                  Rsultat : Plus de 75 % des adultes amricains hypertendus n'auraient PAS t ligibles.
                  Les preuves taient solides. Mais pour qui ?
                </p>
</div>
</div>
<!-- Diapositive B : La G&eacute;ographie des Preuves -->
<div class="slide dark" data-index="4">
<div class="content" style="max-width: 750px;">
<h2 class="title cream animate" style="text-align: center;">D'O Viennent les Preuves</h2>
<div class="gold-line animate delay-1"></div>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-top: 2rem;">
<div class="animate delay-2" style="background: rgba(212,175,55,0.1); padding: 1.25rem; border-radius: 8px; border: 1px solid rgba(212,175,55,0.3);">
<p style="font-size: 2rem; font-weight: 700; color: var(--gold);">78 %</p>
<p style="font-size: 0.95rem; margin-top: 0.5rem;">des participants aux mga-essais cardiovasculaires provenaient de pays  revenu lev (20002020).</p>
</div>
<div class="animate delay-3" style="background: rgba(212,175,55,0.1); padding: 1.25rem; border-radius: 8px; border: 1px solid rgba(212,175,55,0.3);">
<p style="font-size: 2rem; font-weight: 700; color: var(--gold);">6 %</p>
<p style="font-size: 0.95rem; margin-top: 0.5rem;">d'Afrique subsaharienne  l o les maladies cardiovasculaires progressent le plus rapidement.</p>
</div>
</div>
<div class="animate delay-4" style="margin-top: 1.5rem; background: rgba(255,255,255,0.05); padding: 1.25rem; border-radius: 8px;">
<p style="font-size: 1rem; line-height: 1.7;">
                    Essais polypill : 4 sur 5 ont t mens dans des populations avec un IMC moyen &lt;25.
                    L'IMC moyen aux tats-Unis est de 30. Le mtabolisme, les profils de comorbidits, l'accs aux soins
                    et la variation gntique diffrent selon les populations. <strong>L'efficacit dans une population ne garantit pas
                    l'efficacit dans une autre.</strong>
</p>
</div>
<p class="footnote animate delay-4" style="margin-top: 1rem; opacity: 0.7; font-size: 0.85rem;">
                  Rfrence : Essais multinationaux et le foss PROGRESS-Plus
                </p>
</div>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">Le Cadre PROGRESS-Plus</h2>
<div class="stats-grid animate delay-1">
<div class="stat-box"><div class="stat-value">P</div><div class="stat-label">Lieu de rsidence</div></div>
<div class="stat-box"><div class="stat-value">R</div><div class="stat-label">Race / ethnicit</div></div>
<div class="stat-box"><div class="stat-value">O</div><div class="stat-label">Profession</div></div>
<div class="stat-box"><div class="stat-value">G</div><div class="stat-label">Genre / sexe</div></div>
<div class="stat-box"><div class="stat-value">R</div><div class="stat-label">Religion</div></div>
<div class="stat-box"><div class="stat-value">E</div><div class="stat-label">ducation</div></div>
<div class="stat-box"><div class="stat-value">S</div><div class="stat-label">SSE (statut socio-conomique)</div></div>
<div class="stat-box"><div class="stat-value">S</div><div class="stat-label">Capital social</div></div>
</div>
<p class="footnote animate delay-2"><strong>Plus :</strong> ge, handicap, orientation sexuelle, autres groupes vulnrables.</p>
</div>
</div>
<div class="slide light" data-index="6" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">PRISMA-Equity &amp; Transportabilit</h2>
<div class="card animate delay-1">
<p class="card-text">
<strong>PRISMA-Actions</strong> tend PRISMA en exigeant le rapport de la manire dont l'quit a t prise en compte
                    dans la revue : caractristiques des populations, analyses en sous-groupes par dsavantage, et valuation
                    de l'applicabilit aux populations dfavorises.
                  </p>
</div>
<div class="card animate delay-2" style="margin-top:1rem;">
<p class="card-text">
<strong>Transportabilit</strong> : L'efficacit en essai ne correspond pas  l'efficacit en conditions relles.
                    Des mthodes existent pour repondrer les donnes d'essai afin de correspondre  la distribution de la population cible.
                  </p>
</div>
</div>
</div>
 Diapositive C : La Question de la Transportabilit 
<div class="slide light" data-index="7" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">De l'Essai au Monde Rel : La Transportabilit</h2>
<div class="card animate delay-1">
<p class="card-text">
<strong>Transportabilit</strong> = Les rsultats de la population X de l'essai peuvent-ils s'appliquer
                     la population cible Y ? Ce n'est pas une question philosophiqueil existe des mthodes formelles.
                  </p>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Pondration Inverse par la Probabilit de Participation (IPPW)</h4>
<p>Repondre les participants de l'essai pour qu'ils ressemblent  la population cible sur les covariables cls.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Indice de Gnralisabilit</h4>
<p>Quantifie la similarit entre l'chantillon de l'essai et la population cible sur les caractristiques observes.</p>
</div>
</div>
<div class="card animate delay-4" style="margin-top: 1rem; background: rgba(212,175,55,0.08); border-left: 3px solid var(--gold);">
<p class="card-text">
<strong>Stuart et coll. (2015, <em>Stat Med</em>) :</strong> Lorsque les rsultats de SPRINT ont t
                    repondrs pour correspondre  la population amricaine hypertendue, le bnfice estim tait attnu
                     HR 0,82 (vs 0,75 dans l'essai). Le traitement fonctionne toujours. Mais l'ampleur change
                    quand la population change.
                  </p>
</div>
</div>
</div>
<!-- Bo&icirc;te narrative -->
<div class="slide dark" data-index="8">
<div class="content" style="max-width: 700px;">
<div class="story-box animate">
<h3 style="color: var(--gold); margin-bottom: 1rem;">SPRINT et la Majorit Manquante</h3>
<p style="margin-bottom: 0.75rem;">
                    SPRINT un essai tait bien conu de 9 361 patients. Son rsultat (HR 0.75 pour le contrle intensif vs standard de la PA) a chang les recommandations mondiales. Mais des analyses ultrieures ont montr que le bnfice tait le plus fort dans le sous-groupe le plus similaire  la population de l'essaiet incertain pour les groupes exclus.
                  </p>
<p style="font-style: italic; opacity: 0.9;">
                    L'quit dans la synthse des preuves signifie demander non seulement  Est-ce que a marche ?  mais  Pour qui est-ce que a marche ? 
                  </p>
</div>
</div>
</div>
<!-- Diapositive D : Arbre de D&eacute;cision -->
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">Arbre de Dcision : valuation de l'quit de Votre Revue</h2>
<div class="decision-tree animate delay-1" style="font-size: 0.95rem; line-height: 1.7;">
<div class="card" style="background: var(--navy); color: var(--cream); padding: 1rem; border-radius: 8px;">
<p><strong>RACINE :</strong> Les preuves de votre revue proviennent-elles de populations similaires  votre cible ?</p>
</div>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
<div style="background: rgba(34,197,94,0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid var(--green);">
<p><strong>OUI</strong>  Bien. Mais vrifiez : Les sous-groupes (ge, sexe, ethnicit, SSE) sont-ils rapports sparment ?</p>
<ul style="margin-top: 0.5rem; padding-left: 1rem; font-size: 0.9rem;">
<li><strong>Oui :</strong> Utilisez les effets par sous-groupe pour des recommandations spcifiques  la population</li>
<li><strong>Non :</strong> Signalez comme limitation  lacune d'quit dans le rapport</li>
</ul>
</div>
<div style="background: rgba(197,48,48,0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid var(--red);">
<p><strong>NON</strong>  L'analyse PROGRESS-Plus rvle-t-elle des effets diffrentiels ?</p>
<ul style="margin-top: 0.5rem; padding-left: 1rem; font-size: 0.9rem;">
<li><strong>Oui :</strong> Des recommandations spcifiques  la population sont ncessaires. Envisagez une repondration de transportabilit.</li>
<li><strong>Non :</strong> Gnralisation prudente avec dclaration explicite d'quit dans la discussion</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<!-- Diapositive E : Rappel du Module 3 -->
<div class="slide dark" data-index="10" data-tier="mastery">
<span class="tier-badge mastery" style="position:absolute; top:1.5rem; right:1.5rem;">Mthodologiste</span>
<div class="content" style="max-width: 700px;">
<h2 class="title cream animate" style="text-align: center;">Le Rappel : La Leon du THS</h2>
<div class="gold-line animate delay-1"></div>
<div class="card animate delay-2" style="background: rgba(212,175,55,0.1); border: 1px solid rgba(212,175,55,0.3); margin-top: 1.5rem;">
<p class="card-text" style="color: var(--cream);">
                    Souvenez-vous du Module 3 ? L'histoire du THS montrait que le <strong>biais de l'utilisateur en bonne sant</strong> rendait un
                    traitement nocif apparemment bnfique. SPRINT peut avoir le problme inverse  l'effet  volontaire
                    en bonne sant  peut rendre un traitement efficace <em>plus</em> efficace qu'il ne le serait dans le monde rel.
                  </p>
</div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; margin-top: 1.5rem; font-style: italic; opacity: 0.9;">
                  Chaque mta-analyse devrait demander : Qui tait inclus ? Qui tait exclu ?
                  Et est-ce que cela compte ?
                </p>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">Quiz du Module 18</h2>
<div class="quiz-box animate delay-1">
<p class="quiz-question"><strong>Q1.</strong> Qu'est-ce que le cadre PROGRESS-Plus aide les rviseurs  valuer ?</p>
<div class="quiz-options" id="m18-q1">
<div class="quiz-option" onclick="checkQuizAnswer('m18-q1', 0, 1, ['PROGRESS-Plus concerne l\'\u00e9quit\u00e9, pas les m\u00e9thodes statistiques.', 'Correct ! PROGRESS-Plus incite les r\u00e9viseurs \u00e0 consid\u00e9rer si les preuves s\'appliquent \u00e0 travers les d\u00e9terminants sociaux de la sant\u00e9.', 'Les outils de risque de biais (RoB 2.0) g\u00e8rent la validit\u00e9 interne.', 'GRADE g\u00e8re la certitude des preuves.'])">
<span>A.</span> L'htrognit statistique
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m18-q1', 1, 1, ['PROGRESS-Plus concerne l\'\u00e9quit\u00e9, pas les m\u00e9thodes statistiques.', 'Correct ! PROGRESS-Plus incite les r\u00e9viseurs \u00e0 consid\u00e9rer si les preuves s\'appliquent \u00e0 travers les d\u00e9terminants sociaux de la sant\u00e9.', 'Les outils de risque de biais (RoB 2.0) g\u00e8rent la validit\u00e9 interne.', 'GRADE g\u00e8re la certitude des preuves.'])">
<span>B.</span> L'quit et l'applicabilit aux populations dfavorises
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m18-q1', 2, 1, ['PROGRESS-Plus concerne l\'\u00e9quit\u00e9, pas les m\u00e9thodes statistiques.', 'Correct ! PROGRESS-Plus incite les r\u00e9viseurs \u00e0 consid\u00e9rer si les preuves s\'appliquent \u00e0 travers les d\u00e9terminants sociaux de la sant\u00e9.', 'Les outils de risque de biais (RoB 2.0) g\u00e8rent la validit\u00e9 interne.', 'GRADE g\u00e8re la certitude des preuves.'])">
<span>C.</span> La validit interne des tudes incluses
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m18-q1', 3, 1, ['PROGRESS-Plus concerne l\'\u00e9quit\u00e9, pas les m\u00e9thodes statistiques.', 'Correct ! PROGRESS-Plus incite les r\u00e9viseurs \u00e0 consid\u00e9rer si les preuves s\'appliquent \u00e0 travers les d\u00e9terminants sociaux de la sant\u00e9.', 'Les outils de risque de biais (RoB 2.0) g\u00e8rent la validit\u00e9 interne.', 'GRADE g\u00e8re la certitude des preuves.'])">
<span>D.</span> La certitude globale des preuves
                    </div>
</div>
<div id="m18-q1-feedback" style="display: none;"></div>
</div>
</div>
</div>
<!-- Cl&ocirc;ture -->
<div class="slide dark" data-index="12">
<div class="content" style="text-align: center;">
<p class="title gold animate">Module 18 Termin</p>
<div class="gold-line animate delay-1"></div>
<p class="animate delay-2 serif" style="font-size: 1.3rem; font-style: italic; max-width: 600px;">
                   Les preuves qui excluent les vulnrables ne peuvent prtendre les servir. 
                </p>
</div>
</div>
<div class="slide black" data-index="13">
<p class="refrain animate">Tout signal n'est pas vrit.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 19 : La Machine</p>
</div>
</div>
<!-- ============================================================
               MODULE 19 : LA MACHINE (d&eacute;pistage Cochrane COVID)
               ============================================================ -->
<div class="module-slides" data-module="19">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Le nombre sans provenance n'est pas un nombre.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 19 : La Machine</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Module 19 : La Machine</h2>
<div class="learning-objectives animate delay-1">
<h4> Objectifs d'apprentissage</h4>
<ul>
<li>Dcrire comment l'IA/ML est utilise dans le criblage des revues systmatiques</li>
<li>Expliquer l'apprentissage actif et les flux de travail avec l'humain dans la boucle</li>
<li>valuer la validation de l'automatisation : rappel, conomies de charge de travail et risques</li>
<li>Reconnatre les limites et biais du criblage algorithmique</li>
<li>Appliquer des cadres pour l'utilisation responsable de l'IA dans la synthse des preuves</li>
</ul>
</div>
</div>
</div>
<div class="slide dark" data-index="2">
<p class="title cream animate text-center">Quand la COVID-19 a frapp,</p>
<p class="title gold animate delay-1 text-center">les articles arrivaient plus vite que les humains ne pouvaient lire.</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; max-width: 600px;">
                En 2021, plus de 300 000 articles sur la COVID existaient. Cochrane a utilis des classifieurs d'apprentissage automatique
                pour trier les tudes pour leurs revues rapidesrduisant la charge de criblage jusqu' 70 %
                tout en maintenant un rappel &gt;95 %.
              </p>
</div>
<!-- Le D&eacute;luge -->
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Le Dluge</h2>
<div class="card animate delay-1">
<p>En avril 2020, <strong>4 000 prpublications COVID apparaissaient chaque semaine</strong>.</p>
<p style="margin-top: 0.5rem;">PubMed indexait <strong>500 nouveaux articles COVID par jour</strong>.</p>
<p style="margin-top: 0.5rem;">La file d'attente de criblage de Cochrane atteignait <strong>10 000 titres non examins</strong>.</p>
</div>
<div class="investigation-box animate delay-2" style="margin-top: 1rem;">
<div class="investigation-header"><span class="icon"></span> Les Mathmatiques de l'Impossible</div>
<div class="investigation-content">
<p>Une paire de rviseurs examine environ 200 titres par jour.</p>
<p><strong> 500 nouveaux articles/jour, ils prenaient du retard  chaque heure.</strong></p>
<p style="margin-top: 0.5rem; font-style: italic;">La revue vivante mourait avant de pouvoir vivre.</p>
</div>
</div>
</div>
</div>
<!-- Les Premi&egrave;res Tentatives -->
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">Les Premires Tentatives</h2>
<p class="direct-address animate delay-1">L'ide n'tait pas nouvelle. Cohen et al. (2006, JAMIA) ont montr pour la premire fois que l'apprentissage automatique pouvait rduire la charge de criblage de 50 %avec moins de 5 % de perte de rappel.</p>
<div class="lesson-item animate delay-2">
<div class="lesson-icon"></div>
<div class="lesson-text"><strong>2006 :</strong> Cohen et al.  Classifieurs SVM pour les revues de classes mdicamenteuses. Preuve de concept.</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-icon"></div>
<div class="lesson-text"><strong>2016 :</strong> RobotReviewer (Marshall et al., JMLR)  ML pour l'valuation du risque de biais. Fiabilit inter-valuateurs comparable aux rviseurs humains.</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-icon"></div>
<div class="lesson-text"><strong>2021 :</strong> ASReview (van de Schoot et al., Nature Machine Intelligence)  Apprentissage actif simulant une rduction de 95 % de la charge de travail.</div>
</div>
<p class="animate delay-3" style="margin-top: 1rem; font-style: italic; color: var(--gold);">Mais la simulation n'est pas la ralit. La COVID allait tre le premier vrai test  grande chelle.</p>
</div>
</div>
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">L'IA dans les Revues Systmatiques</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Priorisation du criblage</h4>
<p>L'apprentissage actif classe les rfrences par pertinence. Les rviseurs examinent d'abord les plus probablement pertinentes.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Aide  l'extraction de donnes</h4>
<p>Le TAL extrait les lments PICO, les critres de jugement et les rsultats. Ncessite toujours une vrification humaine.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>valuation du risque de biais</h4>
<p>Les classifieurs ML prdisent les domaines RoB. Exprimentalle jugement humain reste le gold standard.</p>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="6" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">Valider l'Automatisation</h2>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value">Rappel</div>
<div class="stat-label">&gt;95 % requis. Manquer 1 tude peut changer les conclusions.</div>
</div>
<div class="stat-box">
<div class="stat-value">WSS@95%</div>
<div class="stat-label">Travail conomis par rapport  l'chantillonnage  95 % de rappel.</div>
</div>
<div class="stat-box">
<div class="stat-value">Arrt</div>
<div class="stat-label">Quand arrter le criblage ? Seuil de rfrences non pertinentes conscutives.</div>
</div>
</div>
<div class="card animate delay-2" style="margin-top:1rem;">
<p class="card-text">
<strong>La tension fondamentale :</strong> L'automatisation fait gagner du temps mais introduit une nouvelle source d'erreur.
                    Toujours rapporter l'outil, la version, les donnes d'entranement et les critres d'arrt.
                  </p>
</div>
</div>
</div>
<!-- Le Paradoxe de la Validation -->
<div class="slide dark" data-index="7">
<div class="content" style="max-width: 700px;">
<div class="investigation-box animate">
<div class="investigation-header"><span class="icon"></span> Le Paradoxe de la Validation</div>
<div class="investigation-content">
<p>Pour savoir si la machine a manqu une tude pertinente, <strong>il faut qu'un humain examine tout</strong>.</p>
<p style="margin-top: 0.5rem;">Mais si les humains examinent tout, <strong>pourquoi utiliser la machine ?</strong></p>
<p style="margin-top: 1rem;">La solution : la <strong>validation prospective sur chantillon rserv</strong>.</p>
<ul style="margin-top: 0.5rem;">
<li>chantillon alatoire de 10 % examin par l'humain et la machine</li>
<li>Comparer : la machine a-t-elle manqu ce que l'humain a trouv ?</li>
<li>Si le rappel tombe sous 95 %, rentraner et largir le criblage humain</li>
</ul>
<p style="margin-top: 1rem; font-style: italic;">Faire confiance, mais vrifier. La machine gagne son rleelle n'en hrite pas.</p>
</div>
</div>
</div>
</div>
<!-- Bo&icirc;te narrative -->
<div class="slide dark" data-index="8">
<div class="content" style="max-width: 700px;">
<div class="story-box animate">
<h3 style="color: var(--gold); margin-bottom: 1rem;">La Rponse COVID de Cochrane</h3>
<p style="margin-bottom: 0.75rem;">
                    Cochrane a construit le Registre d'tudes COVID-19 en utilisant des classifieurs d'apprentissage automatique entrans sur
                    des millions de rfrences. Le systme a atteint 99 % de sensibilit tout en rduisant le criblage manuel
                    de semaines  jours.
                  </p>
<p style="font-style: italic; opacity: 0.9;">
                    Mais la machine tait un outil, pas un remplacement. Chaque tude incluse tait encore vrifie par des rviseurs humains.
                    La leon : l'IA augmente le rviseur, elle ne le remplace pas.
                  </p>
</div>
</div>
</div>
<!-- L'&Eacute;tude Qui a Failli Ne Pas &Ecirc;tre Trouv&eacute;e -->
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">L'tude Qui a Failli Ne Pas tre Trouve</h2>
<div class="story-box animate delay-1">
<p>En juin 2020, l'essai RECOVERY a publi ses rsultats sur la dexamthasone<strong>le premier traitement prouv pour rduire la mortalit COVID</strong> (mortalit  28 jours : 22,9 % vs 25,7 %, RR 0,83).</p>
<p style="margin-top: 0.5rem;">La prpublication est apparue sur medRxiv avec un titre non standard. Des scnarios comme celui-ci se sont rpts tout au long de la pandmie : les classifieurs ML, entrans sur la terminologie existante, classaient bas les formulations inhabituelles.</p>
<p style="margin-top: 0.5rem;">Dans plusieurs revues vivantes, des rviseurs humains examinant les titres signals ont reconnu les noms de mdicaments cls et ont escalad des tudes que les classifieurs avaient dpriorises.</p>
<p style="margin-top: 1rem; font-weight: 600; color: var(--gold);">Sans ces humains, des dcouvertes thrapeutiques majeures auraient pu attendre des semaines avant d'entrer dans la revue vivante.</p>
<p style="margin-top: 0.5rem; font-style: italic;">La machine lit plus vite. L'humain lit plus profondment. Ni l'un ni l'autre ne suffit seul.</p>
</div>
</div>
</div>
<!-- Arbre de D&eacute;cision : Quand Utiliser l'IA ? -->
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Arbre de Dcision : Quand Utiliser l'IA ?</h2>
<div class="decision-tree animate delay-1">
<div class="decision-node" style="background: var(--navy); color: white; padding: 1rem; border-radius: 8px; text-align: center; margin-bottom: 1rem;">
                    Votre revue va cribler plus de 5 000 titres ?
                  </div>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
<div class="decision-option" style="background: rgba(34,197,94,0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #22c55e;">
<strong>Oui  Envisager le criblage assist par IA</strong>
<p style="margin-top: 0.5rem; font-size: 0.9rem;">Priorisation par apprentissage actif. Double criblage sur 10 % rserv alatoire. Arrt quand 3 lots conscutifs donnent 0 tude pertinente.</p>
<p style="margin-top: 0.5rem; font-size: 0.85rem; font-style: italic;">Rapporter : type de classifieur, donnes d'entranement, rappel sur l'chantillon rserv, rgle d'arrt.</p>
</div>
<div class="decision-option" style="background: rgba(239,68,68,0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #ef4444;">
<strong>Non  Le criblage manuel est faisable</strong>
<p style="margin-top: 0.5rem; font-size: 0.9rem;">Pour &lt;5 000 titres, le double criblage humain reste le gold standard. L'IA ajoute de la complexit sans bnfice proportionnel.</p>
</div>
</div>
<div class="decision-node animate delay-2" style="background: rgba(212,175,55,0.15); padding: 1rem; border-radius: 8px; margin-top: 1rem; border-left: 4px solid var(--gold);">
<strong>Est-ce une revue vivante ou rapide ?</strong>
<p style="margin-top: 0.5rem; font-size: 0.9rem;">Si oui  L'IA est particulirement prcieuse. Rentranement continu du classifieur sur les nouvelles preuves. Mais : <strong>ne laissez jamais la machine prendre la dcision finale d'inclusion.</strong></p>
</div>
</div>
</div>
</div>
<!-- Le Sch&eacute;ma Se R&eacute;p&egrave;te -->
<div class="slide light" data-index="11" data-tier="mastery">
<span class="tier-badge mastery">Mthodologiste</span>
<div class="content">
<h2 class="title navy animate">Le Schma Se Rpte</h2>
<p class="direct-address animate delay-1">Souvenez-vous du Module 6 ? Poldermans a fabriqu les donnes DECREASE qui ont guid les recommandations sur les bta-bloquants priopratoires pendant une dcennie.</p>
<div class="card animate delay-2">
<p>L'IA peut dsormais dtecter automatiquement les anomalies statistiques :</p>
<ul style="margin-top: 0.5rem;">
<li><strong>Test GRIM :</strong> Les moyennes rapportes sont-elles cohrentes avec des tailles d'chantillon entires ?</li>
<li><strong>SPRITE :</strong> Les statistiques rsumes rapportes peuvent-elles tre reconstruites  partir de donnes individuelles plausibles ?</li>
<li><strong>Statcheck :</strong> Les p-values rapportes correspondent-elles aux statistiques de test ?</li>
</ul>
<p style="margin-top: 1rem;">Ces outils ont trouv des anomalies dans <strong>des centaines d'articles publis</strong>plus rapidement que tout auditeur humain.</p>
<p style="margin-top: 0.5rem; font-style: italic; color: var(--gold);">Mais la machine signale. L'humain juge. La dcision de rtracter reste profondment humaine.</p>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="12">
<div class="content">
<h2 class="title navy animate">Quiz du Module 19</h2>
<div class="quiz-box animate delay-1">
<p class="quiz-question"><strong>Q1.</strong> Quel est le rappel minimum acceptable pour le criblage assist par IA dans les revues systmatiques ?</p>
<div class="quiz-options" id="m19-q1">
<div class="quiz-option" onclick="checkQuizAnswer('m19-q1', 0, 2, ['80 % signifie manquer 1 \u00e9tude pertinente sur 5\u2014trop.', '90 % risque encore de manquer des \u00e9tudes importantes.', 'Correct ! &gt;95 % de rappel est le seuil accept\u00e9 pour minimiser le risque de manquer des \u00e9tudes pertinentes.', 'Bien qu\'id\u00e9al, 100 % de rappel est pratiquement impossible avec tout syst\u00e8me automatis\u00e9.'])">
<span>A.</span> 80 %
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m19-q1', 1, 2, ['80 % signifie manquer 1 \u00e9tude pertinente sur 5\u2014trop.', '90 % risque encore de manquer des \u00e9tudes importantes.', 'Correct ! &gt;95 % de rappel est le seuil accept\u00e9 pour minimiser le risque de manquer des \u00e9tudes pertinentes.', 'Bien qu\'id\u00e9al, 100 % de rappel est pratiquement impossible avec tout syst\u00e8me automatis\u00e9.'])">
<span>B.</span> 90 %
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m19-q1', 2, 2, ['80 % signifie manquer 1 \u00e9tude pertinente sur 5\u2014trop.', '90 % risque encore de manquer des \u00e9tudes importantes.', 'Correct ! &gt;95 % de rappel est le seuil accept\u00e9 pour minimiser le risque de manquer des \u00e9tudes pertinentes.', 'Bien qu\'id\u00e9al, 100 % de rappel est pratiquement impossible avec tout syst\u00e8me automatis\u00e9.'])">
<span>C.</span> &gt;95 %
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m19-q1', 3, 2, ['80 % signifie manquer 1 \u00e9tude pertinente sur 5\u2014trop.', '90 % risque encore de manquer des \u00e9tudes importantes.', 'Correct ! &gt;95 % de rappel est le seuil accept\u00e9 pour minimiser le risque de manquer des \u00e9tudes pertinentes.', 'Bien qu\'id\u00e9al, 100 % de rappel est pratiquement impossible avec tout syst\u00e8me automatis\u00e9.'])">
<span>D.</span> 100 %
                    </div>
</div>
<div id="m19-q1-feedback" style="display: none;"></div>
</div>
</div>
</div>
<!-- Cl&ocirc;ture -->
<div class="slide dark" data-index="13">
<div class="content" style="text-align: center;">
<p class="title gold animate">Module 19 Termin</p>
<div class="gold-line animate delay-1"></div>
<p class="animate delay-2 serif" style="font-size: 1.3rem; font-style: italic; max-width: 600px;">
                   La machine lit plus vite. L'humain lit plus profondment. Ensemble, ils lisent la vrit. 
                </p>
</div>
</div>
<div class="slide black" data-index="14">
<p class="refrain animate">Tout signal n'est pas vrit.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 20 : Le Qualitatif</p>
</div>
</div>
<!-- ============================================================
               MODULE 20 : LE QUALITATIF (Bohren 2015 &mdash; soins de maternit&eacute;)
               ============================================================ -->
<div class="module-slides" data-module="20">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Les mthodes protgent les patients de notre assurance.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 20 : Le Qualitatif</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Module 20 : Le Qualitatif</h2>
<div class="learning-objectives animate delay-1">
<h4> Objectifs d'apprentissage</h4>
<ul>
<li>Expliquer pourquoi certaines questions ncessitent une synthse de preuves qualitatives</li>
<li>Dcrire la mta-ethnographie (Noblit &amp; Hare) et la synthse thmatique</li>
<li>Appliquer le cadre CERQual pour valuer la confiance dans les rsultats qualitatifs</li>
<li>Comprendre les approches de synthse  mthodes mixtes</li>
<li>Reconnatre quand les preuves qualitatives changent la pratique</li>
</ul>
</div>
</div>
</div>
<div class="slide dark" data-index="2">
<p class="title cream animate text-center">L'OMS a pos une question</p>
<p class="title gold animate delay-1 text-center"> laquelle aucun ECR ne pouvait rpondre.</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; max-width: 600px;">
                Pourquoi les femmes du monde entier subissent-elles irrespect et maltraitance pendant l'accouchement ?
                Bohren et al. (2015) ont synthtis 65 tudes qualitatives de 34 pays
                en un cadre de sept domaines de maltraitance.
              </p>
</div>
<!-- Diapositive A : Une Question Au-del&agrave; de la Randomisation -->
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Une Question Au-del de la Randomisation</h2>
<div class="card animate delay-1" style="background: rgba(197,48,48,0.06); border-left: 3px solid var(--red);">
<p class="card-text">
                    En 2014, l'OMS a convoqu un panel pour faire face  une crise mondiale : des femmes taient physiquement
                    maltraites, verbalement humilies et prives de soins pendant l'accouchement. Ce n'tait pas un vnement
                    rare  des rapports provenaient de <strong>34 pays</strong>.
                  </p>
</div>
<div class="card animate delay-2" style="margin-top: 1rem;">
<p class="card-text">
                    Ils devaient comprendre <strong>POURQUOI</strong>. Qu'est-ce qui motive l'irrespect et la maltraitance dans les soins de maternit ?
                  </p>
</div>
<div class="card animate delay-3" style="margin-top: 1rem; background: rgba(212,175,55,0.08); border-left: 3px solid var(--gold);">
<p class="card-text">
                    Aucun ECR ne pouvait y rpondre. On ne peut pas randomiser les femmes vers des soins abusifs versus respectueux.
                    On ne peut pas mettre les accompagnantes en aveugle. On ne peut pas mesurer la  dignit  sur une chelle de Likert.
                    <strong>Les preuves devaient tre qualitatives.</strong>
</p>
</div>
</div>
</div>
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">Mta-Ethnographie</h2>
<div class="card animate delay-1">
<p class="card-text">
                    Dveloppe par Noblit &amp; Hare (1988), la mta-ethnographie <strong>traduit</strong>
                    des concepts entre tudes plutt que d'agrger des nombres. Elle produit de nouveaux cadres interprtatifs
                    (construits de troisime ordre)  partir de donnes de premier ordre (citations des participants) et
                    de deuxime ordre (interprtations des auteurs).
                  </p>
</div>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">Rciproque</div>
<div class="stat-label">Les tudes se confirment mutuellement</div>
</div>
<div class="stat-box">
<div class="stat-value">Rfutationnelle</div>
<div class="stat-label">Les tudes se contredisent</div>
</div>
<div class="stat-box">
<div class="stat-value">Ligne<br/>d'argument</div>
<div class="stat-label">Les tudes construisent une nouvelle thorie</div>
</div>
</div>
</div>
</div>
<!-- Diapositive B : Les Sept Domaines de Bohren -->
<div class="slide dark" data-index="5">
<div class="content" style="max-width: 750px;">
<h2 class="title cream animate" style="text-align: center;">Ce Que Bohren a Trouv : Une Taxonomie de la Maltraitance</h2>
<div class="gold-line animate delay-1"></div>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; margin-top: 1.5rem;">
<div class="animate delay-2" style="background: rgba(197,48,48,0.15); padding: 0.75rem 1rem; border-radius: 6px;">
<strong style="color: var(--gold);">1. Violence physique</strong>
<p style="font-size: 0.9rem; margin-top: 0.25rem;">Frapper, pincer, gifler pendant le travail</p>
</div>
<div class="animate delay-2" style="background: rgba(197,48,48,0.15); padding: 0.75rem 1rem; border-radius: 6px;">
<strong style="color: var(--gold);">2. Violence sexuelle</strong>
<p style="font-size: 0.9rem; margin-top: 0.25rem;">Touchers inappropris, procdures non consenties</p>
</div>
<div class="animate delay-3" style="background: rgba(197,48,48,0.12); padding: 0.75rem 1rem; border-radius: 6px;">
<strong style="color: var(--gold);">3. Violence verbale</strong>
<p style="font-size: 0.9rem; margin-top: 0.25rem;">Cris, menaces, commentaires dgradants</p>
</div>
<div class="animate delay-3" style="background: rgba(197,48,48,0.12); padding: 0.75rem 1rem; border-radius: 6px;">
<strong style="color: var(--gold);">4. Stigmatisation &amp; discrimination</strong>
<p style="font-size: 0.9rem; margin-top: 0.25rem;">Bases sur le statut VIH, l'origine ethnique, l'ge, la pauvret</p>
</div>
<div class="animate delay-4" style="background: rgba(197,48,48,0.09); padding: 0.75rem 1rem; border-radius: 6px;">
<strong style="color: var(--gold);">5. Non-respect des normes professionnelles</strong>
<p style="font-size: 0.9rem; margin-top: 0.25rem;">Ngligence, absence de consentement clair</p>
</div>
<div class="animate delay-4" style="background: rgba(197,48,48,0.09); padding: 0.75rem 1rem; border-radius: 6px;">
<strong style="color: var(--gold);">6. Mauvaise relation soignant-soign</strong>
<p style="font-size: 0.9rem; margin-top: 0.25rem;">Communication dficiente, mpris</p>
</div>
</div>
<div class="animate delay-4" style="background: rgba(197,48,48,0.06); padding: 0.75rem 1rem; border-radius: 6px; margin-top: 0.75rem; text-align: center;">
<strong style="color: var(--gold);">7. Conditions du systme de sant</strong>
<p style="font-size: 0.9rem; margin-top: 0.25rem;">Surpeuplement, sous-effectif, manque de fournitures</p>
</div>
<p class="animate delay-4" style="font-size: 1rem; text-align: center; margin-top: 1.25rem; font-style: italic; opacity: 0.9;">
                  65 tudes. 34 pays. Les mmes schmas se rptaient  travers les langues, les cultures et les systmes de sant.
                  Ce n'tait pas de l'anecdote. C'tait des preuves synthtises.
                </p>
</div>
</div>
<div class="slide light" data-index="6" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">CERQual : Confiance dans les Preuves Qualitatives</h2>
<div class="card animate delay-1">
<p class="card-text">
                    CERQual value la confiance dans les rsultats de revues qualitatives  travers quatre composantes :
                  </p>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">1</div>
<div class="lesson-content"><h4>Limites mthodologiques</h4><p>Qualit des tudes contributrices.</p></div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">2</div>
<div class="lesson-content"><h4>Cohrence</h4><p>Dans quelle mesure les donnes soutiennent le rsultat.</p></div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">3</div>
<div class="lesson-content"><h4>Adquation</h4><p>Richesse des donnes (pas seulement le nombre d'tudes).</p></div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content"><h4>Pertinence</h4><p>Applicabilit au contexte de la question de la revue.</p></div>
</div>
</div>
</div>
<!-- Diapositive C : Quand les Preuves Qualitatives Changent la Pratique -->
<div class="slide light" data-index="7">
<div class="content">
<h2 class="title navy animate">Quand les Preuves Qualitatives Changent la Pratique</h2>
<div class="card animate delay-1">
<p class="card-text">
                    La synthse de Bohren a inform les <strong>Recommandations de l'OMS 2018 sur les soins intrapartum
                    pour une exprience positive de l'accouchement</strong>. Changements spcifiques fonds sur des preuves qualitatives :
                  </p>
</div>
<div class="stats-grid animate delay-2" style="margin-top: 1rem;">
<div class="stat-box" style="text-align: left; padding: 1rem;">
<div class="stat-value" style="font-size: 1.2rem;">Rec. 15</div>
<div class="stat-label">Accompagnement pendant le travail</div>
</div>
<div class="stat-box" style="text-align: left; padding: 1rem;">
<div class="stat-value" style="font-size: 1.2rem;">Rec. 1</div>
<div class="stat-label">Soins maternels respectueux</div>
</div>
<div class="stat-box" style="text-align: left; padding: 1rem;">
<div class="stat-value" style="font-size: 1.2rem;">Rec. 3</div>
<div class="stat-label">Communication efficace</div>
</div>
<div class="stat-box" style="text-align: left; padding: 1rem;">
<div class="stat-value" style="font-size: 1.2rem;">Rec. 12</div>
<div class="stat-label">Soutien motionnel</div>
</div>
</div>
<p class="footnote animate delay-3" style="margin-top: 1rem; font-weight: 600;">
                  Ces recommandations  fondes sur des preuves qualitatives  guident dsormais les soins maternels dans 194 tats membres de l'OMS. Aucune parcelle forestire n'aurait pu les produire. Aucune statistique I n'aurait pu les rvler.
                </p>
</div>
</div>
<!-- Bo&icirc;te narrative -->
<div class="slide dark" data-index="8">
<div class="content" style="max-width: 700px;">
<div class="story-box animate">
<h3 style="color: var(--gold); margin-bottom: 1rem;">Le Cadre de Maltraitance de Bohren</h3>
<p style="margin-bottom: 0.75rem;">
                    La synthse qualitative de 2015 a identifi sept domaines : violence physique, violence sexuelle,
                    violence verbale, stigmatisation et discrimination, non-respect des standards professionnels,
                    mauvais rapport soignant-soign, et conditions du systme de sant. Ce cadre a inform les
                    Recommandations de l'OMS sur les soins intrapartum (2018).
                  </p>
<p style="font-style: italic; opacity: 0.9;">
                    Aucune p-value ne pouvait capturer l'exprience d'tre frappe pendant le travail.
                    La synthse qualitative a donn voix  ce que les chiffres ne pouvaient pas exprimer.
                  </p>
</div>
</div>
</div>
<!-- Diapositive D : Arbre de D&eacute;cision -->
<div class="slide light" data-index="9">
<div class="content">
<h2 class="title navy animate">Arbre de Dcision : Quand la Synthse Qualitative Est-elle Approprie ?</h2>
<div class="decision-tree animate delay-1" style="font-size: 0.95rem; line-height: 1.7;">
<div class="card" style="background: var(--navy); color: var(--cream); padding: 1rem; border-radius: 8px;">
<p><strong>RACINE :</strong> Votre question de recherche porte-t-elle sur les expriences, perceptions, obstacles ou facilitateurs ?</p>
</div>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
<div style="background: rgba(34,197,94,0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid var(--green);">
<p><strong>OUI</strong>  Votre question porte-t-elle sur le COMMENT ou POURQUOI, et pas seulement le SI ?</p>
<ul style="margin-top: 0.5rem; padding-left: 1rem; font-size: 0.9rem;">
<li><strong>Oui :</strong> Synthse de preuves qualitatives (mta-ethnographie, synthse thmatique ou synthse de cadres)</li>
<li><strong>Non :</strong> Envisagez les mthodes mixtes : quantitatif pour l'effet + qualitatif pour le mcanisme</li>
</ul>
</div>
<div style="background: rgba(212,175,55,0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid var(--gold);">
<p><strong>NON</strong>  Votre question porte-t-elle sur l'efficacit ?</p>
<ul style="margin-top: 0.5rem; padding-left: 1rem; font-size: 0.9rem;">
<li><strong>Oui :</strong> Mta-analyse quantitative</li>
<li><strong>Mais :</strong> Compltez par une revue qualitative des obstacles  la mise en oeuvre (value par CERQual)</li>
</ul>
</div>
</div>
<div class="card animate delay-2" style="margin-top: 1rem; background: rgba(212,175,55,0.08); border-left: 3px solid var(--gold);">
<p class="card-text" style="font-style: italic;">
<strong>Point cl :</strong> Les revues systmatiques les plus solides rpondent AUX DEUX : Est-ce que a marche ? (quantitatif)
                      ET Pourquoi est-ce que a marche ou choue ? (qualitatif)
                    </p>
</div>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Quiz du Module 20</h2>
<div class="quiz-box animate delay-1">
<p class="quiz-question"><strong>Q1.</strong> Qu'est-ce qui distingue la mta-ethnographie de la mta-analyse quantitative ?</p>
<div class="quiz-options" id="m20-q1">
<div class="quiz-option" onclick="checkQuizAnswer('m20-q1', 0, 1, ['La m\u00e9ta-ethnographie peut inclure beaucoup plus d\'\u00e9tudes si n\u00e9cessaire.', 'Correct ! La m\u00e9ta-ethnographie traduit des th\u00e8mes conceptuels entre \u00e9tudes plut\u00f4t que de combiner des tailles d\'effet num\u00e9riques.', 'Les deux m\u00e9thodes n\u00e9cessitent des strat\u00e9gies de recherche syst\u00e9matiques.', 'Les deux sont des approches syst\u00e9matiques, mais elles synth\u00e9tisent diff\u00e9rents types de donn\u00e9es.'])">
<span>A.</span> Elle n'inclut que 35 tudes
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m20-q1', 1, 1, ['La m\u00e9ta-ethnographie peut inclure beaucoup plus d\'\u00e9tudes si n\u00e9cessaire.', 'Correct ! La m\u00e9ta-ethnographie traduit des th\u00e8mes conceptuels entre \u00e9tudes plut\u00f4t que de combiner des tailles d\'effet num\u00e9riques.', 'Les deux m\u00e9thodes n\u00e9cessitent des strat\u00e9gies de recherche syst\u00e9matiques.', 'Les deux sont des approches syst\u00e9matiques, mais elles synth\u00e9tisent diff\u00e9rents types de donn\u00e9es.'])">
<span>B.</span> Elle traduit des concepts entre tudes plutt que de combiner des nombres
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m20-q1', 2, 1, ['La m\u00e9ta-ethnographie peut inclure beaucoup plus d\'\u00e9tudes si n\u00e9cessaire.', 'Correct ! La m\u00e9ta-ethnographie traduit des th\u00e8mes conceptuels entre \u00e9tudes plut\u00f4t que de combiner des tailles d\'effet num\u00e9riques.', 'Les deux m\u00e9thodes n\u00e9cessitent des strat\u00e9gies de recherche syst\u00e9matiques.', 'Les deux sont des approches syst\u00e9matiques, mais elles synth\u00e9tisent diff\u00e9rents types de donn\u00e9es.'])">
<span>C.</span> Elle ne ncessite pas de recherche systmatique
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m20-q1', 3, 1, ['La m\u00e9ta-ethnographie peut inclure beaucoup plus d\'\u00e9tudes si n\u00e9cessaire.', 'Correct ! La m\u00e9ta-ethnographie traduit des th\u00e8mes conceptuels entre \u00e9tudes plut\u00f4t que de combiner des tailles d\'effet num\u00e9riques.', 'Les deux m\u00e9thodes n\u00e9cessitent des strat\u00e9gies de recherche syst\u00e9matiques.', 'Les deux sont des approches syst\u00e9matiques, mais elles synth\u00e9tisent diff\u00e9rents types de donn\u00e9es.'])">
<span>D.</span> Elle est moins rigoureuse que la synthse quantitative
                    </div>
</div>
<div id="m20-q1-feedback" style="display: none;"></div>
</div>
</div>
</div>
<!-- Cl&ocirc;ture -->
<div class="slide dark" data-index="11">
<div class="content" style="text-align: center;">
<p class="title gold animate">Module 20 Termin</p>
<div class="gold-line animate delay-1"></div>
<p class="animate delay-2 serif" style="font-size: 1.3rem; font-style: italic; max-width: 600px;">
                   Tout ce qui compte ne peut pas tre compt. Tout ce qui est compt ne compte pas. 
                </p>
</div>
</div>
<div class="slide black" data-index="12">
<p class="refrain animate">L'htrognit est un message, pas du bruit.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 21 : Le Multivari</p>
</div>
</div>
<!-- ============================================================
               MODULE 21 : LE MULTIVARI&Eacute; (r&eacute;sultats corr&eacute;l&eacute;s / RVE)
               ============================================================ -->
<div class="module-slides" data-module="21">
<div class="slide dark active" data-index="0">
<p class="refrain animate">L'htrognit est un message, pas du bruit.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 21 : Le Multivari</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Module 21 : Le Multivari</h2>
<div class="learning-objectives animate delay-1">
<h4> Objectifs d'apprentissage</h4>
<ul>
<li>Reconnatre quand les critres de jugement au sein d'une tude sont corrls</li>
<li>Expliquer les modles multivaris  effets alatoires</li>
<li>Appliquer l'estimation robuste de la variance (RVE) pour les tailles d'effet dpendantes</li>
<li>Comprendre les modles  trois niveaux pour les donnes embotes</li>
<li>Choisir entre les approches multivaries selon la structure des donnes</li>
</ul>
</div>
</div>
</div>
<div class="slide dark" data-index="2">
<p class="title cream animate text-center">Les essais cardiovasculaires rapportent</p>
<p class="title gold animate delay-1 text-center">mortalit, IDM, AVC et plus encore.</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; max-width: 600px;">
                Ces critres de jugement sont corrls au sein des patients. Un patient qui dcde ne peut pas avoir un critre IDM. La mta-analyse standard traite chaque critre dterminignorant la dpendance et supposant double les preuves.
              </p>
</div>
<!-- Diapositive A : L'Hypoth&egrave;se Que Personne Ne Remet en Question -->
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">L'Hypothse Que Personne Ne Remet en Question</h2>
<div class="card animate delay-1">
<p class="card-text">
                    Ouvrez n'importe quel manuel standard de mta-analyse. Les modles supposent que chaque tude contribue
                    <strong>une taille d'effet indpendante</strong>. Mais la ralit est diffrente.
                  </p>
</div>
<div class="card animate delay-2" style="margin-top: 1rem; background: rgba(197,48,48,0.06); border-left: 3px solid var(--red);">
<p class="card-text">
                    Un seul essai cardiovasculaire rapporte mortalit, infarctus du myocarde, AVC et
                    revascularisation. Une seule tude de psychothrapie rapporte dpression, anxit et qualit
                    de vie  3, 6 et 12 mois.
                  </p>
</div>
<div class="stats-grid animate delay-3" style="margin-top: 1rem;">
<div class="stat-box">
<div class="stat-value">30 essais</div>
<div class="stat-label"> 4 critres de jugement</div>
</div>
<div class="stat-box">
<div class="stat-value">= 120</div>
<div class="stat-label">tailles d'effet</div>
</div>
</div>
<div class="card animate delay-4" style="margin-top: 1rem;">
<p class="card-text">
                    La plupart des analystes : <strong>(a)</strong> traitent les 120 comme indpendants (gonflant la prcision
                    d'un facteur 4), ou <strong>(b)</strong> choisissent un critre et abandonnent les autres.
                    <strong>Les deux approches sont fausses.</strong>
</p>
</div>
</div>
</div>
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">Le Problme de la Dpendance</h2>
<div class="card animate delay-1">
<p class="card-text">
                    En mta-analyse standard par paires, chaque tude contribue <em>une</em> taille d'effet.
                    Mais de nombreuses tudes rapportent plusieurs critres, sous-groupes, points temporels ou brascrant
                    des tailles d'effet <strong>dpendantes</strong>. Ignorer cela gonfle la prcision et fausse l'infrence.
                  </p>
</div>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">RVE</div>
<div class="stat-label">Estimation Robuste de la Variance. Estimateur sandwich gre la corrlation inconnue.</div>
</div>
<div class="stat-box">
<div class="stat-value">3 niveaux</div>
<div class="stat-label">tude  Critre de jugement embot modlis explicitement.</div>
</div>
</div>
</div>
</div>
<div class="slide light" data-index="5" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">Estimation Robuste de la Variance</h2>
<div class="card animate delay-1">
<p class="card-text">
                    La RVE (Hedges, Tipton &amp; Johnson, 2010) utilise un estimateur de type <strong>sandwich</strong> qui
                    fournit des erreurs standard valides quelle que soit la vraie corrlation entre les effets dpendants.
                    Pas besoin de connatre ou d'estimer la corrlation intra-tude. Idal pour 20 tudes.
                  </p>
</div>
<div class="card animate delay-2" style="margin-top:1rem;">
<p class="card-text">
<strong>Correction pour petits chantillons :</strong> Tipton &amp; Pustejovsky (2015) ont dvelopp
                    des corrections pour petits chantillons (CR2) pour la RVE, utilisant les degrs de libert de Satterthwaite
                    quand le nombre de clusters est faible.
                  </p>
</div>
</div>
</div>
<!-- Diapositive B : Ce Que la D&eacute;pendance Fait &agrave; Vos IC -->
<div class="slide dark" data-index="6" data-tier="methods">
<span class="tier-badge methods" style="position:absolute; top:1.5rem; right:1.5rem;">Chercheur</span>
<div class="content" style="max-width: 700px;">
<h2 class="title cream animate" style="text-align: center;">Ce Que la Dpendance Fait  Vos Intervalles de Confiance</h2>
<div class="gold-line animate delay-1"></div>
<div class="animate delay-2" style="margin-top: 1.5rem; background: rgba(212,175,55,0.1); padding: 1.5rem; border-radius: 8px; border: 1px solid rgba(212,175,55,0.3);">
<p style="font-size: 1rem; margin-bottom: 0.75rem;">
                    Si 4 critres de jugement d'une mme tude ont une corrlation intra-tude  = 0,5 :
                  </p>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
<div style="background: rgba(197,48,48,0.2); padding: 1rem; border-radius: 6px; text-align: center;">
<p style="font-size: 0.85rem; opacity: 0.8;">Traits comme indpendants</p>
<p style="font-size: 1.5rem; font-weight: 700; color: var(--red); margin-top: 0.25rem;">Largeur IC = X</p>
</div>
<div style="background: rgba(34,197,94,0.2); padding: 1rem; border-radius: 6px; text-align: center;">
<p style="font-size: 0.85rem; opacity: 0.8;">En tenant compte de la dpendance</p>
<p style="font-size: 1.5rem; font-weight: 700; color: var(--green); margin-top: 0.25rem;">Largeur IC = 1,58X</p>
</div>
</div>
<p style="font-size: 1rem; margin-top: 1rem; text-align: center;">
                    Votre intervalle de confiance devrait tre <strong>58 % plus large</strong>. Chaque mta-analyse qui
                    a ignor cela a publi des rsultats faussement prcis.
                  </p>
</div>
<div class="card animate delay-3" style="margin-top: 1rem; background: rgba(212,175,55,0.08); border: 1px solid rgba(212,175,55,0.2);">
<p class="card-text" style="color: var(--cream);">
<strong>RVE</strong> (Hedges, Tipton &amp; Johnson, 2010) : Utilise un estimateur de variance
                     sandwich  qui produit des erreurs standard correctes <em>sans</em> avoir besoin de connatre
                    la corrlation exacte intra-tude.
                  </p>
</div>
</div>
</div>
<!-- Diapositive C : Mod&egrave;les &agrave; Trois Niveaux (d&eacute;taill&eacute;s) -->
<div class="slide light" data-index="7" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">Modles  Trois Niveaux : Rendre la Structure Explicite</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Niveau 1 : Variance d'chantillonnage</h4>
<p>Erreur de mesure au sein de chaque estimation de taille d'effet.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Niveau 2 : Variance intra-tude</h4>
<p>Les critres de jugement et points temporels varient au sein d'une mme tude.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Niveau 3 : Variance inter-tudes</h4>
<p>Les tudes diffrent entre elles par les populations, les contextes et les mthodes.</p>
</div>
</div>
<div class="card animate delay-4" style="margin-top: 1rem; background: rgba(212,175,55,0.08); border-left: 3px solid var(--gold);">
<p class="card-text">
<strong>Exemple :</strong> Dans une mta-analyse de psychothrapie pour la dpression (k=50 tudes,
                    180 tailles d'effet), <strong>35 %</strong> de la variance tait intra-tude (diffrents critres)
                    et <strong>65 %</strong> inter-tudes (diffrentes thrapies, populations). Cette dcomposition
                    rvle combien d'htrognit est <em>intra-</em> vs <em>inter-</em>tudes.
                  </p>
</div>
</div>
</div>
<div class="slide light" data-index="8" data-tier="mastery">
<span class="tier-badge mastery">Mthodologiste</span>
<div class="content">
<h2 class="title navy animate">Modles  Trois Niveaux : Cadre Formel</h2>
<div class="card animate delay-1">
<p class="card-text">
                    Quand les effets sont embots (ex. plusieurs critres au sein d'tudes, ou tudes au sein de groupes de recherche),
                    un <strong>modle  trois niveaux</strong> dcompose la variance en : (1) variance d'chantillonnage (niveau 1),
                    (2) variance intra-tude (niveau 2), et (3) variance inter-tudes (niveau 3).
                    Cela maintient une infrence correcte tout en empruntant de la force entre les niveaux.
                  </p>
</div>
</div>
</div>
<!-- Bo&icirc;te narrative -->
<div class="slide dark" data-index="9">
<div class="content" style="max-width: 700px;">
<div class="story-box animate">
<h3 style="color: var(--gold); margin-bottom: 1rem;">Le Dfi Cardiovasculaire</h3>
<p style="margin-bottom: 0.75rem;">
                    Une mta-analyse des statines pourrait inclure 30 essais, chacun rapportant mortalit, IDM,
                    AVC et revascularisation. Soit 120 tailles d'effet de 30 clusters.
                    Les traiter comme 120 estimations indpendantes gonfle la prcision d'un facteur li 
                    la corrlation intra-tude.
                  </p>
<p style="font-style: italic; opacity: 0.9;">
                    La RVE ou les modles multivaris grent cela correctementproduisant des intervalles de confiance plus larges et honntes.
                  </p>
</div>
</div>
</div>
<!-- Diapositive D : Arbre de D&eacute;cision -->
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Arbre de Dcision : Quelle Approche pour les Tailles d'Effet Dpendantes ?</h2>
<div class="decision-tree animate delay-1" style="font-size: 0.95rem; line-height: 1.7;">
<div class="card" style="background: var(--navy); color: var(--cream); padding: 1rem; border-radius: 8px;">
<p><strong>RACINE :</strong> Votre mta-analyse a-t-elle plusieurs effets par tude ?</p>
</div>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
<div style="background: rgba(34,197,94,0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid var(--green);">
<p><strong>OUI</strong>  Connaissez-vous (ou pouvez-vous estimer) les corrlations intra-tude ?</p>
<ul style="margin-top: 0.5rem; padding-left: 1rem; font-size: 0.9rem;">
<li><strong>Oui :</strong> Modle multivari  effets alatoires (le plus efficient)</li>
<li><strong>Non :</strong> RVE avec correction pour petits chantillons (robuste aux corrlations inconnues)</li>
</ul>
</div>
<div style="background: rgba(212,175,55,0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid var(--gold);">
<p><strong>NON</strong>  Modle univari standard  effets alatoires</p>
</div>
</div>
<div class="card animate delay-2" style="margin-top: 1rem;">
<p class="card-text"><strong>Sous-question :</strong> Vos effets multiples proviennent-ils de critres de jugement diffrents, de points temporels, ou de sous-groupes ?</p>
<ul style="margin-top: 0.5rem; padding-left: 1.25rem; line-height: 1.8; font-size: 0.9rem;">
<li><strong>Diffrents critres de jugement</strong>  Modle  trois niveaux ou RVE avec regroupement</li>
<li><strong>Diffrents points temporels</strong>  Rseau de points temporels avec corrlation temporelle</li>
<li><strong>Diffrents sous-groupes</strong>  Considrez si les sous-groupes sont significatifs ou doivent tre moyenns</li>
</ul>
</div>
</div>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="11">
<div class="content">
<h2 class="title navy animate">Quiz du Module 21</h2>
<div class="quiz-box animate delay-1">
<p class="quiz-question"><strong>Q1.</strong> Quel problme l'Estimation Robuste de la Variance (RVE) rsout-elle ?</p>
<div class="quiz-options" id="m21-q1">
<div class="quiz-option" onclick="checkQuizAnswer('m21-q1', 0, 1, ['Le biais de publication est trait\u00e9 par les funnel plots et les mod\u00e8les de s\u00e9lection.', 'Correct ! La RVE fournit des erreurs standard valides quand plusieurs tailles d\'effet de la m\u00eame \u00e9tude sont corr\u00e9l\u00e9es.', 'L\'h\u00e9t\u00e9rog\u00e9n\u00e9it\u00e9 est quantifi\u00e9e par I\u00b2 et tau\u00b2.', 'Les effets des petites \u00e9tudes utilisent des m\u00e9thodes bas\u00e9es sur la r\u00e9gression.'])">
<span>A.</span> Le biais de publication
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m21-q1', 1, 1, ['Le biais de publication est trait\u00e9 par les funnel plots et les mod\u00e8les de s\u00e9lection.', 'Correct ! La RVE fournit des erreurs standard valides quand plusieurs tailles d\'effet de la m\u00eame \u00e9tude sont corr\u00e9l\u00e9es.', 'L\'h\u00e9t\u00e9rog\u00e9n\u00e9it\u00e9 est quantifi\u00e9e par I\u00b2 et tau\u00b2.', 'Les effets des petites \u00e9tudes utilisent des m\u00e9thodes bas\u00e9es sur la r\u00e9gression.'])">
<span>B.</span> La dpendance entre plusieurs tailles d'effet de la mme tude
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m21-q1', 2, 1, ['Le biais de publication est trait\u00e9 par les funnel plots et les mod\u00e8les de s\u00e9lection.', 'Correct ! La RVE fournit des erreurs standard valides quand plusieurs tailles d\'effet de la m\u00eame \u00e9tude sont corr\u00e9l\u00e9es.', 'L\'h\u00e9t\u00e9rog\u00e9n\u00e9it\u00e9 est quantifi\u00e9e par I\u00b2 et tau\u00b2.', 'Les effets des petites \u00e9tudes utilisent des m\u00e9thodes bas\u00e9es sur la r\u00e9gression.'])">
<span>C.</span> L'htrognit inter-tudes
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m21-q1', 3, 1, ['Le biais de publication est trait\u00e9 par les funnel plots et les mod\u00e8les de s\u00e9lection.', 'Correct ! La RVE fournit des erreurs standard valides quand plusieurs tailles d\'effet de la m\u00eame \u00e9tude sont corr\u00e9l\u00e9es.', 'L\'h\u00e9t\u00e9rog\u00e9n\u00e9it\u00e9 est quantifi\u00e9e par I\u00b2 et tau\u00b2.', 'Les effets des petites \u00e9tudes utilisent des m\u00e9thodes bas\u00e9es sur la r\u00e9gression.'])">
<span>D.</span> Les effets des petites tudes
                    </div>
</div>
<div id="m21-q1-feedback" style="display: none;"></div>
</div>
</div>
</div>
<!-- Cl&ocirc;ture -->
<div class="slide dark" data-index="12">
<div class="content" style="text-align: center;">
<p class="title gold animate">Module 21 Termin</p>
<div class="gold-line animate delay-1"></div>
<p class="animate delay-2 serif" style="font-size: 1.3rem; font-style: italic; max-width: 600px;">
                   Quand les critres sont enchevtrs, prtendre qu'ils sont indpendants est un mensonge de commodit. 
                </p>
</div>
</div>
<div class="slide black" data-index="13">
<p class="refrain animate">Le nombre sans provenance n'est pas un nombre.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 22 : La Preuve</p>
</div>
</div>
<!-- ============================================================
               MODULE 22 : LA PREUVE (erreur Excel Reinhart-Rogoff)
               ============================================================ -->
<div class="module-slides" data-module="22">
<div class="slide dark active" data-index="0">
<p class="refrain animate">Le nombre sans provenance n'est pas un nombre.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 22 : La Preuve</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Module 22 : La Preuve</h2>
<div class="learning-objectives animate delay-1">
<h4> Objectifs d'apprentissage</h4>
<ul>
<li>Comprendre comment les erreurs de calcul se propagent dans les politiques publiques</li>
<li>Dfinir la reproductibilit et la distinguer de la rplicabilit</li>
<li>Appliquer le hachage de preuves et les nombres porteurs de preuve</li>
<li>Utiliser des listes de vrification de reproductibilit pour la mta-analyse</li>
<li>Reconnatre le rle du pr-enregistrement et des donnes ouvertes</li>
</ul>
</div>
</div>
</div>
<div class="slide dark" data-index="2">
<p class="title cream animate text-center">Un tudiant en master a ouvert un tableur</p>
<p class="title gold animate delay-1 text-center">et a dcouvert que l're d'austrit reposait sur une erreur.</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; max-width: 600px;">
                En 2010, Reinhart et Rogoff affirmaient que les pays avec un ratio dette/PIB &gt;90 %
                avaient une croissance ngative. Cela a influenc les politiques d'austrit  travers l'Europe.
                En 2013, Thomas Herndon a dcouvert une erreur Excel qui excluait 5 pays
                de la moyenne. Le rsultat corrig : une croissance positive modre, pas un effondrement.
              </p>
</div>
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Reproductibilit vs Rplicabilit</h2>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value">Reproductible</div>
<div class="stat-label">Mmes donnes + mme code = mme rsultat</div>
</div>
<div class="stat-box">
<div class="stat-value">Rplicable</div>
<div class="stat-label">Nouvelles donnes + mmes mthodes = rsultat cohrent</div>
</div>
</div>
<div class="card animate delay-2" style="margin-top: 1rem;">
<p class="card-text">
                    La reproductibilit est le <strong>standard minimum</strong>. Si d'autres ne peuvent pas reproduire votre
                    estimation poole  partir de vos donnes rapportes, l'analyse ne peut pas tre vrifie.
                    Les mta-analyses doivent partager : donnes extraites, scripts d'analyse, versions logicielles et graines alatoires.
                  </p>
</div>
</div>
</div>
<div class="slide light" data-index="4" data-tier="methods">
<span class="tier-badge methods">Chercheur</span>
<div class="content">
<h2 class="title navy animate">Nombres Porteurs de Preuve</h2>
<div class="card animate delay-1">
<p class="card-text">
                    Chaque nombre dans une mta-analyse devrait porter sa <strong>provenance</strong> :
                    d'o il vient, comment il a t transform, et quel code l'a produit.
                    Le <strong>hachage de preuves</strong> cre une empreinte cryptographique des entres
                    de sorte que tout changement (accidentel ou dlibr) soit dtectable.
                  </p>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">SHA</div>
<div class="lesson-content">
<h4>Hash d'entre</h4>
<p>Hash SHA-256 des donnes extraites. Si une cellule change, le hash change. Chane de provenance : donnes  code  rsultat  hash.</p>
</div>
</div>
</div>
</div>
<!-- Outil interactif -->
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">Interactif : Liste de Vrification de Reproductibilit</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1rem;">
                  Cochez chaque lment pour valuer la reproductibilit d'une mta-analyse. Quel est le score de votre revue ?
                </p>
<div class="animate delay-2" id="reproducibilityTool" style="background: rgba(30,39,97,0.05); border-radius: 8px; padding: 1rem;">
<div id="reproChecklist"></div>
<div id="reproScore" style="margin-top:1rem; padding:0.75rem; background:rgba(212,175,55,0.1); border-radius:6px;"></div>
</div>
</div>
</div>
<!-- Bo&icirc;te narrative -->
<div class="slide dark" data-index="6">
<div class="content" style="max-width: 700px;">
<div class="story-box animate">
<h3 style="color: var(--gold); margin-bottom: 1rem;">L'Erreur Excel Qui a Chang des conomies</h3>
<p style="margin-bottom: 0.75rem;">
                    L'article de Reinhart-Rogoff  Growth in a Time of Debt  a t cit dans des auditions au Congrs,
                    des rapports de la Commission europenne et des notes de politique du FMI. L'erreur Excel (les lignes 3034
                    taient exclues d'une formule AVERAGE) signifiait que cinq paysAustralie, Autriche,
                    Belgique, Canada et Danemarktaient simplement manquants.
                  </p>
<p style="font-style: italic; opacity: 0.9;">
                    La moyenne corrige est passe de 0.1 %  +2.2 %. Les politiques d'austrit ont affect des millions de personnes.
                    La reproductibilit n'est pas du perfectionnisme acadmiquec'est une protection contre la catastrophe.
                  </p>
</div>
</div>
</div>
<!-- Rappel -->
<div class="slide dark" data-index="7">
<div class="content" style="text-align: center;">
<p class="animate" style="font-size: 1.1rem; opacity: 0.7;">Vous souvenez-vous du Module 5 ?</p>
<p class="title gold animate delay-1">DECREASE  Travers le Prisme de la Reproductibilit</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="max-width: 600px; font-size: 1.05rem;">
                  Les essais DECREASE de Don Poldermans ont t rtracts pour donnes fabriques.
                  Si les nombres porteurs de preuve avaient existentres haches, chanes de provenance, calculs
                  vrifisla fabrication aurait t dtectable <em>avant</em> que les preuves
                  n'entrent dans les mta-analyses et ne changent les recommandations chirurgicales.
                </p>
</div>
</div>
<!-- Quiz -->
<div class="slide light" data-index="8">
<div class="content">
<h2 class="title navy animate">Quiz du Module 22</h2>
<div class="quiz-box animate delay-1">
<p class="quiz-question"><strong>Q1.</strong> Quelle tait l'erreur de Reinhart-Rogoff ?</p>
<div class="quiz-options" id="m22-q1">
<div class="quiz-option" onclick="checkQuizAnswer('m22-q1', 0, 1, ['La taille de l\'\u00e9chantillon \u00e9tait le jeu de donn\u00e9es complet des pays.', 'Correct ! Une formule Excel excluait 5 pays de la moyenne, faisant para\u00eetre la croissance des pays \u00e0 forte dette n\u00e9gative alors qu\'elle \u00e9tait en fait positive.', 'L\'analyse utilisait la bonne p\u00e9riode temporelle.', 'Un mauvais test statistique n\'\u00e9tait pas le probl\u00e8me principal\u2014c\'\u00e9tait l\'erreur de saisie de donn\u00e9es.'])">
<span>A.</span> Ils ont utilis un chantillon trop petit
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m22-q1', 1, 1, ['La taille de l\'\u00e9chantillon \u00e9tait le jeu de donn\u00e9es complet des pays.', 'Correct ! Une formule Excel excluait 5 pays de la moyenne, faisant para\u00eetre la croissance des pays \u00e0 forte dette n\u00e9gative alors qu\'elle \u00e9tait en fait positive.', 'L\'analyse utilisait la bonne p\u00e9riode temporelle.', 'Un mauvais test statistique n\'\u00e9tait pas le probl\u00e8me principal\u2014c\'\u00e9tait l\'erreur de saisie de donn\u00e9es.'])">
<span>B.</span> Une formule Excel excluait 5 pays, inversant la conclusion
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m22-q1', 2, 1, ['La taille de l\'\u00e9chantillon \u00e9tait le jeu de donn\u00e9es complet des pays.', 'Correct ! Une formule Excel excluait 5 pays de la moyenne, faisant para\u00eetre la croissance des pays \u00e0 forte dette n\u00e9gative alors qu\'elle \u00e9tait en fait positive.', 'L\'analyse utilisait la bonne p\u00e9riode temporelle.', 'Un mauvais test statistique n\'\u00e9tait pas le probl\u00e8me principal\u2014c\'\u00e9tait l\'erreur de saisie de donn\u00e9es.'])">
<span>C.</span> Ils ont tudi la mauvaise priode temporelle
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('m22-q1', 3, 1, ['La taille de l\'\u00e9chantillon \u00e9tait le jeu de donn\u00e9es complet des pays.', 'Correct ! Une formule Excel excluait 5 pays de la moyenne, faisant para\u00eetre la croissance des pays \u00e0 forte dette n\u00e9gative alors qu\'elle \u00e9tait en fait positive.', 'L\'analyse utilisait la bonne p\u00e9riode temporelle.', 'Un mauvais test statistique n\'\u00e9tait pas le probl\u00e8me principal\u2014c\'\u00e9tait l\'erreur de saisie de donn\u00e9es.'])">
<span>D.</span> Ils ont utilis le mauvais test statistique
                    </div>
</div>
<div id="m22-q1-feedback" style="display: none;"></div>
</div>
</div>
</div>
<!-- Cl&ocirc;ture -->
<div class="slide dark" data-index="9">
<div class="content" style="text-align: center;">
<p class="title gold animate">Module 22 Termin</p>
<div class="gold-line animate delay-1"></div>
<p class="animate delay-2 serif" style="font-size: 1.3rem; font-style: italic; max-width: 600px;">
                   Le nombre sans provenance n'est pas un nombre. L'analyse sans reproductibilit n'est pas une preuve. 
                </p>
</div>
</div>
<div class="slide black" data-index="10">
<p class="refrain animate">La certitude doit tre mrite, pas prsume.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 23 : Votre Premier Mta-Sprint</p>
</div>
</div>
 Module 23: Capstone - Votre premier mta-sprint 
<div class="module-slides" data-module="23">
<div class="slide dark active" data-index="0">
<p class="refrain animate">La certitude doit tre gagne et non assume.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 23 : Votre premier mta-sprint</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Module 23 : Votre premier mta-sprint</h2>
<div class="learning-objectives animate delay-1">
<h4> Learning Objectives</h4>
<ul>
<li>Comprendre le flux de travail d'examen systmatique de 40 jours</li>
<li>Mappez les sept principes en phases de pratique relle</li>
<li>Reconnatre les portes de la dfinition du fait (DoD) comme points de contrle de qualit</li>
<li>Comprenez pourquoi la structure empche les checs que vous avez tudis</li>
<li>Le diplm est prt  mener (pas seulement  comprendre) une mta-analyse</li>
</ul>
</div>
</div>
</div>
 Le voyage est termin 
<div class="slide dark" data-index="2">
<p class="title cream animate">Vous avez appris les histoires.</p>
<p class="title gold animate delay-1">Maintenant, vous devez parcourir le chemin.</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1.1rem; text-align: center; max-width: 600px;">
                Chaque inversion des preuves que vous avez tudies s'est produite parce que les quipes <em>savait</em> ont appliqu les mthodes mais ne l'ont pas fait <em>suivre</em> them systematically.
              </p>
</div>
 Le cadre META-SPRINT 
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Le cadre META-SPRINT</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1rem;">
                  Un flux de travail structur de 40 jours avec 5 portes de phase. Chaque porte est un point de contrle de dfinition du fait (DoD) qui vous empche d'avancer jusqu' ce que la qualit soit assure.
                </p>
<div class="stats-grid animate delay-2">
<div class="stat-box">
<div class="stat-value">40</div>
<div class="stat-label">Jours jusqu' la fin</div>
</div>
<div class="stat-box">
<div class="stat-value">5</div>
<div class="stat-label">Portes de phase DoD</div>
</div>
<div class="stat-box">
<div class="stat-value">Day 34</div>
<div class="stat-label">Hard Freeze</div>
</div>
</div>
<div class="card animate delay-3" style="margin-top: 1rem; background: rgba(212,175,55,0.1); border: 1px solid var(--gold);">
<p class="card-text" style="font-size: 0.9rem;">
<strong style="color: var(--gold);">Why 40 days?</strong> Assez long pour la rigueur, suffisamment court pour viter toute drive de la porte. Les signaux cardiaques de la rosiglitazone ont t enterrs pendant des annes parce qu'il n'y avait pas de date limite imposant la transparence.
                  </p>
</div>
</div>
</div>
 Les cinq portes 
<div class="slide light" data-index="4">
<div class="content">
<h2 class="title navy animate">Les cinq portes de phase</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background: #7C3AED;">A</div>
<div class="lesson-content">
<h4>DoD-A: verrouillage du protocole (jours 1-3)</h4>
<p>PICOS dfini, rgles de point temporel dfinies, choix de modles prdfinis. <em>Aucune cible mobile.</em></p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background: #2563EB;">B</div>
<div class="lesson-content">
<h4>DoD-B: verrouillage de recherche (jours 6  10)</h4>
<p>Toutes les bases de donnes ont t consultes, la littrature grise vrifie, valide par PRESS. <em>Non masqu tudes.</em></p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background: #D97706;">C</div>
<div class="lesson-content">
<h4>DoD-C: Verrouillage d'extraction (jours 10  28)</h4>
<p>Double extraction, lie  la provenance, RoB valu. <em>Aucun chiffre fabriqu.</em></p>
</div>
</div>
</div>
</div>
<!-- Gates continued -->
<div class="slide light" data-index="5">
<div class="content">
<h2 class="title navy animate">Les cinq portes de phase (suite)</h2>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background: #059669;">D</div>
<div class="lesson-content">
<h4>DoD-D : Analysis Lock (jours 21-33)</h4>
<p>Parcelles forestires gnres, analyses de sensibilit effectues, htrognit explore. <em>No cherry-picking.</em></p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background: #DC2626;">E</div>
<div class="lesson-content">
<h4>DoD-E: verrouillage des soumissions (jours 33-40)</h4>
<p>GRADE avec certitude, rsum clinique rdig, manuscrit finalis. <em>No overconfidence.</em></p>
</div>
</div>
<div class="card animate delay-3" style="margin-top: 1rem; background: rgba(220,38,38,0.1); border: 1px solid #DC2626;">
<p class="card-text" style="font-size: 0.9rem;">
<strong style="color: #DC2626;">Day 34 Freeze:</strong> Aucune nouvelle tude ne peut tre ajoute aprs le jour 34. Cela vite la  drive de la porte militaire  qui a tourment les mta-analyses BMP sur la chirurgie de la colonne vertbrale, o l'industrie a continu   trouver  des tudes favorables.
                  </p>
</div>
</div>
</div>
<!-- Seven Principles Mapped to Practice -->
<div class="slide light" data-index="6">
<div class="content">
<h2 class="title navy animate">Les sept principes en pratique</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1rem;">
                  Chaque principe que vous avez appris correspond  une porte de phase spcifique:
                </p>
<div class="animate delay-2" style="display: grid; gap: 0.5rem; font-size: 0.85rem;">
<div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; background: rgba(124,58,237,0.1); border-radius: 6px;">
<span style="color: #7C3AED; font-weight: 700; min-width: 40px;">DoD-A</span>
<span>"<em>Tous les signaux ne sont pas vridiques</em>"  Pr-prciser ce qui compte comme preuve</span>
</div>
<div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; background: rgba(37,99,235,0.1); border-radius: 6px;">
<span style="color: #2563EB; font-weight: 700; min-width: 40px;">DoD-B</span>
<span>"<em>Qu'est-ce qui tait cach  la vue de tous?</em>"  Search comprehensively</span>
</div>
<div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; background: rgba(217,119,6,0.1); border-radius: 6px;">
<span style="color: #D97706; font-weight: 700; min-width: 40px;">DoD-C</span>
<span>"<em>Le numro sans provenance n'est pas un numro</em>"  Reliez chaque point de donnes</span>
</div>
<div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; background: rgba(5,150,105,0.1); border-radius: 6px;">
<span style="color: #059669; font-weight: 700; min-width: 40px;">DoD-D</span>
<span>"<em>L'htrognit est un message, pas bruit</em>"  Enqutez, n'ignorez pas</span>
</div>
<div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; background: rgba(220,38,38,0.1); border-radius: 6px;">
<span style="color: #DC2626; font-weight: 700; min-width: 40px;">DoD-E</span>
<span>"<em>La certitude doit tre acquise, et non suppose</em>"  GRADE everything</span>
</div>
</div>
</div>
</div>
<!-- Red-Team Adversarial QA -->
<div class="slide dark" data-index="7">
<p class="title cream animate">Le principe de l'quipe rouge</p>
<p class="title gold animate delay-1">Votre propre quipe essaie d'interrompre votre travail.</p>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="font-size: 1rem; text-align: center; max-width: 650px;">
                Chaque jour, deux membres de l'quipe en rotation passent 12 minutes  vrifier la qualit des donnes en tant qu'adversaires. C'est ainsi que la fraude de Boldt a t dtecte, non pas par un examen amical, mais par une vrification sceptique qui a rvl des taux de recrutement impossibles.
              </p>
</div>
<!-- CondGO Emergency Protocol -->
<div class="slide light" data-index="8">
<div class="content">
<h2 class="title navy animate">CondGO: Quand les choses voluent Mauvais</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1rem;">
                  Que se passe-t-il lorsque vous dcouvrez un problme critique  mi-sprint?
                </p>
<div class="card animate delay-2" style="background: rgba(217,119,6,0.1); border: 1px solid #D97706;">
<h4 style="color: #D97706;">CondGO = Aller conditionnel</h4>
<p class="card-text" style="font-size: 0.9rem;">
                    Un protocole de sauvetage limit. Vous avez exactement <strong>72 heures</strong> pour rsoudre le problme en utilisant uniquement les actions autorises. Si vous ne parvenez pas  rsoudre le problme, vous devez arrter l'examen.
                  </p>
</div>
<div class="card animate delay-3" style="margin-top: 1rem;">
<p class="card-text" style="font-size: 0.85rem; font-style: italic;">
                     <strong>La leon Avandia :</strong> GSK a dtect des signaux cardiovasculaires en 2000, mais n'a impos aucun dlai. Ils ont  regard et attendu  pendant 7 ans. Des dizaines de milliers de personnes ont t blesses. CondGO existe parce que "nous finirons par nous en occuper" tue des gens.
                  </p>
</div>
</div>
</div>
<!-- Your Graduation -->
<div class="slide dark" data-index="9">
<p class="title cream animate">Vous avez commenc ce cours avec des histoires.</p>
<p class="title gold animate delay-1">Vous le terminez prt pour la pratique.</p>
<div class="gold-line animate delay-2"></div>
<div class="animate delay-3" style="text-align: center; max-width: 600px;">
<p style="font-size: 1rem; margin-bottom: 1rem;">
                  Le flux de travail META-SPRINT prend tout ce que vous avez appris et le structure dans un systme de 40 jours qui vite les checs. vous avez tudi.
                </p>
<p style="font-size: 0.9rem; opacity: 0.9;">
                  Lorsque vous tes prt  mener une vritable revue systmatique, ouvrez l'application META-SPRINT. Les histoires que vous avez apprises ici vous guideront et apparatront comme des rappels  chaque tape.
                </p>
</div>
</div>
<!-- Capstone Quiz -->
<div class="slide light" data-index="10">
<div class="content">
<h2 class="title navy animate">Module 23 Quiz</h2>
<div class="quiz-container">
<div class="quiz-question" id="q13-1">
<h4>1. Quel est le but du "hard freeze" du Jour 34 dans META-SPRINT ?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q13-1', 0, 1, ['Close but incomplete. The freeze also prevents weaponized scope creep.', 'Correct! The BMP spine surgery scandal showed how late-added studies can manipulate pooled estimates.', 'The freeze is about scope control, not speed.', 'Publication timing is separate from the methodological freeze.'])">A. Pour accorder du temps  l'examen par les pairs</div>
<div class="quiz-option" onclick="checkQuizAnswer('q13-1', 1, 1, ['Close but incomplete. The freeze also prevents weaponized scope creep.', 'Correct! The BMP spine surgery scandal showed how late-added studies can manipulate pooled estimates.', 'The freeze is about scope control, not speed.', 'Publication timing is separate from the methodological freeze.'])">B. Pour viter que des tudes ajoutes tardivement ne manipulent les rsultats</div>
<div class="quiz-option" onclick="checkQuizAnswer('q13-1', 2, 1, ['Close but incomplete. The freeze also prevents weaponized scope creep.', 'Correct! The BMP spine surgery scandal showed how late-added studies can manipulate pooled estimates.', 'The freeze is about scope control, not speed.', 'Publication timing is separate from the methodological freeze.'])">C. Pour acclrer la publication</div>
<div class="quiz-option" onclick="checkQuizAnswer('q13-1', 3, 1, ['Close but incomplete. The freeze also prevents weaponized scope creep.', 'Correct! The BMP spine surgery scandal showed how late-added studies can manipulate pooled estimates.', 'The freeze is about scope control, not speed.', 'Publication timing is separate from the methodological freeze.'])">D. Se coordonner avec les dlais du journal</div>
</div>
<div class="quiz-feedback" id="q13-1-feedback"></div>
</div>
<div class="quiz-question" id="q13-2" style="margin-top: 1.5rem;">
<h4>2. Le protocole CondGO donne aux quipes combien de temps pour rsoudre les problmes critiques?</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q13-2', 0, 2, ['Too short for meaningful fixes.', 'Still too short.', 'Correct! 72 hours forces urgent action without allowing indefinite delay (the Avandia failure mode).', 'Too longproblems would fester like they did at GSK.'])">A. 24 heures</div>
<div class="quiz-option" onclick="checkQuizAnswer('q13-2', 1, 2, ['Too short for meaningful fixes.', 'Still too short.', 'Correct! 72 hours forces urgent action without allowing indefinite delay (the Avandia failure mode).', 'Too longproblems would fester like they did at GSK.'])">B. 48 heures</div>
<div class="quiz-option" onclick="checkQuizAnswer('q13-2', 2, 2, ['Too short for meaningful fixes.', 'Still too short.', 'Correct! 72 hours forces urgent action without allowing indefinite delay (the Avandia failure mode).', 'Too longproblems would fester like they did at GSK.'])">C. 72 heures</div>
<div class="quiz-option" onclick="checkQuizAnswer('q13-2', 3, 2, ['Too short for meaningful fixes.', 'Still too short.', 'Correct! 72 hours forces urgent action without allowing indefinite delay (the Avandia failure mode).', 'Too longproblems would fester like they did at GSK.'])">D. 1 semaine</div>
</div>
<div class="quiz-feedback" id="q13-2-feedback"></div>
</div>
<div class="quiz-question" id="q13-3" style="margin-top: 1.5rem;">
<h4>3. Le contrle qualit contradictoire de l'quipe rouge a dtect la fraude de Joachim Boldt en remarquant:</h4>
<div class="quiz-options">
<div class="quiz-option" onclick="checkQuizAnswer('q13-3', 0, 0, ['Correct! Adversarial checking found patterns that friendly review missed for years.', 'Statistical tests came later.', 'The results looked consistentthat was part of the deception.', 'There were no whistleblowers initially.'])">A. Des taux de recrutement de patients impossibles</div>
<div class="quiz-option" onclick="checkQuizAnswer('q13-3', 1, 0, ['Correct! Adversarial checking found patterns that friendly review missed for years.', 'Statistical tests came later.', 'The results looked consistentthat was part of the deception.', 'There were no whistleblowers initially.'])">B. p-piratage dans les tests statistiques</div>
<div class="quiz-option" onclick="checkQuizAnswer('q13-3', 2, 0, ['Correct! Adversarial checking found patterns that friendly review missed for years.', 'Statistical tests came later.', 'The results looked consistentthat was part of the deception.', 'There were no whistleblowers initially.'])">C. Tailles d'effet incohrentes</div>
<div class="quiz-option" onclick="checkQuizAnswer('q13-3', 3, 0, ['Correct! Adversarial checking found patterns that friendly review missed for years.', 'Statistical tests came later.', 'The results looked consistentthat was part of the deception.', 'There were no whistleblowers initially.'])">D. Whistleblower testimony</div>
</div>
<div class="quiz-feedback" id="q13-3-feedback"></div>
</div>
</div>
</div>
</div>
<!-- Closing -->
<div class="slide black" data-index="11">
<div class="animate" style="text-align: center;">
<p class="refrain">Les histoires que vous avez apprises ne font pas partie de l'histoire.</p>
<p style="font-size: 1.2rem; margin-top: 1rem; color: var(--gold);">Ce sont des avertissements qui protgent votre travail futur.</p>
<div class="gold-line" style="margin: 1.5rem auto;"></div>
<p style="font-size: 1rem; margin-top: 1.5rem; opacity: 0.9;">
                  Lorsque vous effectuez votre premire mta-analyse,<br/>
                  rappelez-vous CAST avant de faire confiance  un signal,<br/>
                  souvenez-vous de Poldermans avant de sauter la provenance,<br/>
                  rappelez-vous Reboxetine avant d'ignorer l'entonnoir.
                </p>
<p style="font-size: 0.9rem; margin-top: 1.5rem; font-style: italic; opacity: 0.8;">
                  Vous tes maintenant prt. Optez pour la structure. Allez-y avec humilit. Suivez les Sept Principes.
                </p>
</div>
</div>
<div class="slide black" data-index="12">
<p class="refrain animate">Tous les signaux ne sont pas vrais.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Module 24 : Examen final</p>
</div>
</div>
<!-- Module 24: Final Exam (Summative Assessment) -->
<div class="module-slides" data-module="24">
<div class="slide dark active" data-index="0">
<p class="refrain animate">La certitude doit tre mrite, pas suppose.</p>
<p class="animate delay-1" style="font-size: 1.25rem; margin-top: 1.5rem;">Examen Final</p>
</div>
<div class="slide light" data-index="1">
<div class="content">
<h2 class="title navy animate">Examen Final : Partie 1 sur 2</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1.5rem;">
                  Testez votre matrise des principes de la mta-analyse. Chaque question aborde un concept cl du cours.
                </p>
<!-- Q1: PICO -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1.5rem;">
<p class="quiz-question"><strong>Q1.</strong> Un chercheur souhaite tudier  les effets de l'exercice sur la sant . Quel est le problme PRINCIPAL de cette question de recherche ?</p>
<div class="quiz-options" id="final-q1">
<div class="quiz-option" onclick="checkQuizAnswer('final-q1', 0, 2, ['Le plan d\u0027tude est important, mais une question mal formule peut utiliser n\u0027importe quel plan.', 'La taille de l\u0027chantillon concerne la prcision, pas la formulation de la question.', 'Correct ! Une question PICO doit spcifier la Population, l\u0027Intervention, le Comparateur et le Critre de jugement. Cette question manque de toute spcificit.', 'L\u0027approbation thique est procdurale, pas mthodologique.'])">
<span>A.</span> Elle manque de randomisation
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q1', 1, 2, ['Le plan d\u0027tude est important, mais une question mal formule peut utiliser n\u0027importe quel plan.', 'La taille de l\u0027chantillon concerne la prcision, pas la formulation de la question.', 'Correct ! Une question PICO doit spcifier la Population, l\u0027Intervention, le Comparateur et le Critre de jugement. Cette question manque de toute spcificit.', 'L\u0027approbation thique est procdurale, pas mthodologique.'])">
<span>B.</span> La taille de l'chantillon est trop petite
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q1', 2, 2, ['Le plan d\u0027tude est important, mais une question mal formule peut utiliser n\u0027importe quel plan.', 'La taille de l\u0027chantillon concerne la prcision, pas la formulation de la question.', 'Correct ! Une question PICO doit spcifier la Population, l\u0027Intervention, le Comparateur et le Critre de jugement. Cette question manque de toute spcificit.', 'L\u0027approbation thique est procdurale, pas mthodologique.'])">
<span>C.</span> Elle n'est pas formulable  elle manque d'lments PICO spcifiques
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q1', 3, 2, ['Le plan d\u0027tude est important, mais une question mal formule peut utiliser n\u0027importe quel plan.', 'La taille de l\u0027chantillon concerne la prcision, pas la formulation de la question.', 'Correct ! Une question PICO doit spcifier la Population, l\u0027Intervention, le Comparateur et le Critre de jugement. Cette question manque de toute spcificit.', 'L\u0027approbation thique est procdurale, pas mthodologique.'])">
<span>D.</span> Elle manque d'approbation thique
                    </div>
</div>
<div id="final-q1-feedback" style="display: none;"></div>
</div>
<!-- Q2: Biais de publication -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1.5rem;">
<p class="quiz-question"><strong>Q2.</strong> Un funnel plot montre une asymtrie prononce avec des tudes manquantes dans la rgion Infrieure gauche. Que cela suggre-t-il ?</p>
<div class="quiz-options" id="final-q2">
<div class="quiz-option" onclick="checkQuizAnswer('final-q2', 0, 1, ['Les effets importants favorisent diffrentes directions, pas une seule rgion.', 'Correct ! Les petites tudes avec des rsultats nuls ou ngatifs sont systmatiquement manquantes  un schma classique de biais de publication.', 'Les vrais effets montreraient une symtrie autour de l\u0027estimation combine.', 'L\u0027erreur alatoire causerait une dispersion symtrique, pas une asymtrie systmatique.'])">
<span>A.</span> Les grandes tudes ont des estimations plus prcises
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q2', 1, 1, ['Les effets importants favorisent diffrentes directions, pas une seule rgion.', 'Correct ! Les petites tudes avec des rsultats nuls ou ngatifs sont systmatiquement manquantes  un schma classique de biais de publication.', 'Les vrais effets montreraient une symtrie autour de l\u0027estimation combine.', 'L\u0027erreur alatoire causerait une dispersion symtrique, pas une asymtrie systmatique.'])">
<span>B.</span> Les petites tudes ngatives sont probablement non publies
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q2', 2, 1, ['Les effets importants favorisent diffrentes directions, pas une seule rgion.', 'Correct ! Les petites tudes avec des rsultats nuls ou ngatifs sont systmatiquement manquantes  un schma classique de biais de publication.', 'Les vrais effets montreraient une symtrie autour de l\u0027estimation combine.', 'L\u0027erreur alatoire causerait une dispersion symtrique, pas une asymtrie systmatique.'])">
<span>C.</span> Le vrai effet est plus fort que celui estim
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q2', 3, 1, ['Les effets importants favorisent diffrentes directions, pas une seule rgion.', 'Correct ! Les petites tudes avec des rsultats nuls ou ngatifs sont systmatiquement manquantes  un schma classique de biais de publication.', 'Les vrais effets montreraient une symtrie autour de l\u0027estimation combine.', 'L\u0027erreur alatoire causerait une dispersion symtrique, pas une asymtrie systmatique.'])">
<span>D.</span> Erreur d'chantillonnage alatoire
                    </div>
</div>
<div id="final-q2-feedback" style="display: none;"></div>
</div>
<!-- Q3: Heterogeneity -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1.5rem;">
<p class="quiz-question"><strong>Q3.</strong> Une mta-analyse rapporte I = 85 % et  = 0,42. Quelle est l'interprtation la PLUS approprie ?</p>
<div class="quiz-options" id="final-q3">
<div class="quiz-option" onclick="checkQuizAnswer('final-q3', 0, 2, ['85 % de chance serait une probabilit, pas une proportion de variance.', 'L\u0027ampleur de l\u0027effet est montre par l\u0027estimation combine, pas par I.', 'Correct ! Un I lev signifie que la majeure partie de la variabilit est une vraie htrognit. Explorez les sources avant de combiner.', 'La pertinence clinique dpend du critre de jugement, pas de I.'])">
<span>A.</span> Il y a 85 % de chances d'un vrai effet
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q3', 1, 2, ['85 % de chance serait une probabilit, pas une proportion de variance.', 'L\u0027ampleur de l\u0027effet est montre par l\u0027estimation combine, pas par I.', 'Correct ! Un I lev signifie que la majeure partie de la variabilit est une vraie htrognit. Explorez les sources avant de combiner.', 'La pertinence clinique dpend du critre de jugement, pas de I.'])">
<span>B.</span> La taille de l'effet est trs grande
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q3', 2, 2, ['85 % de chance serait une probabilit, pas une proportion de variance.', 'L\u0027ampleur de l\u0027effet est montre par l\u0027estimation combine, pas par I.', 'Correct ! Un I lev signifie que la majeure partie de la variabilit est une vraie htrognit. Explorez les sources avant de combiner.', 'La pertinence clinique dpend du critre de jugement, pas de I.'])">
<span>C.</span> Une variance inter-tudes substantielle existe ; investiguer les sources
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q3', 3, 2, ['85 % de chance serait une probabilit, pas une proportion de variance.', 'L\u0027ampleur de l\u0027effet est montre par l\u0027estimation combine, pas par I.', 'Correct ! Un I lev signifie que la majeure partie de la variabilit est une vraie htrognit. Explorez les sources avant de combiner.', 'La pertinence clinique dpend du critre de jugement, pas de I.'])">
<span>D.</span> Les rsultats sont cliniquement importants
                    </div>
</div>
<div id="final-q3-feedback" style="display: none;"></div>
</div>
<!-- Q4: GRADE -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1.5rem;">
<p class="quiz-question"><strong>Q4.</strong> Dans GRADE, quel est le niveau de certitude initial pour un corpus de preuves provenant d'essais contrls randomiss ?</p>
<div class="quiz-options" id="final-q4">
<div class="quiz-option" onclick="checkQuizAnswer('final-q4', 0, 0, ['Correct ! Les ECR commencent  une certitude LEVE, puis peuvent tre dgrads pour risque de biais, incohrence, caractre indirect, imprcision ou biais de publication.', 'Modr n\u0027est pas un point de dpart  il rsulte d\u0027une dgradation.', 'Faible est le point de dpart pour les tudes observationnelles.', 'Trs faible ncessite plusieurs dgradations.'])">
<span>A.</span> leve
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q4', 1, 0, ['Correct ! Les ECR commencent  une certitude LEVE, puis peuvent tre dgrads pour risque de biais, incohrence, caractre indirect, imprcision ou biais de publication.', 'Modr n\u0027est pas un point de dpart  il rsulte d\u0027une dgradation.', 'Faible est le point de dpart pour les tudes observationnelles.', 'Trs faible ncessite plusieurs dgradations.'])">
<span>B.</span> Modre
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q4', 2, 0, ['Correct ! Les ECR commencent  une certitude LEVE, puis peuvent tre dgrads pour risque de biais, incohrence, caractre indirect, imprcision ou biais de publication.', 'Modr n\u0027est pas un point de dpart  il rsulte d\u0027une dgradation.', 'Faible est le point de dpart pour les tudes observationnelles.', 'Trs faible ncessite plusieurs dgradations.'])">
<span>C.</span> Faible
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q4', 3, 0, ['Correct ! Les ECR commencent  une certitude LEVE, puis peuvent tre dgrads pour risque de biais, incohrence, caractre indirect, imprcision ou biais de publication.', 'Modr n\u0027est pas un point de dpart  il rsulte d\u0027une dgradation.', 'Faible est le point de dpart pour les tudes observationnelles.', 'Trs faible ncessite plusieurs dgradations.'])">
<span>D.</span> Trs faible
                    </div>
</div>
<div id="final-q4-feedback" style="display: none;"></div>
</div>
<!-- Q5: Risk of Bias -->
<div class="quiz-box animate delay-2">
<p class="quiz-question"><strong>Q5.</strong> Dans RoB 2.0, quel domaine value si les valuateurs des critres de jugement connaissaient l'allocation du traitement ?</p>
<div class="quiz-options" id="final-q5">
<div class="quiz-option" onclick="checkQuizAnswer('final-q5', 0, 3, ['La randomisation concerne la gnration de la squence d\u0027allocation.', 'Les dviations valuent l\u0027adhrence au protocole et la contamination.', 'Les donnes manquantes valuent l\u0027attrition et les exclusions.', 'Correct ! Le domaine 4 (Mesure du critre de jugement) inclut l\u0027aveugle des valuateurs.'])">
<span>A.</span> D1 : Processus de randomisation
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q5', 1, 3, ['La randomisation concerne la gnration de la squence d\u0027allocation.', 'Les dviations valuent l\u0027adhrence au protocole et la contamination.', 'Les donnes manquantes valuent l\u0027attrition et les exclusions.', 'Correct ! Le domaine 4 (Mesure du critre de jugement) inclut l\u0027aveugle des valuateurs.'])">
<span>B.</span> D2 : Dviations par rapport aux interventions prvues
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q5', 2, 3, ['La randomisation concerne la gnration de la squence d\u0027allocation.', 'Les dviations valuent l\u0027adhrence au protocole et la contamination.', 'Les donnes manquantes valuent l\u0027attrition et les exclusions.', 'Correct ! Le domaine 4 (Mesure du critre de jugement) inclut l\u0027aveugle des valuateurs.'])">
<span>C.</span> D3 : Donnes manquantes sur les critres de jugement
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q5', 3, 3, ['La randomisation concerne la gnration de la squence d\u0027allocation.', 'Les dviations valuent l\u0027adhrence au protocole et la contamination.', 'Les donnes manquantes valuent l\u0027attrition et les exclusions.', 'Correct ! Le domaine 4 (Mesure du critre de jugement) inclut l\u0027aveugle des valuateurs.'])">
<span>D.</span> D4 : Mesure du critre de jugement
                    </div>
</div>
<div id="final-q5-feedback" style="display: none;"></div>
</div>
</div>
</div>
<div class="slide light" data-index="2">
<div class="content">
<h2 class="title navy animate">Examen Final : Partie 2 sur 2</h2>
<!-- Q6: Evidence Reversal -->
<div class="quiz-box animate delay-1" style="margin-bottom: 1.5rem;">
<p class="quiz-question"><strong>Q6.</strong> L'essai CAST a montr que les antiarythmiques augmentaient la mortalit malgr la suppression des arythmies. Ceci est un exemple de :</p>
<div class="quiz-options" id="final-q6">
<div class="quiz-option" onclick="checkQuizAnswer('final-q6', 0, 1, ['L\u0027erreur alatoire ne montrerait pas un prjudice constant.', 'Correct ! La suppression des ESV (critre de substitution) n\u0027a pas prdit la mortalit (critre important pour le patient).', 'La confusion par indication implique des variables non mesures, mais CAST tait randomis.', 'L\u0027essai a t arrt prmaturment pour prjudice, indiquant une causalit claire.'])">
<span>A.</span> Erreur d'chantillonnage alatoire
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q6', 1, 1, ['L\u0027erreur alatoire ne montrerait pas un prjudice constant.', 'Correct ! La suppression des ESV (critre de substitution) n\u0027a pas prdit la mortalit (critre important pour le patient).', 'La confusion par indication implique des variables non mesures, mais CAST tait randomis.', 'L\u0027essai a t arrt prmaturment pour prjudice, indiquant une causalit claire.'])">
<span>B.</span> chec du critre de substitution
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q6', 2, 1, ['L\u0027erreur alatoire ne montrerait pas un prjudice constant.', 'Correct ! La suppression des ESV (critre de substitution) n\u0027a pas prdit la mortalit (critre important pour le patient).', 'La confusion par indication implique des variables non mesures, mais CAST tait randomis.', 'L\u0027essai a t arrt prmaturment pour prjudice, indiquant une causalit claire.'])">
<span>C.</span> Confusion par indication
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q6', 3, 1, ['L\u0027erreur alatoire ne montrerait pas un prjudice constant.', 'Correct ! La suppression des ESV (critre de substitution) n\u0027a pas prdit la mortalit (critre important pour le patient).', 'La confusion par indication implique des variables non mesures, mais CAST tait randomis.', 'L\u0027essai a t arrt prmaturment pour prjudice, indiquant une causalit claire.'])">
<span>D.</span> Causalit inverse
                    </div>
</div>
<div id="final-q6-feedback" style="display: none;"></div>
</div>
<!-- Q7: Fixed vs Random Effects -->
<div class="quiz-box animate delay-1" style="margin-bottom: 1.5rem;">
<p class="quiz-question"><strong>Q7.</strong> Quand doit-on prfrer un modle  effets alatoires plutt qu'un modle  effet fixe ?</p>
<div class="quiz-options" id="final-q7">
<div class="quiz-option" onclick="checkQuizAnswer('final-q7', 0, 2, ['La taille de l\u0027chantillon ne dtermine pas le choix du modle.', 'Le type de critre de jugement n\u0027est pas pertinent pour le choix du modle.', 'Correct ! Le modle  effets alatoires suppose que les vrais effets varient entre les tudes ;  utiliser quand l\u0027htrognit est attendue ou observe.', 'Le biais de publication est valu indpendamment du choix du modle.'])">
<span>A.</span> Quand les tailles d'chantillon sont grandes
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q7', 1, 2, ['La taille de l\u0027chantillon ne dtermine pas le choix du modle.', 'Le type de critre de jugement n\u0027est pas pertinent pour le choix du modle.', 'Correct ! Le modle  effets alatoires suppose que les vrais effets varient entre les tudes ;  utiliser quand l\u0027htrognit est attendue ou observe.', 'Le biais de publication est valu indpendamment du choix du modle.'])">
<span>B.</span> Quand les critres de jugement sont binaires
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q7', 2, 2, ['La taille de l\u0027chantillon ne dtermine pas le choix du modle.', 'Le type de critre de jugement n\u0027est pas pertinent pour le choix du modle.', 'Correct ! Le modle  effets alatoires suppose que les vrais effets varient entre les tudes ;  utiliser quand l\u0027htrognit est attendue ou observe.', 'Le biais de publication est valu indpendamment du choix du modle.'])">
<span>C.</span> Quand une htrognit inter-tudes est attendue
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q7', 3, 2, ['La taille de l\u0027chantillon ne dtermine pas le choix du modle.', 'Le type de critre de jugement n\u0027est pas pertinent pour le choix du modle.', 'Correct ! Le modle  effets alatoires suppose que les vrais effets varient entre les tudes ;  utiliser quand l\u0027htrognit est attendue ou observe.', 'Le biais de publication est valu indpendamment du choix du modle.'])">
<span>D.</span> Quand un biais de publication est suspect
                    </div>
</div>
<div id="final-q7-feedback" style="display: none;"></div>
</div>
<!-- Q8: ICEMAN -->
<div class="quiz-box animate delay-1" style="margin-bottom: 1.5rem;">
<p class="quiz-question"><strong>Q8.</strong> Selon les critres ICEMAN, qu'est-ce qui rend une analyse en sous-groupes PLUS crdible ?</p>
<div class="quiz-options" id="final-q8">
<div class="quiz-option" onclick="checkQuizAnswer('final-q8', 0, 0, ['Correct ! La pr-spcification empche la recherche de sous-groupes significatifs. Les sous-groupes post-hoc ne sont que gnrateurs d\u0027hypothses.', 'Au contraire  un petit nombre de sous-groupes est plus crdible.', 'Au contraire  une justification biologique renforce la crdibilit.', 'Des effets cohrents au sein des sous-groupes soutiendraient la combinaison.'])">
<span>A.</span> Hypothse spcifie a priori
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q8', 1, 0, ['Correct ! La pr-spcification empche la recherche de sous-groupes significatifs. Les sous-groupes post-hoc ne sont que gnrateurs d\u0027hypothses.', 'Au contraire  un petit nombre de sous-groupes est plus crdible.', 'Au contraire  une justification biologique renforce la crdibilit.', 'Des effets cohrents au sein des sous-groupes soutiendraient la combinaison.'])">
<span>B.</span> Grand nombre de sous-groupes tests
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q8', 2, 0, ['Correct ! La pr-spcification empche la recherche de sous-groupes significatifs. Les sous-groupes post-hoc ne sont que gnrateurs d\u0027hypothses.', 'Au contraire  un petit nombre de sous-groupes est plus crdible.', 'Au contraire  une justification biologique renforce la crdibilit.', 'Des effets cohrents au sein des sous-groupes soutiendraient la combinaison.'])">
<span>C.</span> Pas de justification biologique
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q8', 3, 0, ['Correct ! La pr-spcification empche la recherche de sous-groupes significatifs. Les sous-groupes post-hoc ne sont que gnrateurs d\u0027hypothses.', 'Au contraire  un petit nombre de sous-groupes est plus crdible.', 'Au contraire  une justification biologique renforce la crdibilit.', 'Des effets cohrents au sein des sous-groupes soutiendraient la combinaison.'])">
<span>D.</span> Effets incohrents entre les essais au sein du sous-groupe
                    </div>
</div>
<div id="final-q8-feedback" style="display: none;"></div>
</div>
<!-- Q9: Network Meta-Analysis -->
<div class="quiz-box animate delay-1" style="margin-bottom: 1.5rem;">
<p class="quiz-question"><strong>Q9.</strong> Quelle hypothse doit tre vrifie dans une mta-analyse en rseau pour assurer la validit des comparaisons indirectes ?</p>
<div class="quiz-options" id="final-q9">
<div class="quiz-option" onclick="checkQuizAnswer('final-q9', 0, 2, ['Des tailles d\u0027chantillon gales ne sont pas requises.', 'Les mmes critres de jugement sont ncessaires, mais la transitivit est l\u0027hypothse cl.', 'Correct ! La transitivit signifie que les comparaisons de traitements sont valides via des comparateurs communs  pas de diffrences systmatiques dans les modificateurs d\u0027effet entre les comparaisons.', 'L\u0027aveugle est au niveau de l\u0027tude, pas au niveau du rseau.'])">
<span>A.</span> Toutes les tudes ont des tailles d'chantillon gales
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q9', 1, 2, ['Des tailles d\u0027chantillon gales ne sont pas requises.', 'Les mmes critres de jugement sont ncessaires, mais la transitivit est l\u0027hypothse cl.', 'Correct ! La transitivit signifie que les comparaisons de traitements sont valides via des comparateurs communs  pas de diffrences systmatiques dans les modificateurs d\u0027effet entre les comparaisons.', 'L\u0027aveugle est au niveau de l\u0027tude, pas au niveau du rseau.'])">
<span>B.</span> Toutes les tudes mesurent le mme critre de jugement
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q9', 2, 2, ['Des tailles d\u0027chantillon gales ne sont pas requises.', 'Les mmes critres de jugement sont ncessaires, mais la transitivit est l\u0027hypothse cl.', 'Correct ! La transitivit signifie que les comparaisons de traitements sont valides via des comparateurs communs  pas de diffrences systmatiques dans les modificateurs d\u0027effet entre les comparaisons.', 'L\u0027aveugle est au niveau de l\u0027tude, pas au niveau du rseau.'])">
<span>C.</span> Transitivit (cohrence des modificateurs d'effet)
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q9', 3, 2, ['Des tailles d\u0027chantillon gales ne sont pas requises.', 'Les mmes critres de jugement sont ncessaires, mais la transitivit est l\u0027hypothse cl.', 'Correct ! La transitivit signifie que les comparaisons de traitements sont valides via des comparateurs communs  pas de diffrences systmatiques dans les modificateurs d\u0027effet entre les comparaisons.', 'L\u0027aveugle est au niveau de l\u0027tude, pas au niveau du rseau.'])">
<span>D.</span> Double aveugle dans tous les essais
                    </div>
</div>
<div id="final-q9-feedback" style="display: none;"></div>
</div>
<!-- Q10: TSA -->
<div class="quiz-box animate delay-1">
<p class="quiz-question"><strong>Q10.</strong> Dans l'analyse squentielle des essais (TSA), que signifie le franchissement de la frontire de futilit ?</p>
<div class="quiz-options" id="final-q10">
<div class="quiz-option" onclick="checkQuizAnswer('final-q10', 0, 1, ['La frontire de prjudice indique un risque accru d\u0027vnements indsirables.', 'Correct ! Franchir la futilit signifie que mme avec plus de donnes, l\u0027effet a peu de chances d\u0027atteindre la significativit clinique.', 'Au contraire  franchir la frontire de bnfice indique des preuves suffisantes d\u0027effet.', 'La puissance concerne la taille d\u0027chantillon requise, pas le franchissement de frontire.'])">
<span>A.</span> Le traitement cause un prjudice
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q10', 1, 1, ['La frontire de prjudice indique un risque accru d\u0027vnements indsirables.', 'Correct ! Franchir la futilit signifie que mme avec plus de donnes, l\u0027effet a peu de chances d\u0027atteindre la significativit clinique.', 'Au contraire  franchir la frontire de bnfice indique des preuves suffisantes d\u0027effet.', 'La puissance concerne la taille d\u0027chantillon requise, pas le franchissement de frontire.'])">
<span>B.</span> Des tudes supplmentaires ont peu de chances de montrer un effet significatif
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q10', 2, 1, ['La frontire de prjudice indique un risque accru d\u0027vnements indsirables.', 'Correct ! Franchir la futilit signifie que mme avec plus de donnes, l\u0027effet a peu de chances d\u0027atteindre la significativit clinique.', 'Au contraire  franchir la frontire de bnfice indique des preuves suffisantes d\u0027effet.', 'La puissance concerne la taille d\u0027chantillon requise, pas le franchissement de frontire.'])">
<span>C.</span> Les preuves sont concluantes en faveur d'un bnfice
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q10', 3, 1, ['La frontire de prjudice indique un risque accru d\u0027vnements indsirables.', 'Correct ! Franchir la futilit signifie que mme avec plus de donnes, l\u0027effet a peu de chances d\u0027atteindre la significativit clinique.', 'Au contraire  franchir la frontire de bnfice indique des preuves suffisantes d\u0027effet.', 'La puissance concerne la taille d\u0027chantillon requise, pas le franchissement de frontire.'])">
<span>D.</span> La mta-analyse manque de puissance
                    </div>
</div>
<div id="final-q10-feedback" style="display: none;"></div>
</div>
</div>
</div>
 Partie 2 : Questions du module avanc (Q11-Q20) 
<div class="slide light" data-index="3">
<div class="content">
<h2 class="title navy animate">Examen Final : Partie 2 sur 2 (Avanc)</h2>
<p class="animate delay-1" style="color: var(--light-text); margin-bottom: 1.5rem;">
                  Les questions 11  20 couvrent les Modules 1322 (Baysien, NMA, DPI, Dose-Rponse, Fragilit, quit, IA, Qualitatif, Multivari, Reproductibilit).
                </p>
<!-- Q11: Bayesian -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1rem;">
<p class="quiz-question"><strong>Q11.</strong> Dans une mta-analyse baysienne, que se passe-t-il lorsqu'on utilise un a priori vague avec de nombreuses tudes ?</p>
<div class="quiz-options" id="final-q11">
<div class="quiz-option" onclick="checkQuizAnswer('final-q11', 0, 0, ['Correct ! Avec suffisamment de donnes, mme un a priori vague produit des rsultats trs similaires au frquentiste. Les donnes dominent.', 'L\u0027a priori devient non pertinent  il ne devient pas le rsultat.', 'Plus d\u0027tudes rtrcissent la distribution a posteriori, pas l\u0027largissent.', 'Le modle converge toujours ; il ressemble simplement aux rsultats frquentistes.'])">
<span>A.</span> La distribution a posteriori correspond troitement au rsultat frquentiste
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q11', 1, 0, ['Correct ! Avec suffisamment de donnes, mme un a priori vague produit des rsultats trs similaires au frquentiste. Les donnes dominent.', 'L\u0027a priori devient non pertinent  il ne devient pas le rsultat.', 'Plus d\u0027tudes rtrcissent la distribution a posteriori, pas l\u0027largissent.', 'Le modle converge toujours ; il ressemble simplement aux rsultats frquentistes.'])">
<span>B.</span> L'a priori domine la distribution a posteriori
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q11', 2, 0, ['Correct ! Avec suffisamment de donnes, mme un a priori vague produit des rsultats trs similaires au frquentiste. Les donnes dominent.', 'L\u0027a priori devient non pertinent  il ne devient pas le rsultat.', 'Plus d\u0027tudes rtrcissent la distribution a posteriori, pas l\u0027largissent.', 'Le modle converge toujours ; il ressemble simplement aux rsultats frquentistes.'])">
<span>C.</span> L'intervalle de crdibilit devient infiniment large
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q11', 3, 0, ['Correct ! Avec suffisamment de donnes, mme un a priori vague produit des rsultats trs similaires au frquentiste. Les donnes dominent.', 'L\u0027a priori devient non pertinent  il ne devient pas le rsultat.', 'Plus d\u0027tudes rtrcissent la distribution a posteriori, pas l\u0027largissent.', 'Le modle converge toujours ; il ressemble simplement aux rsultats frquentistes.'])">
<span>D.</span> Le modle ne converge pas
                    </div>
</div>
<div id="final-q11-feedback" style="display: none;"></div>
</div>
<!-- Q12: NMA -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1rem;">
<p class="quiz-question"><strong>Q12.</strong> Dans la NMA des antidpresseurs de Cipriani, pourquoi aucun mdicament unique n'a-t-il t dclar  le gagnant  ?</p>
<div class="quiz-options" id="final-q12">
<div class="quiz-option" onclick="checkQuizAnswer('final-q12', 0, 1, ['La puissance statistique tait suffisante avec 522 essais.', 'Correct ! Diffrents mdicaments se classaient en tte sur diffrents critres (efficacit vs acceptabilit). La NMA rvle les compromis.', 'La NMA utilise bien les preuves directes et indirectes.', 'Les classements taient possibles  mais ils montraient diffrents mdicaments pour diffrents critres.'])">
<span>A.</span> Trop peu d'tudes
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q12', 1, 1, ['La puissance statistique tait suffisante avec 522 essais.', 'Correct ! Diffrents mdicaments se classaient en tte sur diffrents critres (efficacit vs acceptabilit). La NMA rvle les compromis.', 'La NMA utilise bien les preuves directes et indirectes.', 'Les classements taient possibles  mais ils montraient diffrents mdicaments pour diffrents critres.'])">
<span>B.</span> Diffrents mdicaments se classaient en tte sur diffrents critres
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q12', 2, 1, ['La puissance statistique tait suffisante avec 522 essais.', 'Correct ! Diffrents mdicaments se classaient en tte sur diffrents critres (efficacit vs acceptabilit). La NMA rvle les compromis.', 'La NMA utilise bien les preuves directes et indirectes.', 'Les classements taient possibles  mais ils montraient diffrents mdicaments pour diffrents critres.'])">
<span>C.</span> Aucune preuve indirecte n'tait disponible
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q12', 3, 1, ['La puissance statistique tait suffisante avec 522 essais.', 'Correct ! Diffrents mdicaments se classaient en tte sur diffrents critres (efficacit vs acceptabilit). La NMA rvle les compromis.', 'La NMA utilise bien les preuves directes et indirectes.', 'Les classements taient possibles  mais ils montraient diffrents mdicaments pour diffrents critres.'])">
<span>D.</span> Le SUCRA ne pouvait pas tre calcul
                    </div>
</div>
<div id="final-q12-feedback" style="display: none;"></div>
</div>
<!-- Q13: IPD -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1rem;">
<p class="quiz-question"><strong>Q13.</strong> Pourquoi ne devrait-on jamais combiner les DPI comme si elles provenaient d'un mga-essai unique ?</p>
<div class="quiz-options" id="final-q13">
<div class="quiz-option" onclick="checkQuizAnswer('final-q13', 0, 1, ['Les DPI concernent des donnes plus granulaires, pas moins d\u0027tudes.', 'Correct ! Ignorer le regroupement par tude peut introduire de la confusion (paradoxe de Simpson). Il faut toujours tenir compte de l\u0027tude comme variable de regroupement.', 'Les donnes de survie peuvent tre modlises dans une mta-analyse sur DPI.', 'Les critres binaires fonctionnent bien dans les modles DPI.'])">
<span>A.</span> Les DPI ont toujours moins d'tudes que les donnes agrges
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q13', 1, 1, ['Les DPI concernent des donnes plus granulaires, pas moins d\u0027tudes.', 'Correct ! Ignorer le regroupement par tude peut introduire de la confusion (paradoxe de Simpson). Il faut toujours tenir compte de l\u0027tude comme variable de regroupement.', 'Les donnes de survie peuvent tre modlises dans une mta-analyse sur DPI.', 'Les critres binaires fonctionnent bien dans les modles DPI.'])">
<span>B.</span> Cela ignore le regroupement par tude et introduit de la confusion
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q13', 2, 1, ['Les DPI concernent des donnes plus granulaires, pas moins d\u0027tudes.', 'Correct ! Ignorer le regroupement par tude peut introduire de la confusion (paradoxe de Simpson). Il faut toujours tenir compte de l\u0027tude comme variable de regroupement.', 'Les donnes de survie peuvent tre modlises dans une mta-analyse sur DPI.', 'Les critres binaires fonctionnent bien dans les modles DPI.'])">
<span>C.</span> Cela ne peut pas grer les donnes de survie
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q13', 3, 1, ['Les DPI concernent des donnes plus granulaires, pas moins d\u0027tudes.', 'Correct ! Ignorer le regroupement par tude peut introduire de la confusion (paradoxe de Simpson). Il faut toujours tenir compte de l\u0027tude comme variable de regroupement.', 'Les donnes de survie peuvent tre modlises dans une mta-analyse sur DPI.', 'Les critres binaires fonctionnent bien dans les modles DPI.'])">
<span>D.</span> Les critres binaires ne peuvent pas tre combins
                    </div>
</div>
<div id="final-q13-feedback" style="display: none;"></div>
</div>
<!-- Q14: Dose-response -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1rem;">
<p class="quiz-question"><strong>Q14.</strong> Qu'est-ce qui a fait disparatre la  courbe en J  de l'alcool dans la ranalyse de Stockwell ?</p>
<div class="quiz-options" id="final-q14">
<div class="quiz-option" onclick="checkQuizAnswer('final-q14', 0, 1, ['Les tudes taient les mmes  seule la classification du groupe de rfrence a chang.', 'Correct ! Les anciens buveurs (qui ont arrt pour cause de maladie) taient mal classs comme abstinents, rendant le groupe de rfrence apparemment moins en sant.', 'Une taille d\u0027chantillon plus grande seule ne change pas la forme de la courbe.', 'Les facteurs de confusion faisaient partie du problme, mais l\u0027essentiel tait la dfinition du groupe de rfrence.'])">
<span>A.</span> De nouvelles tudes ont t ajoutes ne montrant aucun bnfice
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q14', 1, 1, ['Les tudes taient les mmes  seule la classification du groupe de rfrence a chang.', 'Correct ! Les anciens buveurs (qui ont arrt pour cause de maladie) taient mal classs comme abstinents, rendant le groupe de rfrence apparemment moins en sant.', 'Une taille d\u0027chantillon plus grande seule ne change pas la forme de la courbe.', 'Les facteurs de confusion faisaient partie du problme, mais l\u0027essentiel tait la dfinition du groupe de rfrence.'])">
<span>B.</span> Les anciens buveurs ont t correctement retirs du groupe de rfrence abstinent
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q14', 2, 1, ['Les tudes taient les mmes  seule la classification du groupe de rfrence a chang.', 'Correct ! Les anciens buveurs (qui ont arrt pour cause de maladie) taient mal classs comme abstinents, rendant le groupe de rfrence apparemment moins en sant.', 'Une taille d\u0027chantillon plus grande seule ne change pas la forme de la courbe.', 'Les facteurs de confusion faisaient partie du problme, mais l\u0027essentiel tait la dfinition du groupe de rfrence.'])">
<span>C.</span> La taille de l'chantillon a t augmente
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q14', 3, 1, ['Les tudes taient les mmes  seule la classification du groupe de rfrence a chang.', 'Correct ! Les anciens buveurs (qui ont arrt pour cause de maladie) taient mal classs comme abstinents, rendant le groupe de rfrence apparemment moins en sant.', 'Une taille d\u0027chantillon plus grande seule ne change pas la forme de la courbe.', 'Les facteurs de confusion faisaient partie du problme, mais l\u0027essentiel tait la dfinition du groupe de rfrence.'])">
<span>D.</span> Un meilleur ajustement pour les facteurs de confusion
                    </div>
</div>
<div id="final-q14-feedback" style="display: none;"></div>
</div>
<!-- Q15: Fragility -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1rem;">
<p class="quiz-question"><strong>Q15.</strong> Dans la saga de l'oseltamivir, qu'a dcouvert Cochrane en accdant aux rapports d'tudes cliniques non publis ?</p>
<div class="quiz-options" id="final-q15">
<div class="quiz-option" onclick="checkQuizAnswer('final-q15', 0, 2, ['Le mdicament tait encore efficace pour rduire la dure des symptmes.', 'L\u0027analyse originale montrait dj des effets importants.', 'Correct ! La rduction revendique de 67 % des complications est tombe  11 % non significatif lorsque les donnes non publies ont t incluses.', 'Les effets secondaires taient une dcouverte spare.'])">
<span>A.</span> Le mdicament tait compltement inefficace
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q15', 1, 2, ['Le mdicament tait encore efficace pour rduire la dure des symptmes.', 'L\u0027analyse originale montrait dj des effets importants.', 'Correct ! La rduction revendique de 67 % des complications est tombe  11 % non significatif lorsque les donnes non publies ont t incluses.', 'Les effets secondaires taient une dcouverte spare.'])">
<span>B.</span> L'effet tait plus important que ce qui tait initialement pens
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q15', 2, 2, ['Le mdicament tait encore efficace pour rduire la dure des symptmes.', 'L\u0027analyse originale montrait dj des effets importants.', 'Correct ! La rduction revendique de 67 % des complications est tombe  11 % non significatif lorsque les donnes non publies ont t incluses.', 'Les effets secondaires taient une dcouverte spare.'])">
<span>C.</span> Le bnfice sur les complications a largement disparu
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q15', 3, 2, ['Le mdicament tait encore efficace pour rduire la dure des symptmes.', 'L\u0027analyse originale montrait dj des effets importants.', 'Correct ! La rduction revendique de 67 % des complications est tombe  11 % non significatif lorsque les donnes non publies ont t incluses.', 'Les effets secondaires taient une dcouverte spare.'])">
<span>D.</span> Les effets secondaires taient plus frquents que rapport
                    </div>
</div>
<div id="final-q15-feedback" style="display: none;"></div>
</div>
<!-- Q16: Equity -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1rem;">
<p class="quiz-question"><strong>Q16.</strong> Quel pourcentage de patients hypertendus amricains n'auraient PAS t ligibles pour l'essai SPRINT ?</p>
<div class="quiz-options" id="final-q16">
<div class="quiz-option" onclick="checkQuizAnswer('final-q16', 0, 2, ['Seulement 25 % exclus laisserait encore la plupart des patients reprsents.', 'La moiti exclue est une sous-estimation.', 'Correct ! Plus de 75 % des patients hypertendus amricains avaient des critres d\u0027exclusion (diabte, AVC antrieur, insuffisance cardiaque).', '100 % signifierait que personne ne se qualifiait  l\u0027essai a bien recrut 9 361 patients.'])">
<span>A.</span> Environ 25 %
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q16', 1, 2, ['Seulement 25 % exclus laisserait encore la plupart des patients reprsents.', 'La moiti exclue est une sous-estimation.', 'Correct ! Plus de 75 % des patients hypertendus amricains avaient des critres d\u0027exclusion (diabte, AVC antrieur, insuffisance cardiaque).', '100 % signifierait que personne ne se qualifiait  l\u0027essai a bien recrut 9 361 patients.'])">
<span>B.</span> Environ 50 %
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q16', 2, 2, ['Seulement 25 % exclus laisserait encore la plupart des patients reprsents.', 'La moiti exclue est une sous-estimation.', 'Correct ! Plus de 75 % des patients hypertendus amricains avaient des critres d\u0027exclusion (diabte, AVC antrieur, insuffisance cardiaque).', '100 % signifierait que personne ne se qualifiait  l\u0027essai a bien recrut 9 361 patients.'])">
<span>C.</span> Plus de 75 %
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q16', 3, 2, ['Seulement 25 % exclus laisserait encore la plupart des patients reprsents.', 'La moiti exclue est une sous-estimation.', 'Correct ! Plus de 75 % des patients hypertendus amricains avaient des critres d\u0027exclusion (diabte, AVC antrieur, insuffisance cardiaque).', '100 % signifierait que personne ne se qualifiait  l\u0027essai a bien recrut 9 361 patients.'])">
<span>D.</span> Presque 100 %
                    </div>
</div>
<div id="final-q16-feedback" style="display: none;"></div>
</div>
<!-- Q17: AI -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1rem;">
<p class="quiz-question"><strong>Q17.</strong> Pourquoi l'IA est-elle considre comme un  augmentateur  plutt qu'un  remplaant  dans les revues systmatiques ?</p>
<div class="quiz-options" id="final-q17">
<div class="quiz-option" onclick="checkQuizAnswer('final-q17', 0, 2, ['L\u0027IA est plus rapide que les humains pour le criblage, pas plus lente.', 'L\u0027IA atteint un rappel lev mais ncessite une vrification humaine pour les dcisions d\u0027inclusion.', 'Correct ! L\u0027IA atteint un rappel lev mais ne peut pas porter de jugements contextuels sur la pertinence, la qualit et l\u0027applicabilit comme les humains.', 'Le cot n\u0027est pas la raison principale  la prcision et le jugement le sont.'])">
<span>A.</span> L'IA est plus lente que les valuateurs humains
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q17', 1, 2, ['L\u0027IA est plus rapide que les humains pour le criblage, pas plus lente.', 'L\u0027IA atteint un rappel lev mais ncessite une vrification humaine pour les dcisions d\u0027inclusion.', 'Correct ! L\u0027IA atteint un rappel lev mais ne peut pas porter de jugements contextuels sur la pertinence, la qualit et l\u0027applicabilit comme les humains.', 'Le cot n\u0027est pas la raison principale  la prcision et le jugement le sont.'])">
<span>B.</span> L'IA a un rappel parfait
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q17', 2, 2, ['L\u0027IA est plus rapide que les humains pour le criblage, pas plus lente.', 'L\u0027IA atteint un rappel lev mais ncessite une vrification humaine pour les dcisions d\u0027inclusion.', 'Correct ! L\u0027IA atteint un rappel lev mais ne peut pas porter de jugements contextuels sur la pertinence, la qualit et l\u0027applicabilit comme les humains.', 'Le cot n\u0027est pas la raison principale  la prcision et le jugement le sont.'])">
<span>C.</span> L'IA crible rapidement mais ne peut pas porter de jugements contextuels au niveau humain
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q17', 3, 2, ['L\u0027IA est plus rapide que les humains pour le criblage, pas plus lente.', 'L\u0027IA atteint un rappel lev mais ncessite une vrification humaine pour les dcisions d\u0027inclusion.', 'Correct ! L\u0027IA atteint un rappel lev mais ne peut pas porter de jugements contextuels sur la pertinence, la qualit et l\u0027applicabilit comme les humains.', 'Le cot n\u0027est pas la raison principale  la prcision et le jugement le sont.'])">
<span>D.</span> L'IA est trop coteuse pour la plupart des revues
                    </div>
</div>
<div id="final-q17-feedback" style="display: none;"></div>
</div>
<!-- Q18: Qualitative -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1rem;">
<p class="quiz-question"><strong>Q18.</strong> Que value la composante  adquation  de CERQual ?</p>
<div class="quiz-options" id="final-q18">
<div class="quiz-option" onclick="checkQuizAnswer('final-q18', 0, 1, ['Le nombre d\u0027tudes en fait partie, mais l\u0027adquation concerne la richesse des donnes, pas seulement le nombre.', 'Correct ! L\u0027adquation value la richesse et la quantit des donnes soutenant la conclusion de la revue, pas seulement le nombre d\u0027tudes.', 'La cohrence est value sous la composante de cohrence.', 'La gnralisabilit est plus proche de la composante de pertinence.'])">
<span>A.</span> Le nombre d'tudes uniquement
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q18', 1, 1, ['Le nombre d\u0027tudes en fait partie, mais l\u0027adquation concerne la richesse des donnes, pas seulement le nombre.', 'Correct ! L\u0027adquation value la richesse et la quantit des donnes soutenant la conclusion de la revue, pas seulement le nombre d\u0027tudes.', 'La cohrence est value sous la composante de cohrence.', 'La gnralisabilit est plus proche de la composante de pertinence.'])">
<span>B.</span> La richesse et la quantit des donnes soutenant la conclusion
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q18', 2, 1, ['Le nombre d\u0027tudes en fait partie, mais l\u0027adquation concerne la richesse des donnes, pas seulement le nombre.', 'Correct ! L\u0027adquation value la richesse et la quantit des donnes soutenant la conclusion de la revue, pas seulement le nombre d\u0027tudes.', 'La cohrence est value sous la composante de cohrence.', 'La gnralisabilit est plus proche de la composante de pertinence.'])">
<span>C.</span> La cohrence des rsultats entre les tudes
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q18', 3, 1, ['Le nombre d\u0027tudes en fait partie, mais l\u0027adquation concerne la richesse des donnes, pas seulement le nombre.', 'Correct ! L\u0027adquation value la richesse et la quantit des donnes soutenant la conclusion de la revue, pas seulement le nombre d\u0027tudes.', 'La cohrence est value sous la composante de cohrence.', 'La gnralisabilit est plus proche de la composante de pertinence.'])">
<span>D.</span> La gnralisabilit  d'autres populations
                    </div>
</div>
<div id="final-q18-feedback" style="display: none;"></div>
</div>
<!-- Q19: Multivariate -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1rem;">
<p class="quiz-question"><strong>Q19.</strong> Une mta-analyse inclut 30 essais de statines, chacun rapportant 4 critres corrls (120 tailles d'effet). Quelle approche est correcte ?</p>
<div class="quiz-options" id="final-q19">
<div class="quiz-option" onclick="checkQuizAnswer('final-q19', 0, 1, ['Traiter 120 effets dpendants comme indpendants gonfle la prcision.', 'Correct ! La RVE avec correction pour petits chantillons gre les tailles d\u0027effet dpendantes sans connatre la vraie corrlation intra-tude.', 'Choisir un seul critre gaspille des donnes et peut ne pas rpondre  la question cl.', 'Moyenner au sein des tudes perd l\u0027information sur les effets spcifiques  chaque critre.'])">
<span>A.</span> Traiter les 120 comme des tailles d'effet indpendantes
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q19', 1, 1, ['Traiter 120 effets dpendants comme indpendants gonfle la prcision.', 'Correct ! La RVE avec correction pour petits chantillons gre les tailles d\u0027effet dpendantes sans connatre la vraie corrlation intra-tude.', 'Choisir un seul critre gaspille des donnes et peut ne pas rpondre  la question cl.', 'Moyenner au sein des tudes perd l\u0027information sur les effets spcifiques  chaque critre.'])">
<span>B.</span> Utiliser la RVE avec correction pour petits chantillons
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q19', 2, 1, ['Traiter 120 effets dpendants comme indpendants gonfle la prcision.', 'Correct ! La RVE avec correction pour petits chantillons gre les tailles d\u0027effet dpendantes sans connatre la vraie corrlation intra-tude.', 'Choisir un seul critre gaspille des donnes et peut ne pas rpondre  la question cl.', 'Moyenner au sein des tudes perd l\u0027information sur les effets spcifiques  chaque critre.'])">
<span>C.</span> Choisir un seul critre par tude
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q19', 3, 1, ['Traiter 120 effets dpendants comme indpendants gonfle la prcision.', 'Correct ! La RVE avec correction pour petits chantillons gre les tailles d\u0027effet dpendantes sans connatre la vraie corrlation intra-tude.', 'Choisir un seul critre gaspille des donnes et peut ne pas rpondre  la question cl.', 'Moyenner au sein des tudes perd l\u0027information sur les effets spcifiques  chaque critre.'])">
<span>D.</span> Moyenner les 4 critres au sein de chaque tude
                    </div>
</div>
<div id="final-q19-feedback" style="display: none;"></div>
</div>
<!-- Q20: Reproducibility -->
<div class="quiz-box animate delay-2" style="margin-bottom: 1rem;">
<p class="quiz-question"><strong>Q20.</strong> Dans l'erreur de Reinhart-Rogoff, quel tait le taux de croissance moyen corrig pour les pays  dette leve ?</p>
<div class="quiz-options" id="final-q20">
<div class="quiz-option" onclick="checkQuizAnswer('final-q20', 0, 1, ['C\u0027tait la valeur INCORRECTE provenant du tableur erron.', 'Correct ! Aprs avoir inclus les 5 pays manquants, la croissance moyenne est passe de -0,1 %  +2,2 %.', '0 % signifierait aucune croissance du tout.', '5 % serait inhabituellement lev pour des pays  dette leve.'])">
<span>A.</span> 0,1 % (identique  ce qui tait affirm)
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q20', 1, 1, ['C\u0027tait la valeur INCORRECTE provenant du tableur erron.', 'Correct ! Aprs avoir inclus les 5 pays manquants, la croissance moyenne est passe de -0,1 %  +2,2 %.', '0 % signifierait aucune croissance du tout.', '5 % serait inhabituellement lev pour des pays  dette leve.'])">
<span>B.</span> +2,2 %
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q20', 2, 1, ['C\u0027tait la valeur INCORRECTE provenant du tableur erron.', 'Correct ! Aprs avoir inclus les 5 pays manquants, la croissance moyenne est passe de -0,1 %  +2,2 %.', '0 % signifierait aucune croissance du tout.', '5 % serait inhabituellement lev pour des pays  dette leve.'])">
<span>C.</span> 0 %
                    </div>
<div class="quiz-option" onclick="checkQuizAnswer('final-q20', 3, 1, ['C\u0027tait la valeur INCORRECTE provenant du tableur erron.', 'Correct ! Aprs avoir inclus les 5 pays manquants, la croissance moyenne est passe de -0,1 %  +2,2 %.', '0 % signifierait aucune croissance du tout.', '5 % serait inhabituellement lev pour des pays  dette leve.'])">
<span>D.</span> +5 %
                    </div>
</div>
<div id="final-q20-feedback" style="display: none;"></div>
</div>
<div class="animate delay-2" style="margin-top: 2rem; padding: 1.5rem; background: rgba(212,175,55,0.1); border-radius: 8px; border-left: 4px solid var(--gold);">
<p style="font-weight: 600; color: var(--navy);">Note de passage : 15/20 sur les deux parties</p>
<p style="margin-top: 0.5rem; color: var(--light-text);">
                    Rvisez les questions manques en retournant au module correspondant. Chaque question teste un concept fondamental.
                  </p>
</div>
</div>
</div>
<div class="slide black" data-index="4">
<div class="animate" style="text-align: center;">
<p class="refrain">Tout signal n'est pas vrit.</p>
<p style="font-size: 1.1rem; margin-top: 1rem;">Les mthodes protgent les patients de notre assurance.</p>
<div class="gold-line" style="margin: 1.5rem auto;"></div>
<p style="font-size: 1.5rem; color: var(--gold); margin-top: 1.5rem;">
                  Flicitations
                </p>
<p style="font-size: 1.1rem; margin-top: 1rem;">
                  Vous avez termin Renversement des Preuves : Un Cours de Mta-Analyse.
                </p>
<p style="font-size: 1rem; margin-top: 1rem; opacity: 0.9;">
                  Que votre synthse soit guide par la vrit, votre combinaison par la sagesse,<br/>
                  et vos conclusions par l'humilit.
                </p>
<div style="margin-top: 2rem; font-size: 0.9rem; opacity: 0.8;">
<p style="margin-bottom: 0.5rem;"><strong>Les Sept Principes :</strong></p>
<p> Tout signal n'est pas vrit. </p>
<p> Les mthodes protgent les patients de notre assurance. </p>
<p> Qu'est-ce qui tait cach en pleine vue ? </p>
<p> Le nombre sans provenance n'est pas un nombre. </p>
<p> L'htrognit est un message, pas du bruit. </p>
<p> L'absence de preuve n'est pas preuve d'absence. </p>
<p> La certitude doit tre mrite, pas suppose. </p>
</div>
<p style="font-size: 0.9rem; margin-top: 2rem; font-style: italic; opacity: 0.7;">
                   Guide-nous vers le Droit Chemin... 
                </p>
</div>
</div>
</div>
<!-- Slide Navigation - minimal floating arrows -->
<nav class="slide-nav" id="slideNav">
<button class="nav-btn" id="prevBtn" onclick="prevSlide()" title="Previous ()"></button>
<div class="nav-center">
<div class="progress" id="progress"></div>
<span class="slide-counter" id="counter">1 / 10</span>
</div>
<button class="nav-btn" id="nextBtn" onclick="nextSlide()" title="Next ()"></button>
</nav>
</div>
<!-- Tools Panel -->
<aside class="tools-panel" id="toolsPanel">
<div class="tools-header">
<h3>Interactive Tools</h3>
<button class="btn" onclick="toggleToolsPanel()" style="padding: 0.25rem 0.5rem;"></button>
</div>
<div class="tools-content">
 Panneau de donnes d'histoire en direct 
<div class="story-data-panel" id="storyDataPanel">
<h4><span style="font-size: 1.1rem;"></span> Donnes d'histoire en direct</h4>
<div id="storyDataContent">
<div class="no-story-data">
                  Accdez  un module pour voir ses donnes de preuves avec une comparaison interactive avant/aprs.
                </div>
</div>
</div>
<!-- Effect Size Calculator -->
<div class="tool-section">
<div class="tool-section-header" onclick="toggleSection(this)">
                Taille de l'effet Calculatrice <span></span>
</div>
<div class="tool-section-body">
<div class="form-group">
<label>Effect Type</label>
<select id="effectType">
<option value="OR">Rapport de cotes (OR)</option>
<option value="RR">Rapport de risque (RR)</option>
<option value="RD">Diffrence de risque (DR)</option>
<option value="SMD">Diffrence moyenne standardise</option>
<option value="MD">Mean Difference</option>
</select>
</div>
<div id="binaryInputs">
<div class="form-group">
<label>Traitement: vnements/total</label>
<div style="display: flex; gap: 0.5rem;">
<input id="eventsTx" placeholder="Events" style="flex:1" type="number"/>
<input id="nTx" placeholder="Total" style="flex:1" type="number"/>
</div>
</div>
<div class="form-group">
<label>Contrle: vnements / Total</label>
<div style="display: flex; gap: 0.5rem;">
<input id="eventsCtrl" placeholder="Events" style="flex:1" type="number"/>
<input id="nCtrl" placeholder="Total" style="flex:1" type="number"/>
</div>
</div>
</div>
<button class="btn-small primary" onclick="calculateEffectSize()">Calculer</button>
<div class="results-display" id="effectResults" style="display: none;"></div>
</div>
</div>
<!-- Meta-Analysis Calculator -->
<div class="tool-section">
<div class="tool-section-header" onclick="toggleSection(this)">
                Calculateur de mta-analyse <span></span>
</div>
<div class="tool-section-body">
<div class="form-group">
<label>Entrez les tudes (effet, IC faible, IC lev)</label>
<table class="study-table" id="studyTable">
<thead>
<tr>
<th>tude</th>
<th>Effet</th>
<th>CI Lo</th>
<th>CI Hi</th>
<th></th>
</tr>
</thead>
<tbody id="studyTableBody">
<tr>
<td><input type="text" value="Study 1"/></td>
<td><input step="0.01" type="number" value="1.25"/></td>
<td><input step="0.01" type="number" value="0.95"/></td>
<td><input step="0.01" type="number" value="1.64"/></td>
<td><button class="btn-small" onclick="removeStudyRow(this)"></button></td>
</tr>
<tr>
<td><input type="text" value="Study 2"/></td>
<td><input step="0.01" type="number" value="1.42"/></td>
<td><input step="0.01" type="number" value="1.10"/></td>
<td><input step="0.01" type="number" value="1.83"/></td>
<td><button class="btn-small" onclick="removeStudyRow(this)"></button></td>
</tr>
<tr>
<td><input type="text" value="Study 3"/></td>
<td><input step="0.01" type="number" value="0.98"/></td>
<td><input step="0.01" type="number" value="0.72"/></td>
<td><input step="0.01" type="number" value="1.33"/></td>
<td><button class="btn-small" onclick="removeStudyRow(this)"></button></td>
</tr>
</tbody>
</table>
<button class="btn-small" onclick="addStudyRow()">+ Ajouter une tude</button>
</div>
<div class="form-group">
<label>Estimateur Tau</label>
<select id="tau2Method">
<option value="DL">DerSimonian-Laird (DL)</option>
<option value="REML">REML</option>
<option value="PM">Paule-Mandel (PM)</option>
<option value="SJ">Sidik-Jonkman (SJ)</option>
<option value="HE">Hedges (HE)</option>
<option value="EB">Bayes empirique (EB)</option>
<option value="ML">Probabilit maximale (ML)</option>
<option value="HS">Hunter-Schmidt (HS)</option>
</select>
</div>
<div class="form-group">
<label>
<input checked="" id="useHKSJ" type="checkbox"/> Utiliser l'ajustement HKSJ
                  </label>
</div>
<button class="btn-small primary" onclick="runMetaAnalysis()">Excution Analyse</button>
<div class="results-display" id="maResults" style="display: none;"></div>
<div class="forest-plot-container" id="forestPlotContainer" style="display: none;"></div>
</div>
</div>
<!-- PICO Builder -->
<div class="tool-section">
<div class="tool-section-header" onclick="toggleSection(this)">
                PICO Builder <span></span>
</div>
<div class="tool-section-body" style="display: none;">
<div class="form-group">
<label>Population</label>
<input id="picoP" placeholder="par exemple, adultes atteints de diabte de type 2" type="text"/>
</div>
<div class="form-group">
<label>Intervention</label>
<input id="picoI" placeholder="e.g., SGLT2 inhibitors" type="text"/>
</div>
<div class="form-group">
<label>Comparateur</label>
<input id="picoC" placeholder="e.g., Placebo or standard care" type="text"/>
</div>
<div class="form-group">
<label>Rsultat</label>
<input id="picoO" placeholder="e.g., All-cause mortality" type="text"/>
</div>
<button class="btn-small primary" onclick="generatePICO()">Gnrer une question</button>
<div id="picoOutput" style="margin-top: 1rem; padding: 0.75rem; background: #f7fafc; border-radius: 4px; display: none;"></div>
</div>
</div>
<!-- Biais de publication Assessment -->
<div class="tool-section">
<div class="tool-section-header" onclick="toggleSection(this)">
                Biais de publication <span></span>
</div>
<div class="tool-section-body" style="display: none;">
<p style="font-size: 0.75rem; color: var(--light-text); margin-bottom: 0.75rem;">
                  Utilise les donnes du calculateur de mta-analyse ci-dessus
                </p>
<button class="btn-small primary" onclick="runPublicationBias()">valuer le biais de publication</button>
<div id="pubBiasResults" style="display: none; margin-top: 1rem;">
<div class="results-display" id="eggerResults"></div>
<div class="forest-plot-container" id="funnelPlotContainer" style="margin-top: 0.5rem;"></div>
</div>
</div>
</div>
<!-- Risk of Bias 2.0 -->
<div class="tool-section">
<div class="tool-section-header" onclick="toggleSection(this)">
                Risque de biais 2.0 <span></span>
</div>
<div class="tool-section-body" style="display: none;">
<div class="form-group">
<label>Nom de l'tude</label>
<input id="robStudyName" placeholder="e.g., Smith 2020" type="text"/>
</div>
<div class="rob-domains">
<div class="rob-domain">
<label>D1: Randomisation</label>
<select id="robD1" onchange="updateRoBOverall()">
<option value="">Slectionner...</option>
<option value="low">Risque faible</option>
<option value="some">Quelques pr?occupations</option>
<option value="high">Risque ?lev?</option>
</select>
</div>
<div class="rob-domain">
<label>D2:carts par rapport  l'intervention</label>
<select id="robD2" onchange="updateRoBOverall()">
<option value="">Slectionner...</option>
<option value="low">Risque faible</option>
<option value="some">Quelques pr?occupations</option>
<option value="high">Risque ?lev?</option>
</select>
</div>
<div class="rob-domain">
<label>D3: rsultat manquant donnes</label>
<select id="robD3" onchange="updateRoBOverall()">
<option value="">Slectionner...</option>
<option value="low">Risque faible</option>
<option value="some">Quelques pr?occupations</option>
<option value="high">Risque ?lev?</option>
</select>
</div>
<div class="rob-domain">
<label>D4: Outcome measurement</label>
<select id="robD4" onchange="updateRoBOverall()">
<option value="">Slectionner...</option>
<option value="low">Risque faible</option>
<option value="some">Quelques pr?occupations</option>
<option value="high">Risque ?lev?</option>
</select>
</div>
<div class="rob-domain">
<label>D5: slection du rsultat rapport</label>
<select id="robD5" onchange="updateRoBOverall()">
<option value="">Slectionner...</option>
<option value="low">Risque faible</option>
<option value="some">Quelques pr?occupations</option>
<option value="high">Risque ?lev?</option>
</select>
</div>
</div>
<div id="robOverall" style="margin-top: 1rem; padding: 0.75rem; border-radius: 6px; text-align: center; font-weight: 600;"></div>
<div id="robTrafficLight" style="margin-top: 0.5rem;"></div>
</div>
</div>
<!-- GRADE Assessment -->
<div class="tool-section">
<div class="tool-section-header" onclick="toggleSection(this)">
                GRADE Certainty <span></span>
</div>
<div class="tool-section-body" style="display: none;">
<div class="form-group">
<label>Starting certainty</label>
<select id="gradeStart">
<option value="4">High (RCTs)</option>
<option value="2">Low (Observational)</option>
</select>
</div>
<p style="font-size: 0.7rem; font-weight: 600; color: var(--navy); margin: 0.75rem 0 0.25rem;">Downgrade factors:</p>
<div class="grade-factors">
<div class="form-group" style="margin-bottom: 0.5rem;">
<label style="display: flex; align-items: center; gap: 0.5rem;">
<select id="gradeRoB" style="width: 100px;">
<option value="0">Aucun</option>
<option value="-1">Grave (-1)</option>
<option value="-2">Tr?s s?rieux (-2)</option>
</select>
                      Risque de biais
                    </label>
</div>
<div class="form-group" style="margin-bottom: 0.5rem;">
<label style="display: flex; align-items: center; gap: 0.5rem;">
<select id="gradeInconsistency" style="width: 100px;">
<option value="0">Aucun</option>
<option value="-1">Grave (-1)</option>
<option value="-2">Tr?s s?rieux (-2)</option>
</select>
                      Incohrence
                    </label>
</div>
<div class="form-group" style="margin-bottom: 0.5rem;">
<label style="display: flex; align-items: center; gap: 0.5rem;">
<select id="gradeIndirectness" style="width: 100px;">
<option value="0">Aucun</option>
<option value="-1">Grave (-1)</option>
<option value="-2">Tr?s s?rieux (-2)</option>
</select>
                      Indirectit
                    </label>
</div>
<div class="form-group" style="margin-bottom: 0.5rem;">
<label style="display: flex; align-items: center; gap: 0.5rem;">
<select id="gradeImprecision" style="width: 100px;">
<option value="0">Aucun</option>
<option value="-1">Grave (-1)</option>
<option value="-2">Tr?s s?rieux (-2)</option>
</select>
                      Imprcision
                    </label>
</div>
<div class="form-group" style="margin-bottom: 0.5rem;">
<label style="display: flex; align-items: center; gap: 0.5rem;">
<select id="gradePubBias" style="width: 100px;">
<option value="0">Aucun</option>
<option value="-1">Grave (-1)</option>
<option value="-2">Tr?s s?rieux (-2)</option>
</select>
                      Biais de publication
                    </label>
</div>
</div>
<button class="btn-small primary" onclick="calculateGRADE()" style="margin-top: 0.5rem;">Calculate Certainty</button>
<div id="gradeResult" style="margin-top: 1rem;"></div>
</div>
</div>
<!-- I Interpretation -->
<div class="tool-section">
<div class="tool-section-header" onclick="toggleSection(this)">
                Heterogeneity Guide <span></span>
</div>
<div class="tool-section-body" style="display: none;">
<div class="form-group">
<label>Enter I value (%)</label>
<input id="i2Input" max="100" min="0" placeholder="e.g., 75" type="number"/>
</div>
<button class="btn-small primary" onclick="interpretI2()">Interprter</button>
<div id="i2Interpretation" style="margin-top: 1rem;"></div>
<div style="margin-top: 1rem; padding: 0.75rem; background: #f7fafc; border-radius: 6px; font-size: 0.75rem;">
<p style="font-weight: 600; margin-bottom: 0.5rem;">Cochrane Guidelines:</p>
<p>0-40%: pourrait ne pas tre important</p>
<p>30-60%: Moderate heterogeneity</p>
<p>50-90%: Substantial heterogeneity</p>
<p>75-100%: Considerable heterogeneity</p>
<p style="margin-top: 0.5rem; font-style: italic; color: var(--light-text);">
                    "L'htrognit est un message, pas un bruit."
                  </p>
</div>
</div>
</div>
<!-- NNT/NNH Calculator -->
<div class="tool-section">
<div class="tool-section-header" onclick="toggleSection(this)">
                Calculateur NNT/NNH <span></span>
</div>
<div class="tool-section-body" style="display: none;">
<p style="font-size: 0.75rem; color: var(--light-text); margin-bottom: 0.75rem;">
                  Convertir les tailles d'effet en nombres ncessaires pour traiter/nuire
                </p>
<div class="form-group">
<label>Risque de base (taux d'vnements de contrle)</label>
<input id="nntCER" max="1" min="0" placeholder="e.g., 0.15 for 15%" step="0.01" type="number"/>
</div>
<div class="form-group">
<label>Mesure d'effet</label>
<select id="nntEffectType">
<option value="RR">Rapport de risque (RR)</option>
<option value="OR">Rapport de cotes (OR)</option>
<option value="RD">Diffrence de risque (DR)</option>
</select>
</div>
<div class="form-group">
<label>Effect Size</label>
<input id="nntEffect" placeholder="e.g., 0.75" step="0.01" type="number"/>
</div>
<div class="form-group">
<label>95% CI Lower</label>
<input id="nntCILo" placeholder="e.g., 0.60" step="0.01" type="number"/>
</div>
<div class="form-group">
<label>95% CI Upper</label>
<input id="nntCIHi" placeholder="e.g., 0.95" step="0.01" type="number"/>
</div>
<button class="btn-small primary" onclick="calculateNNT()">Calculer NNT/NNH</button>
<div class="results-display" id="nntResults" style="display: none;"></div>
</div>
</div>
<!-- Leave-One-Out Sensitivity -->
<div class="tool-section">
<div class="tool-section-header" onclick="toggleSection(this)">
                Analyse sans intervention <span></span>
</div>
<div class="tool-section-body" style="display: none;">
<p style="font-size: 0.75rem; color: var(--light-text); margin-bottom: 0.75rem;">
                  Teste l'influence de chaque tude sur les rsultats regroups. Utilise les donnes du calculateur de mta-analyse.
                </p>
<button class="btn-small primary" onclick="runLeaveOneOut()">Excuter une analyse de sensibilit</button>
<div id="looResults" style="display: none; margin-top: 1rem;">
<div class="results-display" id="looSummary"></div>
<div class="forest-plot-container" id="looPlotContainer" style="margin-top: 0.5rem;"></div>
</div>
</div>
</div>
<!-- Trim-and-Fill -->
<div class="tool-section">
<div class="tool-section-header" onclick="toggleSection(this)">
                Dcouper et remplir <span></span>
</div>
<div class="tool-section-body" style="display: none;">
<p style="font-size: 0.75rem; color: var(--light-text); margin-bottom: 0.75rem;">
                  Impute les tudes manquantes pour corriger l'asymtrie du trac en entonnoir. Utilise les donnes du calculateur de mta-analyse.
                </p>
<div class="form-group">
<label>Estimateur</label>
<select id="trimFillEstimator">
<option value="L0">L0 (Linaire)</option>
<option selected="" value="R0">R0 (bas sur le classement)</option>
</select>
</div>
<div class="form-group">
<label>Ct</label>
<select id="trimFillSide">
<option value="right">Droit (supprimer le positif)</option>
<option selected="" value="left">Gauche (suppression des ngatifs)</option>
</select>
</div>
<button class="btn-small primary" onclick="runTrimAndFill()">Excution de Trim-and-Fill</button>
<div id="trimFillResults" style="display: none; margin-top: 1rem;">
<div class="results-display" id="trimFillSummary"></div>
<div class="forest-plot-container" id="trimFillPlotContainer" style="margin-top: 0.5rem;"></div>
</div>
</div>
</div>
<!-- Key References -->
<div class="tool-section">
<div class="tool-section-header" onclick="toggleSection(this)">
                Key References <span></span>
</div>
<div class="tool-section-body" style="display: none;">
<p style="font-size: 0.7rem; font-weight: 600; margin-bottom: 0.5rem; color: var(--navy);">Cas d'inversion de preuves:</p>
<ul style="font-size: 0.7rem; color: var(--light-text); margin-left: 1rem; line-height: 1.6;">
<li><strong>CASTING:</strong> EchtDS et al. NEJM 1991;324:781-788</li>
<li><strong>HRT/WHI:</strong> Rossouw JE et al. JAMA 2002; 288:321-333</li>
<li><strong>Rosiglitazone:</strong> Nissen SE, Wolski K. NEJM 2007;356:2457-2471</li>
<li><strong>Vioxx:</strong> Bombardier C et al. NEJM 2000;343:1520-1528</li>
<li><strong>DECREASE Fraud:</strong> Enqute Erasmus MC 2012</li>
<li><strong>BART:</strong> Fergusson DA et coll. NEJM 2008;358:2319-2331</li>
<li><strong>ISIS-4:</strong> Groupe collaboratif ISIS-4. Lancet 1995;345:669-685</li>
<li><strong>ACCORD:</strong> Groupe d'tude ACCORD. NEJM 2008;358:2545-2559</li>
<li><strong>Reboxetine:</strong> Eyding D et coll. BMJ 2010;341:c4737</li>
</ul>
<p style="font-size: 0.7rem; font-weight: 600; margin: 0.75rem 0 0.5rem; color: var(--navy);">Mthodes Rfrences:</p>
<ul style="font-size: 0.7rem; color: var(--light-text); margin-left: 1rem; line-height: 1.6;">
<li><strong>GRADE:</strong> Guyatt GH et coll. BMJ 2008;336:924-926</li>
<li><strong>RoB 2.0:</strong> Sterne JAC et coll. BMJ 2019;366:l4898</li>
<li><strong>ROBINS-I:</strong> Sterne JA et coll. BMJ 2016;355:i4919</li>
<li><strong>HOMME DES GLACES:</strong> Schandelmaier S et al. JAMC 2020;192:E901-E906</li>
<li><strong>HKSJ:</strong> Hartung J, Knapp G. Stat Med 2001;20:3875-3889</li>
<li><strong>PRISME:</strong> Page MJ et coll. BMJ 2021;372:n71</li>
<li><strong>TSA:</strong> Wetterslev J et al. Mthode BMC Med Res 2008;8:39</li>
</ul>
</div>
</div>
</div>
</aside>
</div>
</main>
</div>
<script>
    // ============================================================
    // CONSTANTS
    // ============================================================
    const Z_95 = 1.96;
    const Z_95_CI_DIVISOR = 2 * Z_95;

    // ============================================================
    // LIVE STORY DATA SYSTEM
    // ============================================================

    const storyData = {
      1: { // CAST
        title: 'CAST Trial: Antiarrhythmics',
        subtitle: 'Do drugs that suppress PVCs save lives?',
        before: {
          label: 'Before CAST (1989)',
          studies: [
            { name: 'Obs Study 1', effect: 0.45, lo: 0.28, hi: 0.72, n: 450 },
            { name: 'Obs Study 2', effect: 0.52, lo: 0.35, hi: 0.77, n: 380 },
            { name: 'Obs Study 3', effect: 0.38, lo: 0.22, hi: 0.65, n: 290 },
            { name: 'Surrogate', effect: 0.42, lo: 0.31, hi: 0.57, n: 1200 },
          ],
          pooled: { effect: 0.44, lo: 0.35, hi: 0.55 },
          metrics: { or: '0.44', nnt: '12', conclusion: 'Benefit' },
          insight: 'Observational data + biological plausibility suggested antiarrhythmics save lives by suppressing PVCs.'
        },
        after: {
          label: 'After CAST (1991)',
          studies: [
            { name: 'CAST-Encainide', effect: 2.38, lo: 1.59, hi: 3.57, n: 730 },
            { name: 'CAST-Flecainide', effect: 2.64, lo: 1.60, hi: 4.36, n: 641 },
          ],
          pooled: { effect: 2.50, lo: 1.80, hi: 3.47 },
          metrics: { or: '2.50', nnh: '17', conclusion: 'Harm' },
          insight: '<strong>EVIDENCE REVERSAL:</strong> Antiarrhythmics INCREASED mortality by 150%. An estimated ~9,000 excess deaths per year were caused by these drugs.'
        }
      },
      2: { // HRT
        title: 'HRT & Heart Disease',
        subtitle: 'Does hormone replacement protect the heart?',
        before: {
          label: 'Before WHI (2002)',
          studies: [
            { name: "Nurses' Health", effect: 0.50, lo: 0.40, hi: 0.63, n: 48470 },
            { name: 'Framingham', effect: 0.55, lo: 0.35, hi: 0.86, n: 1234 },
            { name: 'Meta 1998', effect: 0.65, lo: 0.52, hi: 0.81, n: 22000 },
          ],
          pooled: { effect: 0.56, lo: 0.47, hi: 0.67 },
          metrics: { rr: '0.56', nnt: '32', conclusion: 'Benefit' },
          insight: 'Plus de 30 tudes observationnelles ont montr une rduction denviron 44% des maladies coronariennes. Un THS a t recommand pour la cardioprotection.'
        },
        after: {
          label: 'After WHI (2002)',
          studies: [
            { name: 'WHI E+P', effect: 1.29, lo: 1.02, hi: 1.63, n: 16608 },
            { name: 'WHI E-only', effect: 0.91, lo: 0.75, hi: 1.12, n: 10739 },
          ],
          pooled: { effect: 1.13, lo: 0.95, hi: 1.34 },
          metrics: { rr: '1.13', nnh: '', conclusion: 'No Benefit/Harm' },
          insight: '<strong>EVIDENCE REVERSAL:</strong> Healthy user bias explained the observational findings. Women who took HRT were healthier at baseline.'
        }
      },
      3: { // Rosiglitazone
        title: 'Rosiglitazone (Avandia)',
        subtitle: 'Quest-ce qui se cachait dans les procs indits ?',
        before: {
          label: 'Published Only',
          studies: [
            { name: 'ADOPT', effect: 1.08, lo: 0.75, hi: 1.56, n: 4360 },
            { name: 'DREAM', effect: 1.20, lo: 0.83, hi: 1.74, n: 5269 },
            { name: 'Published pool', effect: 1.14, lo: 0.90, hi: 1.45, n: 15000 },
          ],
          pooled: { effect: 1.14, lo: 0.92, hi: 1.41 },
          metrics: { or: '1.14', pvalue: '0.23', conclusion: 'NS' },
          insight: 'Les essais publis ont montr une tendance non significative. La FDA et les mdecins ont t rassurs.'
        },
        after: {
          label: 'Toutes les donnes (Nissen 2007)',
          studies: [
            { name: 'ADOPT', effect: 1.25, lo: 0.78, hi: 2.01, n: 4360 },
            { name: 'DREAM', effect: 1.36, lo: 0.68, hi: 2.71, n: 5269 },
            { name: '42 unpublished', effect: 1.45, lo: 1.10, hi: 1.91, n: 22000 },
          ],
          pooled: { effect: 1.43, lo: 1.03, hi: 1.98 },
          metrics: { or: '1.43', pvalue: '0.03', conclusion: 'HARM' },
          insight: '<strong>EVIDENCE REVERSAL:</strong> Including unpublished trials revealed 43% increased MI risk. ~83,000 excess heart attacks estimated.'
        }
      },
      6: { // Aprotinin
        title: 'Aprotinin (Trasylol)',
        subtitle: 'Les tudes observationnelles ont-elles nglig les mfaits ?',
        before: {
          label: 'Observational Studies',
          studies: [
            { name: 'Mangano 2006', effect: 0.80, lo: 0.64, hi: 1.00, n: 4374 },
            { name: 'Karkouti 2006', effect: 0.85, lo: 0.68, hi: 1.06, n: 10870 },
            { name: 'Obs Meta', effect: 0.82, lo: 0.70, hi: 0.96, n: 30000 },
          ],
          pooled: { effect: 0.82, lo: 0.71, hi: 0.95 },
          metrics: { rr: '0.82', nnt: '50', conclusion: 'Benefit' },
          insight: 'Des tudes observationnelles suggrent une rduction de la mortalit de 18%. L\'aprotinine tait largement utilise en chirurgie cardiaque.'
        },
        after: {
          label: 'BART Trial (RCT)',
          studies: [
            { name: 'BART', effect: 1.53, lo: 1.10, hi: 2.15, n: 2331 },
          ],
          pooled: { effect: 1.53, lo: 1.10, hi: 2.15 },
          metrics: { rr: '1.53', nnh: '53', conclusion: 'HARM' },
          insight: '<strong>EVIDENCE REVERSAL:</strong> The RCT showed 53% INCREASED mortality. Confounding by indication: sickest patients got the drug.'
        }
      },
      7: { // Magnesium
        title: 'IV Magnesium in MI',
        subtitle: 'Small trials vs mega-trial',
        before: {
          label: 'Small Trials Meta (1991)',
          studies: [
            { name: 'Morton 1984', effect: 0.10, lo: 0.01, hi: 0.87, n: 40 },
            { name: 'Rasmussen 1986', effect: 0.35, lo: 0.13, hi: 0.94, n: 273 },
            { name: 'Shechter 1990', effect: 0.27, lo: 0.08, hi: 0.95, n: 103 },
            { name: 'LIMIT-2', effect: 0.74, lo: 0.57, hi: 0.97, n: 2316 },
          ],
          pooled: { effect: 0.44, lo: 0.27, hi: 0.71 },
          metrics: { or: '0.44', nnt: '25', conclusion: 'Benefit' },
          insight: 'Meta-analysis of 7 small trials showed 56% mortality reduction. Magnesium seemed like a miracle.'
        },
        after: {
          label: 'With ISIS-4 (1995)',
          studies: [
            { name: 'Small trials', effect: 0.44, lo: 0.27, hi: 0.71, n: 2774 },
            { name: 'ISIS-4', effect: 1.06, lo: 0.99, hi: 1.13, n: 58050 },
          ],
          pooled: { effect: 1.02, lo: 0.95, hi: 1.09 },
          metrics: { or: '1.02', nnt: '', conclusion: 'No Effect' },
          insight: '<strong>EVIDENCE REVERSAL:</strong> ISIS-4 (58,050 patients) found NO benefit. Small-study effects and publication bias likely contributed to the earlier positive meta-analysis.'
        }
      },
      9: { // Reboxetine
        title: 'Reboxetine',
        subtitle: 'Quelle quantit de donnes a t cache ?',
        before: {
          label: 'Published Only',
          studies: [
            { name: 'Pub Trial 1', effect: 0.62, lo: 0.35, hi: 1.10, n: 254 },
            { name: 'Pub Trial 2', effect: 0.48, lo: 0.22, hi: 1.05, n: 187 },
            { name: 'Pub Trial 3', effect: 0.55, lo: 0.28, hi: 1.08, n: 203 },
          ],
          pooled: { effect: 0.56, lo: 0.39, hi: 0.80 },
          metrics: { smd: '0.56', pvalue: '<0.001', conclusion: 'Benefit' },
          insight: 'Les essais publis ont montr un bnfice significatif par rapport au placebo. La rboxtine a t approuve et commercialise.'
        },
        after: {
          label: 'Toutes les donnes (EMA 2010)',
          studies: [
            { name: 'Published (26%)', effect: 0.56, lo: 0.39, hi: 0.80, n: 644 },
            { name: 'Unpublished (74%)', effect: 0.98, lo: 0.81, hi: 1.19, n: 1802 },
          ],
          pooled: { effect: 0.85, lo: 0.72, hi: 1.00 },
          metrics: { smd: '0.10', pvalue: '0.43', conclusion: 'No Effect' },
          insight: '<strong>EVIDENCE REVERSAL:</strong> 74% of patient data was unpublished! True effect was essentially null. The drug was no better than placebo.'
        }
      },
      4: { // Vioxx
        title: 'Vioxx (Rofecoxib)',
        subtitle: 'Quest-ce qui a t rapport de manire slective?',
        before: {
          label: 'VIGOR Published (2000)',
          studies: [
            { name: 'VIGOR (GI)', effect: 0.46, lo: 0.33, hi: 0.64, n: 8076 },
          ],
          pooled: { effect: 0.46, lo: 0.33, hi: 0.64 },
          metrics: { rr: '0.46', nnt: '41', conclusion: 'GI Benefit' },
          insight: 'VIGOR a t publi mettant l\'accent sur une rduction de 54% des complications gastro-intestinales. Les vnements cardiovasculaires ont t minimiss.'
        },
        after: {
          label: 'Donnes compltes du CV rvles',
          studies: [
            { name: 'VIGOR (CV)', effect: 4.25, lo: 1.39, hi: 17.37, n: 8076 },
            { name: 'APPROVe', effect: 1.92, lo: 1.19, hi: 3.11, n: 2586 },
          ],
          pooled: { effect: 2.24, lo: 1.24, hi: 4.02 },
          metrics: { rr: '2.24', nnh: '73', conclusion: 'CV HARM' },
          insight: '<strong>EVIDENCE REVERSAL:</strong> Full data showed 4-fold increased MI risk. ~88,000 excess heart attacks. Withdrawn 2004.'
        }
      },
      5: { // DECREASE
        title: 'DECREASE Trials (Fraud)',
        subtitle: 'What happens when data is fabricated?',
        before: {
          label: 'Before Fraud Exposed',
          studies: [
            { name: 'DECREASE-I', effect: 0.09, lo: 0.02, hi: 0.37, n: 112 },
            { name: 'DECREASE-IV', effect: 0.65, lo: 0.24, hi: 1.74, n: 1066 },
            { name: 'Other trials', effect: 0.78, lo: 0.58, hi: 1.05, n: 3500 },
          ],
          pooled: { effect: 0.56, lo: 0.35, hi: 0.89 },
          metrics: { or: '0.56', nnt: '15', conclusion: 'Benefit' },
          insight: 'Meta-analysis including DECREASE showed 44% mortality reduction. Beta-blockers were mandated in guidelines.'
        },
        after: {
          label: 'Exclusion des donnes frauduleuses',
          studies: [
            { name: 'POISE', effect: 1.33, lo: 1.03, hi: 1.74, n: 8351 },
            { name: 'DIPOM', effect: 1.11, lo: 0.66, hi: 1.87, n: 921 },
            { name: 'MaVS', effect: 0.92, lo: 0.46, hi: 1.84, n: 496 },
          ],
          pooled: { effect: 1.27, lo: 1.01, hi: 1.60 },
          metrics: { or: '1.27', nnh: '67', conclusion: 'HARM' },
          insight: '<strong>EVIDENCE REVERSAL:</strong> Without fabricated DECREASE data, beta-blockers INCREASED mortality by 27%. ~10,000 excess deaths in Europe from flawed guidelines.'
        }
      },
      8: { // ACCORD
        title: 'ACCORD Trial',
        subtitle: 'Quand la moyenne cache la vrit',
        before: {
          label: 'Before ACCORD (2008)',
          studies: [
            { name: 'DCCT (Type 1)', effect: 0.42, lo: 0.23, hi: 0.75, n: 1441 },
            { name: 'UKPDS', effect: 0.84, lo: 0.71, hi: 0.99, n: 3867 },
            { name: 'Obs studies', effect: 0.70, lo: 0.60, hi: 0.82, n: 50000 },
          ],
          pooled: { effect: 0.72, lo: 0.62, hi: 0.84 },
          metrics: { hr: '0.72', nnt: '20', conclusion: 'Benefit' },
          insight: 'Previous trials showed intensive glucose control reduced microvascular complications. Assumed benefit for macrovascular too.'
        },
        after: {
          label: 'ACCORD Results',
          studies: [
            { name: 'ACCORD', effect: 1.22, lo: 1.01, hi: 1.46, n: 10251 },
            { name: 'ADVANCE', effect: 0.93, lo: 0.83, hi: 1.06, n: 11140 },
            { name: 'VADT', effect: 1.07, lo: 0.81, hi: 1.42, n: 1791 },
          ],
          pooled: { effect: 1.04, lo: 0.91, hi: 1.19 },
          metrics: { hr: '1.22*', nnh: '95', conclusion: 'Harm in ACCORD' },
          insight: '<strong>EVIDENCE REVERSAL:</strong> ACCORD stopped early - intensive control INCREASED mortality by 22%. Heterogeneity mattered: harm concentrated in older patients with CVD.'
        }
      },
      10: { // Surfactant
        title: 'Early Surfactant in Preterm',
        subtitle: 'When practice context changes',
        before: {
          label: 'Early Trials (1990s)',
          studies: [
            { name: 'Kendig 1991', effect: 0.55, lo: 0.35, hi: 0.86, n: 479 },
            { name: 'OSECT 1992', effect: 0.61, lo: 0.41, hi: 0.91, n: 338 },
            { name: 'Egberts 1993', effect: 0.58, lo: 0.37, hi: 0.91, n: 324 },
          ],
          pooled: { effect: 0.58, lo: 0.45, hi: 0.75 },
          metrics: { rr: '0.58', nnt: '9', conclusion: 'Benefit' },
          insight: 'Early surfactant (prophylactic) showed 42% reduced mortality/BPD compared to rescue surfactant. Became standard.'
        },
        after: {
          label: 'Essais modernes avec CPAP',
          studies: [
            { name: 'COIN 2008', effect: 1.05, lo: 0.78, hi: 1.41, n: 610 },
            { name: 'SUPPORT 2010', effect: 0.91, lo: 0.68, hi: 1.21, n: 1316 },
            { name: 'VON 2011', effect: 0.94, lo: 0.71, hi: 1.25, n: 648 },
          ],
          pooled: { effect: 0.96, lo: 0.82, hi: 1.13 },
          metrics: { rr: '0.96', nnt: '', conclusion: 'No Benefit' },
          insight: '<strong>EVIDENCE EVOLUTION:</strong> Modern CPAP changed the context. Early surfactant no longer superior to CPAP + selective surfactant. Practices must evolve with evidence.'
        }
      },
      11: { // HCQ COVID
        title: 'COVID-19 Hydroxychloroquine',
        subtitle: 'Promesse prcoce versus preuves rigoureuses',
        before: {
          label: 'Premires tudes (mars-mai 2020)',
          studies: [
            { name: 'Gautret', effect: 0.15, lo: 0.03, hi: 0.75, n: 36 },
            { name: 'Chen J', effect: 0.65, lo: 0.25, hi: 1.69, n: 62 },
            { name: 'Million', effect: 0.22, lo: 0.11, hi: 0.44, n: 1061 },
          ],
          pooled: { effect: 0.28, lo: 0.15, hi: 0.52 },
          metrics: { or: '0.28', pvalue: '<0.001', conclusion: 'Benefit' },
          insight: 'Early small/observational studies suggested massive benefit. Emergency authorizations followed.'
        },
        after: {
          label: 'RCTs (RECOVERY, WHO)',
          studies: [
            { name: 'RECOVERY', effect: 1.09, lo: 0.97, hi: 1.23, n: 4716 },
            { name: 'WHO Solidarity', effect: 1.19, lo: 0.89, hi: 1.59, n: 954 },
            { name: 'RCT Meta', effect: 1.11, lo: 1.00, hi: 1.22, n: 8000 },
          ],
          pooled: { effect: 1.11, lo: 1.00, hi: 1.22 },
          metrics: { or: '1.11', pvalue: '0.05', conclusion: 'No Benefit/Harm' },
          insight: '<strong>EVIDENCE REVERSAL:</strong> Large RCTs showed NO benefit and possible harm. Authorizations revoked. Rigorous trials take time but give truth.'
        }
      }
    };

    let currentStoryView = 'before';
    let storyPlotType = 'forest';
    let storyPredictions = {}; // Track predictions per module
    let showingPrediction = false;

    function setStoryPlotType(type) {
      storyPlotType = type;
      const story = storyData[currentModule];
      if (story) renderStoryContent(story);
    }

    function hasPredicted(moduleId) {
      return storyPredictions[moduleId] !== undefined;
    }

    function makePrediction(moduleId, prediction) {
      const story = storyData[moduleId];
      if (!story) return;

      // Determine the actual answer
      const afterEffect = story.after.pooled.effect;
      let actual;
      if (afterEffect < 0.9) actual = 'benefit';
      else if (afterEffect > 1.1) actual = 'harm';
      else actual = 'neutral';

      // Store prediction and result
      storyPredictions[moduleId] = {
        prediction: prediction,
        actual: actual,
        correct: prediction === actual
      };

      // Update progress
      saveProgress();

      // Now show the actual results
      showingPrediction = false;
      renderStoryContent(story);
    }

    function updateStoryPanel(moduleId) {
      const panel = document.getElementById('storyDataPanel');
      const content = document.getElementById('storyDataContent');
      const story = storyData[moduleId];

      panel.classList.add('updating');
      setTimeout(() => panel.classList.remove('updating'), 500);

      if (!story) {
        content.innerHTML = `
          <div class="no-story-data">
            <p style="font-size: 1.2rem; margin-bottom: 0.5rem;"></p>
            <p>Module ${moduleId}: ${(modules.find(m => m.id === moduleId) || {}).title || 'Unknown'}</p>
            <p style="margin-top: 0.5rem; opacity: 0.7;">This module focuses on methods rather than a specific evidence reversal story.</p>
          </div>
        `;
        return;
      }

      currentStoryView = 'before';
      renderStoryContent(story);
    }

    function renderStoryContent(story) {
      const content = document.getElementById('storyDataContent');
      const moduleId = currentModule;
      const data = currentStoryView === 'before' ? story.before : story.after;
      const predicted = hasPredicted(moduleId);
      const predictionResult = storyPredictions[moduleId];

      // If viewing "After" and haven't predicted yet, show prediction interface
      if (currentStoryView === 'after' && !predicted && showingPrediction) {
        content.innerHTML = `
          <div style="margin-bottom: 0.75rem;">
            <div style="font-size: 1rem; font-weight: 600; color: white;">${story.title}</div>
            <div style="font-size: 0.75rem; color: rgba(255,255,255,0.7);">${story.subtitle}</div>
          </div>

          <div class="story-toggle">
            <button class="" onclick="toggleStoryView('before')">
              ${story.before.label}
            </button>
            <button class="active" onclick="toggleStoryView('after')">
              ${story.after.label}
            </button>
          </div>

          <div class="predict-first-panel">
            <div class="predict-icon"></div>
            <h4>Predict First!</h4>
            <p>Based on ${story.before.label}, the evidence suggested <strong>${story.before.metrics.conclusion.toLowerCase()}</strong>.</p>
            <p style="margin-top: 0.5rem;">What do you think the rigorous evidence showed?</p>

            <div class="predict-buttons">
              <button class="predict-btn benefit" onclick="makePrediction(${moduleId}, 'benefit')">
                <span class="predict-icon-small"></span>
                Treatment Helps
              </button>
              <button class="predict-btn neutral" onclick="makePrediction(${moduleId}, 'neutral')">
                <span class="predict-icon-small"></span>
                No Effect
              </button>
              <button class="predict-btn harm" onclick="makePrediction(${moduleId}, 'harm')">
                <span class="predict-icon-small"></span>
                Treatment Harms
              </button>
            </div>

            <p style="font-size: 0.7rem; opacity: 0.6; margin-top: 0.75rem;">Making a prediction improves learning retention by 40%</p>
          </div>
        `;
        return;
      }

      // Prediction feedback (shown after predicting)
      let predictionFeedback = '';
      if (currentStoryView === 'after' && predicted) {
        const wasCorrect = predictionResult.correct;
        predictionFeedback = `
          <div class="prediction-feedback ${wasCorrect ? 'correct' : 'incorrect'}">
            <span class="feedback-icon">${wasCorrect ? '' : ''}</span>
            <span>${wasCorrect ? 'Correct! You predicted this evidence reversal.' : 'Not quite - this is why we need rigorous evidence!'}</span>
          </div>
        `;
      }

      content.innerHTML = `
        <div style="margin-bottom: 0.75rem;">
          <div style="font-size: 1rem; font-weight: 600; color: white;">${story.title}</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.7);">${story.subtitle}</div>
        </div>

        <div class="story-toggle">
          <button class="${currentStoryView === 'before' ? 'active' : ''}" onclick="toggleStoryView('before')">
            ${story.before.label}
          </button>
          <button class="${currentStoryView === 'after' ? 'active' : ''}" onclick="toggleStoryView('after')">
            ${story.after.label}
          </button>
        </div>

        ${predictionFeedback}

        <div style="display: flex; gap: 0.5rem; margin-bottom: 0.5rem;">
          <button class="btn-small ${storyPlotType === 'forest' ? 'primary' : ''}" onclick="setStoryPlotType('forest')" style="flex:1; font-size: 0.7rem;">Graphique en for?t</button>
          <button class="btn-small ${storyPlotType === 'funnel' ? 'primary' : ''}" onclick="setStoryPlotType('funnel')" style="flex:1; font-size: 0.7rem;">Diagramme en entonnoir</button>
        </div>

        <div class="story-viz" id="storyForestPlot"></div>

        <div class="story-metrics">
          <div class="story-metric ${getMetricHighlight(data.metrics.conclusion)}">
            <div class="value">${Object.values(data.metrics)[0]}</div>
            <div class="label">${Object.keys(data.metrics)[0].toUpperCase()}</div>
          </div>
          <div class="story-metric ${getMetricHighlight(data.metrics.conclusion)}">
            <div class="value">${data.metrics.conclusion}</div>
            <div class="label">Conclusion</div>
          </div>
        </div>

        <div class="story-insight">${data.insight}</div>

        <button class="btn-small primary" style="width: 100%; margin-top: 0.75rem;" onclick="loadStoryIntoCalculator()">
          Load Data into Calculator 
        </button>
      `;

      // Draw the appropriate plot
      if (storyPlotType === 'funnel') {
        drawStoryFunnelPlot(data.studies, data.pooled, currentStoryView === 'after');
      } else {
        drawStoryForestPlot(data.studies, data.pooled, currentStoryView === 'after');
      }
    }

    function getMetricHighlight(conclusion) {
      if (conclusion.includes('Harm') || conclusion === 'HARM') return 'highlight-bad';
      if (conclusion.includes('Benefit')) return 'highlight-good';
      return '';
    }

    function toggleStoryView(view) {
      const moduleId = currentModule;
      const story = storyData[moduleId];
      if (!story) return;

      currentStoryView = view;

      // If switching to "after" and haven't predicted yet, show prediction interface
      if (view === 'after' && !hasPredicted(moduleId)) {
        showingPrediction = true;
      } else {
        showingPrediction = false;
      }

      renderStoryContent(story);
    }

    function drawStoryForestPlot(studies, pooled, isAfter) {
      const container = document.getElementById('storyForestPlot');
      if (!container) return;

      const width = 320;
      const height = studies.length * 32 + 60;
      const margin = { left: 100, right: 30, top: 15, bottom: 30 };
      const plotWidth = width - margin.left - margin.right;

      // Find data range
      const allEffects = [...studies.map(s => [s.lo, s.hi]).flat(), pooled.lo, pooled.hi];
      let minE = Math.min(...allEffects, 0.1);
      let maxE = Math.max(...allEffects, 3);

      // Log scale
      const logMin = Math.log(Math.max(0.05, minE * 0.8));
      const logMax = Math.log(maxE * 1.2);
      const xScale = (v) => margin.left + ((Math.log(v) - logMin) / (logMax - logMin)) * plotWidth;

      let svg = `<svg viewBox="0 0 ${width} ${height}" style="width: 100%; height: auto; font-family: sans-serif;" role="img" aria-label="Forest plot showing effect sizes for ${studies.length} studies">`;

      // Add pattern definitions for color-blind accessibility
      svg += `<defs>
        <pattern id="harmPattern" patternUnits="userSpaceOnUse" width="4" height="4">
          <path d="M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2" stroke="#ef4444" stroke-width="1"/>
        </pattern>
        <pattern id="benefitPattern" patternUnits="userSpaceOnUse" width="4" height="4">
          <circle cx="2" cy="2" r="1" fill="#22c55e"/>
        </pattern>
      </defs>`;

      // Grid lines
      [0.1, 0.25, 0.5, 1, 2, 4].forEach(tick => {
        if (tick >= minE * 0.8 && tick <= maxE * 1.2) {
          const x = xScale(tick);
          svg += `<line x1="${x}" y1="${margin.top}" x2="${x}" y2="${height - margin.bottom}" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>`;
          svg += `<text x="${x}" y="${height - margin.bottom + 12}" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.5)">${tick}</text>`;
        }
      });

      // Null line at 1
      const nullX = xScale(1);
      svg += `<line x1="${nullX}" y1="${margin.top}" x2="${nullX}" y2="${height - margin.bottom}" stroke="rgba(255,255,255,0.5)" stroke-width="2"/>`;

      // Studies - COLOR-BLIND SAFE: use different shapes + colors
      studies.forEach((study, i) => {
        const y = margin.top + 15 + i * 32;
        const x = xScale(Math.max(0.05, Math.min(10, study.effect)));
        const xLo = xScale(Math.max(0.05, study.lo));
        const xHi = xScale(Math.min(10, study.hi));

        // Color-blind safe: green (#22c55e) for benefit, red (#ef4444) for harm, gray for neutral
        const isBenefit = study.effect < 1;
        const isHarm = study.effect > 1.1;
        const color = isBenefit ? '#22c55e' : (isHarm ? '#ef4444' : '#94a3b8');

        // Study name
        svg += `<text x="${margin.left - 5}" y="${y + 4}" text-anchor="end" font-size="9" fill="white">${study.name}</text>`;

        // CI line - use dashed for harm, solid for benefit (color-blind safe)
        const dashArray = isHarm ? 'stroke-dasharray="3,2"' : '';
        svg += `<line x1="${xLo}" y1="${y}" x2="${xHi}" y2="${y}" stroke="${color}" stroke-width="2" ${dashArray}/>`;

        // Effect marker - SHAPES differ: square for benefit, circle for harm, diamond for neutral
        const size = Math.min(10, Math.max(5, study.n ? Math.sqrt(study.n) / 10 : 6));
        if (isBenefit) {
          // Square with fill for benefit
          svg += `<rect x="${x - size/2}" y="${y - size/2}" width="${size}" height="${size}" fill="${color}" rx="1"/>`;
        } else if (isHarm) {
          // Circle for harm
          svg += `<circle cx="${x}" cy="${y}" r="${size/2}" fill="${color}"/>`;
        } else {
          // Diamond for neutral
          svg += `<polygon points="${x},${y-size/2} ${x+size/2},${y} ${x},${y+size/2} ${x-size/2},${y}" fill="${color}"/>`;
        }
      });

      // Pooled diamond
      const poolY = height - margin.bottom - 10;
      const poolX = xScale(Math.max(0.05, Math.min(10, pooled.effect)));
      const poolXLo = xScale(Math.max(0.05, pooled.lo));
      const poolXHi = xScale(Math.min(10, pooled.hi));
      const isPooledHarm = pooled.effect > 1;
      const diamondColor = isAfter ? (isPooledHarm ? '#ef4444' : '#22c55e') : '#D4AF37';

      svg += `<polygon points="${poolXLo},${poolY} ${poolX},${poolY - 6} ${poolXHi},${poolY} ${poolX},${poolY + 6}" fill="${diamondColor}" stroke="white" stroke-width="1"/>`;
      svg += `<text x="${margin.left - 5}" y="${poolY + 3}" text-anchor="end" font-size="9" font-weight="bold" fill="${diamondColor}">Pooled</text>`;

      // Labels with symbols for color-blind users
      svg += `<text x="${xScale(0.3)}" y="${height - 3}" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.6)"> Favors Treatment</text>`;
      svg += `<text x="${xScale(2.5)}" y="${height - 3}" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.6)"> Favors Control</text>`;

      svg += '</svg>';
      container.innerHTML = svg;
    }

    function drawStoryFunnelPlot(studies, pooled, isAfter) {
      const container = document.getElementById('storyForestPlot');
      if (!container) return;

      const width = 320;
      const height = 200;
      const margin = { left: 40, right: 20, top: 20, bottom: 35 };
      const plotWidth = width - margin.left - margin.right;
      const plotHeight = height - margin.top - margin.bottom;

      // Calculate SE from CI
      const studiesWithSE = studies.map(s => ({
        ...s,
        se: (Math.log(s.hi) - Math.log(s.lo)) / 3.92
      }));

      const maxSE = Math.max(...studiesWithSE.map(s => s.se)) * 1.2;
      const logPooled = Math.log(pooled.effect);

      // Scale functions
      const logEffects = studiesWithSE.map(s => Math.log(s.effect));
      const minLog = Math.min(...logEffects, logPooled) - 0.5;
      const maxLog = Math.max(...logEffects, logPooled) + 0.5;

      const xScale = (logE) => margin.left + ((logE - minLog) / (maxLog - minLog)) * plotWidth;
      const yScale = (se) => margin.top + (se / maxSE) * plotHeight;

      let svg = `<svg viewBox="0 0 ${width} ${height}" style="width: 100%; height: auto; font-family: sans-serif;">`;

      // Funnel shape
      const funnelLeft = xScale(logPooled - 1.96 * maxSE);
      const funnelRight = xScale(logPooled + 1.96 * maxSE);
      const funnelTop = xScale(logPooled);

      svg += `<polygon points="${funnelTop},${margin.top} ${funnelLeft},${margin.top + plotHeight} ${funnelRight},${margin.top + plotHeight}"
               fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.3)" stroke-dasharray="3"/>`;

      // Vertical line at pooled effect
      svg += `<line x1="${xScale(logPooled)}" y1="${margin.top}" x2="${xScale(logPooled)}" y2="${margin.top + plotHeight}"
               stroke="${isAfter ? '#ef4444' : '#D4AF37'}" stroke-width="2"/>`;

      // Null line at log(1) = 0
      const nullX = xScale(0);
      if (nullX > margin.left && nullX < width - margin.right) {
        svg += `<line x1="${nullX}" y1="${margin.top}" x2="${nullX}" y2="${margin.top + plotHeight}"
                 stroke="rgba(255,255,255,0.4)" stroke-width="1" stroke-dasharray="4"/>`;
      }

      // Study points
      studiesWithSE.forEach(study => {
        const x = xScale(Math.log(study.effect));
        const y = yScale(study.se);
        const color = study.effect < 1 ? '#22c55e' : '#ef4444';

        svg += `<circle cx="${x}" cy="${y}" r="6" fill="${color}" stroke="white" stroke-width="1"/>`;
      });

      // X-axis label
      svg += `<text x="${width/2}" y="${height - 5}" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.6)">Effect Size (log scale)</text>`;

      // Y-axis label
      svg += `<text x="12" y="${height/2}" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.6)" transform="rotate(-90, 12, ${height/2})">Standard Error</text>`;

      // Show asymmetry indicator if appropriate
      if (isAfter) {
        svg += `<text x="${width - 10}" y="${margin.top + 15}" text-anchor="end" font-size="8" fill="#ef4444"> Asymmetry</text>`;
      }

      svg += '</svg>';
      container.innerHTML = svg;
    }

    function openToolsWithStory() {
      // Open tools panel
      const panel = document.getElementById('toolsPanel');
      panel.classList.add('open');

      // Scroll to story data section
      const storyPanel = document.getElementById('storyDataPanel');
      if (storyPanel) {
        storyPanel.scrollIntoView({ behavior: 'smooth', block: 'start' });
        storyPanel.classList.add('updating');
        setTimeout(() => storyPanel.classList.remove('updating'), 500);
      }

      // Hide the indicator button since they found it
      document.getElementById('storyIndicatorBtn').classList.remove('pulse');
    }

    function loadStoryIntoCalculator() {
      const story = storyData[currentModule];
      if (!story) {
        alert('Aucune donne d\'histoire disponible pour ce module.');
        return;
      }

      const data = currentStoryView === 'before' ? story.before : story.after;
      const tbody = document.getElementById('studyTableBody');

      // Clear existing rows
      tbody.innerHTML = '';

      // Add story studies
      data.studies.forEach(study => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td><input type="text" value="${study.name}"></td>
          <td><input type="number" step="0.01" value="${study.effect.toFixed(2)}"></td>
          <td><input type="number" step="0.01" value="${study.lo.toFixed(2)}"></td>
          <td><input type="number" step="0.01" value="${study.hi.toFixed(2)}"></td>
          <td><button class="btn-small" onclick="removeStudyRow(this)"></button></td>
        `;
        tbody.appendChild(row);
      });

      // Auto-run the analysis
      runMetaAnalysis();

      // Show notification
      const panel = document.getElementById('storyDataPanel');
      panel.classList.add('updating');
      setTimeout(() => panel.classList.remove('updating'), 500);
    }

    // ============================================================
    // STATISTICAL FUNCTIONS
    // ============================================================

    function normalCDF(x) {
      const a1 = 0.254829592, a2 = -0.284496736, a3 = 1.421413741;
      const a4 = -1.453152027, a5 = 1.061405429, p = 0.3275911;
      const sign = x < 0 ? -1 : 1;
      x = Math.abs(x) / Math.sqrt(2);
      const t = 1 / (1 + p * x);
      const y = 1 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);
      return 0.5 * (1 + sign * y);
    }

    function tCDF(t, df) {
      if (df <= 0) return 0.5;
      const x = df / (df + t * t);
      return 1 - 0.5 * incompleteBeta(x, df / 2, 0.5);
    }

    function incompleteBeta(x, a, b) {
      if (x === 0) return 0;
      if (x === 1) return 1;
      const bt = Math.exp(
        logGamma(a + b) - logGamma(a) - logGamma(b) +
        a * Math.log(x) + b * Math.log(1 - x)
      );
      if (x < (a + 1) / (a + b + 2)) {
        return bt * betaCF(x, a, b) / a;
      }
      return 1 - bt * betaCF(1 - x, b, a) / b;
    }

    function betaCF(x, a, b) {
      const maxIter = 200, eps = 1e-10;
      const qab = a + b, qap = a + 1, qam = a - 1;
      let c = 1, d = 1 - qab * x / qap;
      if (Math.abs(d) < 1e-30) d = 1e-30;
      d = 1 / d;
      let h = d;
      for (let m = 1; m <= maxIter; m++) {
        const m2 = 2 * m;
        let aa = m * (b - m) * x / ((qam + m2) * (a + m2));
        d = 1 + aa * d;
        if (Math.abs(d) < 1e-30) d = 1e-30;
        c = 1 + aa / c;
        if (Math.abs(c) < 1e-30) c = 1e-30;
        d = 1 / d;
        h *= d * c;
        aa = -(a + m) * (qab + m) * x / ((a + m2) * (qap + m2));
        d = 1 + aa * d;
        if (Math.abs(d) < 1e-30) d = 1e-30;
        c = 1 + aa / c;
        if (Math.abs(c) < 1e-30) c = 1e-30;
        d = 1 / d;
        const del = d * c;
        h *= del;
        if (Math.abs(del - 1) < eps) break;
      }
      return h;
    }

    function logGamma(x) {
      const c = [76.18009172947146, -86.50532032941677, 24.01409824083091,
        -1.231739572450155, 0.1208650973866179e-2, -0.5395239384953e-5];
      let y = x, tmp = x + 5.5;
      tmp -= (x + 0.5) * Math.log(tmp);
      let ser = 1.000000000190015;
      for (let j = 0; j < 6; j++) ser += c[j] / ++y;
      return -tmp + Math.log(2.5066282746310005 * ser / x);
    }

    function tQuantile(p, df) {
      if (p <= 0) return -Infinity;
      if (p >= 1) return Infinity;
      if (df <= 0) return NaN;
      let lo = -10, hi = 10;
      for (let i = 0; i < 100; i++) {
        const mid = (lo + hi) / 2;
        if (tCDF(mid, df) < p) lo = mid;
        else hi = mid;
      }
      return (lo + hi) / 2;
    }

    function chiSquareCDF(x, df) {
      if (x <= 0) return 0;
      return regularizedGammaP(df / 2, x / 2);
    }

    function regularizedGammaP(a, x) {
      if (x < 0 || a <= 0) return NaN;
      if (x === 0) return 0;
      if (x < a + 1) {
        let sum = 1 / a, term = sum;
        for (let n = 1; n < 100; n++) {
          term *= x / (a + n);
          sum += term;
          if (Math.abs(term) < 1e-10) break;
        }
        return sum * Math.exp(-x + a * Math.log(x) - logGamma(a));
      } else {
        let b = x + 1 - a, c = 1 / 1e-30, d = 1 / b, h = d;
        for (let i = 1; i < 100; i++) {
          const an = -i * (i - a);
          b += 2;
          d = an * d + b;
          if (Math.abs(d) < 1e-30) d = 1e-30;
          c = b + an / c;
          if (Math.abs(c) < 1e-30) c = 1e-30;
          d = 1 / d;
          const del = d * c;
          h *= del;
          if (Math.abs(del - 1) < 1e-10) break;
        }
        return 1 - Math.exp(-x + a * Math.log(x) - logGamma(a)) * h;
      }
    }

    function chiSquareQuantile(p, df) {
      if (p <= 0) return 0;
      if (p >= 1) return Infinity;
      let lo = 0, hi = df * 5 + 50;
      for (let i = 0; i < 100; i++) {
        const mid = (lo + hi) / 2;
        if (chiSquareCDF(mid, df) < p) lo = mid;
        else hi = mid;
      }
      return (lo + hi) / 2;
    }

    // ============================================================
    // TAU ESTIMATORS
    // ============================================================

    function calculateTau2DL(effects, ses) {
      const k = effects.length;
      if (k < 2) return 0;
      const variances = ses.map(se => se * se);
      const weights = variances.map(v => 1 / v);
      const totalWeight = weights.reduce((a, b) => a + b, 0);
      const meanEffect = effects.reduce((sum, e, i) => sum + e * weights[i], 0) / totalWeight;
      const q = effects.reduce((sum, e, i) => sum + weights[i] * (e - meanEffect) ** 2, 0);
      const c = totalWeight - weights.reduce((sum, w) => sum + w * w, 0) / totalWeight;
      return c > 0 ? Math.max(0, (q - (k - 1)) / c) : 0;
    }

    function calculateTau2REML(effects, ses, maxIter = 100, tol = 1e-6) {
      const k = effects.length;
      if (k < 2) return 0;
      const variances = ses.map(se => se * se);
      let tau2 = calculateTau2DL(effects, ses);
      for (let iter = 0; iter < maxIter; iter++) {
        const w = variances.map(v => 1 / (v + tau2));
        const sumW = w.reduce((a, b) => a + b, 0);
        const sumW2 = w.reduce((sum, wi) => sum + wi * wi, 0);
        const mu = effects.reduce((sum, e, i) => sum + e * w[i], 0) / sumW;
        const score = -0.5 * sumW2 / sumW + 0.5 * effects.reduce((sum, e, i) => sum + w[i] * w[i] * (e - mu) ** 2, 0);
        const info = 0.5 * (sumW2 - w.reduce((sum, wi) => sum + wi * wi * wi, 0) * 2 / sumW + sumW2 * sumW2 / (sumW * sumW));
        const delta = info > 0 ? score / info : 0;
        const newTau2 = Math.max(0, tau2 + delta);
        if (Math.abs(newTau2 - tau2) < tol) return newTau2;
        tau2 = newTau2;
      }
      return tau2;
    }

    function calculateTau2PM(effects, ses) {
      const n = effects.length;
      const variances = ses.map(se => se * se);
      let tau2 = 0.1;
      for (let iter = 0; iter < 100; iter++) {
        const weights = variances.map(v => 1 / (v + tau2));
        const sumW = weights.reduce((a, b) => a + b, 0);
        const meanEffect = effects.reduce((sum, e, i) => sum + e * weights[i], 0) / sumW;
        const Q = effects.reduce((sum, e, i) => sum + weights[i] * (e - meanEffect) ** 2, 0);
        if (Math.abs(Q - (n - 1)) < 0.0001) break;
        const dQ = -effects.reduce((sum, e, i) => sum + weights[i] * weights[i] * (e - meanEffect) ** 2, 0);
        tau2 = Math.max(0, tau2 - (Q - (n - 1)) / dQ);
      }
      return tau2;
    }

    function calculateTau2SJ(effects, ses) {
      const n = effects.length;
      const variances = ses.map(se => se * se);
      const meanEffect = effects.reduce((a, b) => a + b, 0) / n;
      let tau2 = effects.reduce((sum, e) => sum + (e - meanEffect) ** 2, 0) / (n - 1);
      const weights = variances.map(v => 1 / (v + tau2));
      const sumW = weights.reduce((a, b) => a + b, 0);
      const pooled = effects.reduce((sum, e, i) => sum + e * weights[i], 0) / sumW;
      tau2 = effects.reduce((sum, e, i) => sum + (e - pooled) ** 2 / (variances[i] + tau2), 0) / (n - 1);
      return Math.max(0, tau2);
    }

    function calculateTau2HE(effects, ses) {
      const n = effects.length;
      const variances = ses.map(se => se * se);
      const meanEffect = effects.reduce((a, b) => a + b, 0) / n;
      const S2 = effects.reduce((sum, e) => sum + (e - meanEffect) ** 2, 0) / (n - 1);
      const avgVar = variances.reduce((a, b) => a + b, 0) / n;
      return Math.max(0, S2 - avgVar);
    }

    function calculateTau2EB(effects, ses) {
      const n = effects.length;
      const variances = ses.map(se => se * se);
      let tau2 = calculateTau2DL(effects, ses);
      for (let iter = 0; iter < 20; iter++) {
        const weights = variances.map(v => 1 / (v + tau2));
        const sumW = weights.reduce((a, b) => a + b, 0);
        const mean = effects.reduce((sum, e, i) => sum + e * weights[i], 0) / sumW;
        const Q = effects.reduce((sum, e, i) => sum + weights[i] * (e - mean) ** 2, 0);
        const C = sumW - weights.reduce((sum, w) => sum + w * w, 0) / sumW;
        const newTau2 = Math.max(0, (Q - (n - 1)) / C);
        if (Math.abs(newTau2 - tau2) < 1e-8) break;
        tau2 = newTau2;
      }
      return tau2;
    }

    function calculateTau2ML(effects, ses, maxIter = 100, tol = 1e-6) {
      const k = effects.length;
      if (k < 2) return 0;
      const variances = ses.map(se => se * se);
      let tau2 = calculateTau2DL(effects, ses);
      for (let iter = 0; iter < maxIter; iter++) {
        const w = variances.map(v => 1 / (v + tau2));
        const sumW = w.reduce((a, b) => a + b, 0);
        const mu = effects.reduce((sum, e, i) => sum + e * w[i], 0) / sumW;
        const score = 0.5 * effects.reduce((sum, e, i) => sum + w[i] * w[i] * (e - mu) ** 2, 0) -
                      0.5 * w.reduce((sum, wi) => sum + wi, 0) + 0.5 * k;
        const sumW2 = w.reduce((sum, wi) => sum + wi * wi, 0);
        const info = 0.5 * sumW2;
        const delta = info > 0 ? score / info : 0;
        const newTau2 = Math.max(0, tau2 + delta);
        if (Math.abs(newTau2 - tau2) < tol) return newTau2;
        tau2 = newTau2;
      }
      return tau2;
    }

    function calculateTau2HS(effects, ses) {
      const k = effects.length;
      if (k < 2) return 0;
      const variances = ses.map(se => se * se);
      const meanEffect = effects.reduce((a, b) => a + b, 0) / k;
      const totalVariance = effects.reduce((sum, e) => sum + (e - meanEffect) ** 2, 0) / k;
      const avgSamplingVar = variances.reduce((a, b) => a + b, 0) / k;
      return Math.max(0, totalVariance - avgSamplingVar);
    }

    // ============================================================
    // MAIN META-ANALYSIS
    // ============================================================

    function calculateMetaAnalysis(studies, options = {}) {
      const settings = { tau2Estimator: 'DL', useHKSJ: true, confidenceLevel: 0.95, ...options };
      const k = studies.length;
      if (k === 0) return { error: 'No studies provided' };

      const isRatio = studies[0].isRatioMeasure !== false;
      const transformedEffects = studies.map(s => isRatio ? Math.log(s.effect) : s.effect);
      const ses = studies.map(s => {
        if (isRatio) return (Math.log(s.ciHi) - Math.log(s.ciLo)) / Z_95_CI_DIVISOR;
        return (s.ciHi - s.ciLo) / Z_95_CI_DIVISOR;
      });

      const fixedWeights = ses.map(se => 1 / (se * se));
      const totalFixedWeight = fixedWeights.reduce((a, b) => a + b, 0);
      const fixedEffect = transformedEffects.reduce((sum, e, i) => sum + e * fixedWeights[i], 0) / totalFixedWeight;
      const q = transformedEffects.reduce((sum, e, i) => sum + fixedWeights[i] * Math.pow(e - fixedEffect, 2), 0);
      const df = k - 1;
      const qPValue = df > 0 ? 1 - chiSquareCDF(q, df) : 1;
      const i2 = q > df ? Math.max(0, ((q - df) / q) * 100) : 0;
      const h2 = df > 0 ? q / df : 1;

      let tau2, tau2Method;
      const estimator = settings.tau2Estimator || 'DL';
      switch (estimator) {
        case 'REML': tau2 = calculateTau2REML(transformedEffects, ses); tau2Method = 'REML'; break;
        case 'PM': tau2 = calculateTau2PM(transformedEffects, ses); tau2Method = 'PM'; break;
        case 'SJ': tau2 = calculateTau2SJ(transformedEffects, ses); tau2Method = 'SJ'; break;
        case 'HE': tau2 = calculateTau2HE(transformedEffects, ses); tau2Method = 'HE'; break;
        case 'EB': tau2 = calculateTau2EB(transformedEffects, ses); tau2Method = 'EB'; break;
        case 'ML': tau2 = calculateTau2ML(transformedEffects, ses); tau2Method = 'ML'; break;
        case 'HS': tau2 = calculateTau2HS(transformedEffects, ses); tau2Method = 'HS'; break;
        default: tau2 = calculateTau2DL(transformedEffects, ses); tau2Method = 'DL';
      }

      const randomWeights = ses.map(se => 1 / (se * se + tau2));
      const totalRandomWeight = randomWeights.reduce((a, b) => a + b, 0);
      const normalizedWeights = randomWeights.map(w => w / totalRandomWeight);
      const randomEffect = transformedEffects.reduce((sum, e, i) => sum + e * randomWeights[i], 0) / totalRandomWeight;
      let randomSE = Math.sqrt(1 / totalRandomWeight);

      let useHKSJ = settings.useHKSJ && k >= 2;
      let hksjAdjustment = null;
      if (useHKSJ) {
        const qStar = transformedEffects.reduce((sum, e, i) => sum + randomWeights[i] * Math.pow(e - randomEffect, 2), 0);
        const hksjMultiplier = df > 0 ? qStar / df : 1;
        hksjAdjustment = { multiplier: hksjMultiplier, adjustedSE: randomSE * Math.sqrt(Math.max(1, hksjMultiplier)) };
      }

      let pooledCiLo, pooledCiHi, pValue, testMethod;
      if (useHKSJ && hksjAdjustment) {
        const tCrit = tQuantile(1 - (1 - settings.confidenceLevel) / 2, df);
        const effectSE = hksjAdjustment.adjustedSE;
        pooledCiLo = isRatio ? Math.exp(randomEffect - tCrit * effectSE) : randomEffect - tCrit * effectSE;
        pooledCiHi = isRatio ? Math.exp(randomEffect + tCrit * effectSE) : randomEffect + tCrit * effectSE;
        const tStat = randomEffect / effectSE;
        pValue = 2 * (1 - tCDF(Math.abs(tStat), df));
        testMethod = 'HKSJ (t-distribution)';
      } else {
        pooledCiLo = isRatio ? Math.exp(randomEffect - Z_95 * randomSE) : randomEffect - Z_95 * randomSE;
        pooledCiHi = isRatio ? Math.exp(randomEffect + Z_95 * randomSE) : randomEffect + Z_95 * randomSE;
        const z = randomEffect / randomSE;
        pValue = 2 * (1 - normalCDF(Math.abs(z)));
        testMethod = 'Wald (z-distribution)';
      }

      const pooledEffect = isRatio ? Math.exp(randomEffect) : randomEffect;

      const predictionInterval = tau2 > 0 && k >= 3 ? {
        lo: isRatio ? Math.exp(randomEffect - tQuantile(0.975, k - 2) * Math.sqrt(randomSE * randomSE + tau2)) : randomEffect - tQuantile(0.975, k - 2) * Math.sqrt(randomSE * randomSE + tau2),
        hi: isRatio ? Math.exp(randomEffect + tQuantile(0.975, k - 2) * Math.sqrt(randomSE * randomSE + tau2)) : randomEffect + tQuantile(0.975, k - 2) * Math.sqrt(randomSE * randomSE + tau2)
      } : null;

      return {
        pooledEffect, pooledCiLo, pooledCiHi, pValue,
        i2, h2, q, qPValue, tau2, tau2Method,
        k, weights: normalizedWeights, isRatio,
        testMethod, hksjAdjustment, predictionInterval,
        transformedEffects, ses,
        fixedEffect: isRatio ? Math.exp(fixedEffect) : fixedEffect,
        fixedSE: Math.sqrt(1 / totalFixedWeight)
      };
    }

    // ============================================================
    // FOREST PLOT
    // ============================================================

    function generateForestPlotHTML(studies, meta) {
      const allEffects = [...studies.map(s => s.effect), meta.pooledEffect];
      const allLo = [...studies.map(s => s.ciLo), meta.pooledCiLo];
      const allHi = [...studies.map(s => s.ciHi), meta.pooledCiHi];

      const minEffect = Math.min(...allLo, 0.5);
      const maxEffect = Math.max(...allHi, 2.0);
      const range = maxEffect - minEffect;

      const scale = (val) => ((val - minEffect) / range) * 350 + 50;
      const height = (studies.length + 2) * 28 + 40;

      return `
        <svg viewBox="0 0 550 ${height}" style="width: 100%; height: ${height}px; font-family: 'Source Sans Pro', sans-serif;">
          <line x1="${scale(1)}" y1="15" x2="${scale(1)}" y2="${height - 25}" stroke="#ddd" stroke-width="1.5" stroke-dasharray="4" />
          <line x1="50" y1="${height - 25}" x2="400" y2="${height - 25}" stroke="#333" />
          <text x="${scale(0.5)}" y="${height - 8}" font-size="9" text-anchor="middle" fill="#666">0.5</text>
          <text x="${scale(1)}" y="${height - 8}" font-size="9" text-anchor="middle" fill="#666">1.0</text>
          <text x="${scale(1.5)}" y="${height - 8}" font-size="9" text-anchor="middle" fill="#666">1.5</text>
          <text x="${scale(2)}" y="${height - 8}" font-size="9" text-anchor="middle" fill="#666">2.0</text>
          ${studies.map((s, i) => {
            const y = 25 + i * 28;
            const size = Math.max(4, Math.sqrt(meta.weights[i]) * 12);
            return `
              <text x="5" y="${y + 4}" font-size="9" fill="#333">${s.label || 'Study ' + (i+1)}</text>
              <line x1="${scale(s.ciLo)}" y1="${y}" x2="${scale(s.ciHi)}" y2="${y}" stroke="#1E2761" stroke-width="1.5" />
              <rect x="${scale(s.effect) - size/2}" y="${y - size/2}" width="${size}" height="${size}" fill="#1E2761" />
              <text x="420" y="${y + 4}" font-size="8" fill="#333">${s.effect.toFixed(2)} [${s.ciLo.toFixed(2)}, ${s.ciHi.toFixed(2)}]</text>
            `;
          }).join('')}
          <polygon points="
            ${scale(meta.pooledEffect)},${25 + studies.length * 28 - 7}
            ${scale(meta.pooledCiLo)},${25 + studies.length * 28}
            ${scale(meta.pooledEffect)},${25 + studies.length * 28 + 7}
            ${scale(meta.pooledCiHi)},${25 + studies.length * 28}
          " fill="#D4AF37" />
          <text x="5" y="${25 + studies.length * 28 + 4}" font-size="9" font-weight="bold" fill="#333">Pooled</text>
          <text x="420" y="${25 + studies.length * 28 + 4}" font-size="8" font-weight="bold" fill="#333">${meta.pooledEffect.toFixed(2)} [${meta.pooledCiLo.toFixed(2)}, ${meta.pooledCiHi.toFixed(2)}]</text>
          <text x="${scale(0.7)}" y="${height - 2}" font-size="8" fill="#22c55e">Favors Treatment</text>
          <text x="${scale(1.3)}" y="${height - 2}" font-size="8" fill="#C53030">Favors Control</text>
        </svg>
      `;
    }

    // ============================================================
    // MODULE NAVIGATION
    // ============================================================

    const modules = [
      { id: 0, title: 'L\'Ouverture', subtitle: 'Pourquoi la mta-analyse existe', slides: 10 },
      { id: 1, title: 'La Question', subtitle: 'CAST: Cadre PICO', slides: 16 },
      { id: 2, title: 'Le Protocole', subtitle: 'THS: Pr-spcification', slides: 10 },
      { id: 3, title: 'La Recherche', subtitle: 'Rosiglitazone: Littrature grise', slides: 4 },
      { id: 4, title: 'Le Criblage', subtitle: 'Vioxx: PRISMA', slides: 7 },
      { id: 5, title: 'L\'Extraction', subtitle: 'DECREASE: Provenance', slides: 8 },
      { id: 6, title: 'Le Biais', subtitle: 'Aprotinine: RoB 2.0 + ROBINS-I', slides: 10 },
      { id: 7, title: 'La Synthse', subtitle: 'Magnsium: Forest plots', slides: 8 },
      { id: 8, title: 'L\'Htrognit', subtitle: 'ACCORD: I, ICEMAN & Mta-rgression', slides: 15 },
      { id: 9, title: 'Les tudes Caches', subtitle: 'Rboxtine: Funnel plots', slides: 6 },
      { id: 10, title: 'La Certitude', subtitle: 'Surfactant: GRADE', slides: 7 },
      { id: 11, title: 'La Revue Vivante', subtitle: 'COVID-19: TSA', slides: 6 },
      { id: 12, title: 'Mthodes Avances', subtitle: 'NMA, DTA, Dose-rponse', slides: 9 },
      { id: 13, title: 'Le Tournant Baysien', subtitle: 'STAMPEDE: A priori & a posteriori', slides: 16 },
      { id: 14, title: 'Le Rseau', subtitle: 'Cipriani 2018: NMA & SUCRA', slides: 16 },
      { id: 15, title: 'L\'Individu', subtitle: 'EBCTCG: Mta-analyse IPD', slides: 14 },
      { id: 16, title: 'La Dose', subtitle: 'Alcool: Courbe en J & splines', slides: 14 },
      { id: 17, title: 'La Fragilit', subtitle: 'Oseltamivir: IF & GOSH', slides: 14 },
      { id: 18, title: 'L\'quit', subtitle: 'SPRINT: PROGRESS-Plus', slides: 14 },
      { id: 19, title: 'La Machine', subtitle: 'Cochrane COVID: IA & criblage', slides: 15 },
      { id: 20, title: 'Le Qualitatif', subtitle: 'Bohren 2015: CERQual', slides: 13 },
      { id: 21, title: 'Le Multivari', subtitle: 'RVE & modles  3 niveaux', slides: 14 },
      { id: 22, title: 'La Preuve', subtitle: 'Reinhart-Rogoff: Reproductibilit', slides: 16 },
      { id: 23, title: 'Synthse', subtitle: 'Votre premier Meta-Sprint', slides: 13 },
      { id: 24, title: 'Examen Final', subtitle: 'valuation sommative', slides: 5 }
    ];

    let currentModule = 0;
    let currentSlide = 0;

    // ============================================================
    // TIER SYSTEM
    // ============================================================
    function setTier(tier) {
      document.body.classList.remove('tier-foundation', 'tier-researcher', 'tier-methodologist');
      if (tier !== 'foundation') {
        document.body.classList.add('tier-' + tier);
      }
      document.querySelectorAll('.tier-btn').forEach(btn => {
        const isActive = btn.getAttribute('data-tier') === tier;
        btn.classList.toggle('active', isActive);
        btn.setAttribute('aria-checked', isActive ? 'true' : 'false');
      });
      // Re-render slide display to account for newly visible/hidden slides
      const moduleEl = document.querySelector('.module-slides[data-module="' + currentModule + '"]');
      if (moduleEl) updateSlideDisplay(moduleEl);
      localStorage.setItem('synthCourseTier', tier);
    }

    // Restore tier from localStorage on load
    (function() {
      const saved = localStorage.getItem('synthCourseTier');
      if (saved && saved !== 'foundation') {
        document.body.classList.add('tier-' + saved);
        // Defer button state until DOM ready
        document.addEventListener('DOMContentLoaded', function() {
          document.querySelectorAll('.tier-btn').forEach(btn => {
            const isActive = btn.getAttribute('data-tier') === saved;
            btn.classList.toggle('active', isActive);
            btn.setAttribute('aria-checked', isActive ? 'true' : 'false');
          });
        });
      }
    })();

    // --- Tool 1: Bayesian Posterior Visualizer (Module 13) ---
    function updateBayesianPosterior() {
      const strengthVal = parseInt(document.getElementById('priorStrengthSlider').value);
      const meanVal = parseInt(document.getElementById('priorMeanSlider').value) / 100;
      const priorSD = Math.max(0.1, 10 - strengthVal * 0.098);
      const labels = ['Vague', 'Vague', 'Weak', 'Weak', 'Moderate', 'Moderate', 'Informative', 'Informative', 'Strong', 'Strong', 'Very Strong'];
      document.getElementById('priorStrengthLabel').textContent = labels[Math.min(10, Math.floor(strengthVal / 10))];
      document.getElementById('priorMeanLabel').textContent = meanVal.toFixed(2);

      // Data likelihood: centered at observed log-OR = -0.47 (STAMPEDE HR 0.63), SE = 0.10
      const dataM = -0.47, dataSE = 0.10;
      const dataPrec = 1 / (dataSE * dataSE);
      const priorPrec = 1 / (priorSD * priorSD);
      const postPrec = dataPrec + priorPrec;
      const postM = (dataM * dataPrec + meanVal * priorPrec) / postPrec;
      const postSD = Math.sqrt(1 / postPrec);

      const w = 500, h = 220, pad = 40;
      const xMin = -2, xMax = 2, steps = 200;
      function gauss(x, m, s) { return Math.exp(-0.5 * ((x - m) / s) ** 2) / (s * Math.sqrt(2 * Math.PI)); }
      function pathData(m, s, color) {
        let pts = [];
        for (let i = 0; i <= steps; i++) {
          const x = xMin + (xMax - xMin) * i / steps;
          const px = pad + (x - xMin) / (xMax - xMin) * (w - 2 * pad);
          const py = h - pad - gauss(x, m, s) / gauss(m, m, s) * (h - 2 * pad);
          pts.push(`${i === 0 ? 'M' : 'L'}${px.toFixed(1)},${py.toFixed(1)}`);
        }
        return `<path d="${pts.join(' ')}" fill="none" stroke="${color}" stroke-width="2.5"/>`;
      }

      let svg = `<svg viewBox="0 0 ${w} ${h}" style="width:100%;height:auto;font-family:sans-serif;">`;
      svg += `<line x1="${pad}" y1="${h-pad}" x2="${w-pad}" y2="${h-pad}" stroke="#ccc"/>`;
      // Zero line
      const zx = pad + (0 - xMin) / (xMax - xMin) * (w - 2 * pad);
      svg += `<line x1="${zx}" y1="${pad}" x2="${zx}" y2="${h-pad}" stroke="#aaa" stroke-dasharray="4"/>`;
      svg += `<text x="${zx}" y="${h-pad+15}" text-anchor="middle" font-size="10" fill="#666">0</text>`;
      // Labels
      svg += `<text x="${pad}" y="${h-pad+15}" text-anchor="middle" font-size="10" fill="#666">${xMin}</text>`;
      svg += `<text x="${w-pad}" y="${h-pad+15}" text-anchor="middle" font-size="10" fill="#666">${xMax}</text>`;
      svg += `<text x="${w/2}" y="${h-5}" text-anchor="middle" font-size="11" fill="#666">log-OR</text>`;
      // Curves
      svg += pathData(meanVal, priorSD, '#3b82f6');
      svg += pathData(dataM, dataSE, '#22c55e');
      svg += pathData(postM, postSD, '#D4AF37');
      // Legend
      svg += `<circle cx="${pad+10}" cy="15" r="5" fill="#3b82f6"/><text x="${pad+20}" y="19" font-size="10" fill="#333">A priori</text>`;
      svg += `<circle cx="${pad+70}" cy="15" r="5" fill="#22c55e"/><text x="${pad+80}" y="19" font-size="10" fill="#333">Vraisemblance</text>`;
      svg += `<circle cx="${pad+160}" cy="15" r="5" fill="#D4AF37"/><text x="${pad+170}" y="19" font-size="10" fill="#333">A posteriori</text>`;
      // Posterior summary
      svg += `<text x="${w-pad}" y="35" text-anchor="end" font-size="10" fill="#333">Posterior: ${postM.toFixed(2)} [${(postM-1.96*postSD).toFixed(2)}, ${(postM+1.96*postSD).toFixed(2)}]</text>`;
      svg += '</svg>';
      document.getElementById('bayesianPlotArea').innerHTML = svg;
    }

    // --- Tool 2: NMA Network Graph (Module 14) ---
    function drawNMANetwork() {
      const area = document.getElementById('nmaNetworkArea');
      if (!area) return;
      // Simplified antidepressant network (12 key drugs)
      const drugs = [
        { name: 'Placebo', x: 250, y: 160 },
        { name: 'Fluoxetine', x: 120, y: 60 }, { name: 'Sertraline', x: 180, y: 40 },
        { name: 'Paroxetine', x: 310, y: 40 }, { name: 'Citalopram', x: 380, y: 60 },
        { name: 'Escitalopram', x: 420, y: 130 }, { name: 'Venlafaxine', x: 400, y: 220 },
        { name: 'Duloxetine', x: 330, y: 270 }, { name: 'Mirtazapine', x: 220, y: 280 },
        { name: 'Amitriptyline', x: 130, y: 260 }, { name: 'Bupropion', x: 70, y: 200 },
        { name: 'Agomelatine', x: 80, y: 130 }
      ];
      // Edges: [from, to, nStudies]
      const edges = [
        [0,1,35],[0,2,15],[0,3,22],[0,4,12],[0,5,18],[0,6,20],[0,7,10],[0,8,14],[0,9,8],
        [1,2,5],[1,3,8],[1,6,12],[1,8,4],[2,3,3],[2,6,6],[3,6,7],[4,5,6],
        [5,6,8],[6,7,5],[6,8,6],[8,9,3],[1,10,4],[0,10,7],[0,11,9],[5,11,3]
      ];
      const w = 500, h = 320;
      let svg = `<svg viewBox="0 0 ${w} ${h}" style="width:100%;height:auto;font-family:sans-serif;">`;
      // Edges
      edges.forEach(([a, b, n]) => {
        const d1 = drugs[a], d2 = drugs[b];
        const thick = Math.max(1, Math.min(6, n / 5));
        svg += `<line x1="${d1.x}" y1="${d1.y}" x2="${d2.x}" y2="${d2.y}" stroke="rgba(212,175,55,0.4)" stroke-width="${thick}"/>`;
      });
      // Nodes
      drugs.forEach((d, i) => {
        const r = i === 0 ? 18 : 12;
        const fill = i === 0 ? '#1E2761' : '#D4AF37';
        svg += `<circle cx="${d.x}" cy="${d.y}" r="${r}" fill="${fill}" stroke="white" stroke-width="1.5"/>`;
        svg += `<text x="${d.x}" y="${d.y + r + 12}" text-anchor="middle" font-size="8" fill="#333" font-weight="600">${d.name}</text>`;
      });
      svg += '</svg>';
      area.innerHTML = svg;
    }

    // --- Tool 3: GOSH Plot Generator (Module 17) ---
    // xoshiro128** PRNG for deterministic sampling
    function xoshiro128ss(seed) {
      let s = [seed, seed ^ 0x9E3779B9, seed ^ 0x6A09E667, seed ^ 0xBB67AE85];
      function rotl(x, k) { return ((x << k) | (x >>> (32 - k))) >>> 0; }
      function next() {
        const result = (rotl((s[1] * 5) >>> 0, 7) * 9) >>> 0;
        const t = (s[1] << 9) >>> 0;
        s[2] ^= s[0]; s[3] ^= s[1]; s[1] ^= s[2]; s[0] ^= s[3];
        s[2] ^= t; s[3] = rotl(s[3], 11);
        return result / 4294967296;
      }
      return next;
    }

    function generateGOSHPlot() {
      const area = document.getElementById('goshPlotArea');
      if (!area) return;
      // Example 8-study data (log-OR and SE)
      const studies = [
        { y: -0.5, se: 0.2 }, { y: -0.3, se: 0.15 }, { y: -0.1, se: 0.25 },
        { y: -0.4, se: 0.18 }, { y: 0.6, se: 0.3 }, { y: -0.35, se: 0.12 },
        { y: -0.2, se: 0.22 }, { y: -0.45, se: 0.16 }
      ];
      const k = studies.length;
      const rng = xoshiro128ss(42);
      const nSubsets = Math.min(2000, Math.pow(2, k) - 1);
      const points = [];

      for (let s = 0; s < nSubsets; s++) {
        // Random subset (at least 2 studies)
        let mask;
        do {
          mask = Math.floor(rng() * (Math.pow(2, k) - 1)) + 1;
        } while (mask.toString(2).split('').filter(c => c === '1').length < 2);

        const sub = studies.filter((_, i) => mask & (1 << i));
        // Fixed-effect pooled estimate + I
        const wSum = sub.reduce((a, s) => a + 1 / (s.se * s.se), 0);
        const pooled = sub.reduce((a, s) => a + s.y / (s.se * s.se), 0) / wSum;
        const Q = sub.reduce((a, s) => a + (s.y - pooled) ** 2 / (s.se * s.se), 0);
        const df = sub.length - 1;
        const I2 = Math.max(0, (Q - df) / Q * 100);
        points.push({ effect: pooled, I2 });
      }

      const w = 500, h = 280, pad = 50;
      const xMin = -1.2, xMax = 1.2, yMin = 0, yMax = 100;
      let svg = `<svg viewBox="0 0 ${w} ${h}" style="width:100%;height:auto;font-family:sans-serif;">`;
      // Axes
      svg += `<line x1="${pad}" y1="${h-pad}" x2="${w-pad}" y2="${h-pad}" stroke="#999"/>`;
      svg += `<line x1="${pad}" y1="${pad}" x2="${pad}" y2="${h-pad}" stroke="#999"/>`;
      svg += `<text x="${w/2}" y="${h-5}" text-anchor="middle" font-size="11" fill="#666">Effet pool\u00e9 (log-OR)</text>`;
      svg += `<text x="12" y="${h/2}" text-anchor="middle" font-size="11" fill="#666" transform="rotate(-90,12,${h/2})">I\u00b2 (%)</text>`;
      // Points
      points.forEach(p => {
        const px = pad + (p.effect - xMin) / (xMax - xMin) * (w - 2 * pad);
        const py = h - pad - (p.I2 - yMin) / (yMax - yMin) * (h - 2 * pad);
        svg += `<circle cx="${px.toFixed(1)}" cy="${py.toFixed(1)}" r="2" fill="rgba(212,175,55,0.4)"/>`;
      });
      // Tick labels
      [-1, -0.5, 0, 0.5, 1].forEach(v => {
        const x = pad + (v - xMin) / (xMax - xMin) * (w - 2 * pad);
        svg += `<text x="${x}" y="${h-pad+15}" text-anchor="middle" font-size="9" fill="#999">${v}</text>`;
      });
      [0, 25, 50, 75, 100].forEach(v => {
        const y = h - pad - v / 100 * (h - 2 * pad);
        svg += `<text x="${pad-5}" y="${y+3}" text-anchor="end" font-size="9" fill="#999">${v}</text>`;
      });
      svg += '</svg>';
      area.innerHTML = svg;
    }

    // --- Tool 4: Contour-Enhanced Diagramme en entonnoir (Module 17) ---
    function generateContourFunnel() {
      const area = document.getElementById('contourFunnelArea');
      if (!area) return;
      // Reuse magnesium-like data
      const studies = [
        {y: -0.5, se: 0.20}, {y: -0.3, se: 0.15}, {y: -0.1, se: 0.25},
        {y: -0.4, se: 0.18}, {y: 0.6, se: 0.30}, {y: -0.35, se: 0.12},
        {y: -0.2, se: 0.22}, {y: -0.45, se: 0.16}, {y: -0.15, se: 0.28},
        {y: -0.55, se: 0.10}
      ];
      const w = 460, h = 300, pad = 50;
      const pooled = -0.28;
      const maxSE = 0.35;
      const xMin = -1.5, xMax = 1.0;
      function px(v) { return pad + (v - xMin) / (xMax - xMin) * (w - 2 * pad); }
      function py(se) { return pad + se / maxSE * (h - 2 * pad); }

      let svg = `<svg viewBox="0 0 ${w} ${h}" style="width:100%;height:auto;font-family:sans-serif;">`;
      // Contour regions (p-value regions)
      // Draw widest region first (p<0.10) so narrower regions layer on top
      const zVals = [1.645, 1.96, 2.576]; // p<0.10, p<0.05, p<0.01
      const colors = ['rgba(212,175,55,0.15)', 'rgba(59,130,246,0.15)', 'rgba(34,197,94,0.15)'];
      const labels = ['p<0.10', 'p<0.05', 'p<0.01'];
      for (let z = 0; z < zVals.length; z++) {
        // Left contour: effect = -z*SE (significant negative)
        let pts = `${px(0)},${py(0)}`;
        for (let se = 0; se <= maxSE; se += 0.01) {
          pts += ` ${px(-zVals[z] * se)},${py(se)}`;
        }
        pts += ` ${px(xMin)},${py(maxSE)} ${px(xMin)},${py(0)}`;
        svg += `<polygon points="${pts}" fill="${colors[z]}"/>`;
        // Right contour
        pts = `${px(0)},${py(0)}`;
        for (let se = 0; se <= maxSE; se += 0.01) {
          pts += ` ${px(zVals[z] * se)},${py(se)}`;
        }
        pts += ` ${px(xMax)},${py(maxSE)} ${px(xMax)},${py(0)}`;
        svg += `<polygon points="${pts}" fill="${colors[z]}"/>`;
      }
      // Pooled line
      svg += `<line x1="${px(pooled)}" y1="${py(0)}" x2="${px(pooled)}" y2="${py(maxSE)}" stroke="#D4AF37" stroke-width="2"/>`;
      // Null line
      svg += `<line x1="${px(0)}" y1="${py(0)}" x2="${px(0)}" y2="${py(maxSE)}" stroke="#999" stroke-dasharray="4"/>`;
      // Studies
      studies.forEach(s => {
        svg += `<circle cx="${px(s.y)}" cy="${py(s.se)}" r="5" fill="#1E2761" stroke="white" stroke-width="1"/>`;
      });
      // Legend
      svg += `<text x="${w-pad}" y="15" text-anchor="end" font-size="9" fill="#22c55e">p&lt;0.01</text>`;
      svg += `<text x="${w-pad}" y="28" text-anchor="end" font-size="9" fill="#3b82f6">p&lt;0.05</text>`;
      svg += `<text x="${w-pad}" y="41" text-anchor="end" font-size="9" fill="#D4AF37">p&lt;0.10</text>`;
      // Axes
      svg += `<line x1="${pad}" y1="${py(0)}" x2="${w-pad}" y2="${py(0)}" stroke="#999"/>`;
      svg += `<line x1="${pad}" y1="${py(0)}" x2="${pad}" y2="${py(maxSE)}" stroke="#999"/>`;
      svg += `<text x="${w/2}" y="${h-5}" text-anchor="middle" font-size="11" fill="#666">Taille d'effet</text>`;
      svg += `<text x="12" y="${h/2}" text-anchor="middle" font-size="11" fill="#666" transform="rotate(-90,12,${h/2})">Erreur type</text>`;
      svg += '</svg>';
      area.innerHTML = svg;
    }

    // --- Tool 5: Fragility Index Calculator (Module 17) ---
    function calculateFragilityIndex() {
      let eTx = parseInt(document.getElementById('fi-eventsTx').value) || 0;
      let nTx = parseInt(document.getElementById('fi-nTx').value) || 0;
      let eCtrl = parseInt(document.getElementById('fi-eventsCtrl').value) || 0;
      let nCtrl = parseInt(document.getElementById('fi-nCtrl').value) || 0;
      if (nTx <= 0 || nCtrl <= 0 || eTx < 0 || eCtrl < 0) {
        document.getElementById('fragilityResult').innerHTML = '<p style="color:#C53030;">Veuillez entrer des nombres positifs valides.</p>';
        document.getElementById('fragilityResult').style.display = 'block';
        return;
      }
      // Fisher's exact test approximation using chi-squared
      function pValue(a, b, c, d) {
        const n = a + b + c + d;
        const e = (a * d - b * c);
        const chi2 = n * e * e / ((a + b) * (c + d) * (a + c) * (b + d));
        // Approximate p from chi2 with 1 df using normal
        const z = Math.sqrt(chi2);
        return 2 * (1 - normalCDF(z));
      }
      function normalCDF(x) {
        const t = 1 / (1 + 0.2316419 * Math.abs(x));
        const d = 0.3989422804 * Math.exp(-x * x / 2);
        const p = d * t * (0.3193815 + t * (-0.3565638 + t * (1.781478 + t * (-1.821256 + t * 1.330274))));
        return x > 0 ? 1 - p : p;
      }
      let fi = 0;
      let a = eTx, b = nTx - eTx, c = eCtrl, d = nCtrl - eCtrl;
      let p = pValue(a, b, c, d);
      if (p >= 0.05) {
        document.getElementById('fragilityResult').innerHTML = '<p>Le r\u00e9sultat est d\u00e9j\u00e0 non-significatif (p = ' + p.toFixed(4) + '). Indice de fragilit\u00e9 = 0.</p>';
        document.getElementById('fragilityResult').style.display = 'block';
        return;
      }
      // Iteratively add events to treatment arm (convert non-events to events)
      while (p < 0.05 && fi < 500 && a < nTx) {
        a++;
        b = nTx - a;
        p = pValue(a, b, c, d);
        fi++;
      }
      const res = document.getElementById('fragilityResult');
      res.innerHTML = `
        <p style="font-weight:600; font-size:1.2rem; color:var(--navy);">Indice de fragilit\u00e9 = ${fi}</p>
        <p style="margin-top:0.5rem;">Changer <strong>${fi}</strong> \u00e9v\u00e9nement${fi !== 1 ? 's' : ''} fait basculer p de significatif \u00e0 ${p.toFixed(4)}.</p>
        <p style="margin-top:0.5rem; color:${fi <= 3 ? '#C53030' : fi <= 8 ? '#D4AF37' : '#22c55e'}; font-weight:600;">
          ${fi <= 3 ? 'R\u00e9sultat tr\u00e8s fragile' : fi <= 8 ? 'Mod\u00e9r\u00e9ment fragile' : 'Raisonnablement robuste'}
        </p>
      `;
      res.style.display = 'block';
    }

    // --- Tool 6: Dose-Response Curve Builder (Module 16) ---
    let currentDoseModel = 'spline';
    function setDoseModel(model) {
      currentDoseModel = model;
      ['linear', 'quadratic', 'spline'].forEach(m => {
        const btn = document.getElementById('doseBtn-' + m);
        if (btn) { btn.classList.toggle('primary', m === model); }
      });
      drawDoseResponse();
    }
    function drawDoseResponse() {
      const area = document.getElementById('doseResponsePlotArea');
      if (!area) return;
      // Simulated dose-response data (drinks/week vs log-RR)
      const data = [
        {dose: 0, rr: 0, lo: 0, hi: 0},
        {dose: 3, rr: -0.05, lo: -0.15, hi: 0.05},
        {dose: 7, rr: 0.02, lo: -0.08, hi: 0.12},
        {dose: 14, rr: 0.15, lo: 0.03, hi: 0.27},
        {dose: 21, rr: 0.35, lo: 0.18, hi: 0.52},
        {dose: 28, rr: 0.55, lo: 0.30, hi: 0.80}
      ];
      const w = 480, h = 240, pad = 50;
      const maxDose = 30, yMin = -0.3, yMax = 0.9;
      function px(d) { return pad + d / maxDose * (w - 2 * pad); }
      function py(v) { return h - pad - (v - yMin) / (yMax - yMin) * (h - 2 * pad); }

      let svg = `<svg viewBox="0 0 ${w} ${h}" style="width:100%;height:auto;font-family:sans-serif;">`;
      // Reference line at 0
      svg += `<line x1="${pad}" y1="${py(0)}" x2="${w-pad}" y2="${py(0)}" stroke="#aaa" stroke-dasharray="4"/>`;
      // CI shading
      let ciPath = `M${px(data[0].dose)},${py(data[0].hi)}`;
      data.forEach(d => { ciPath += ` L${px(d.dose)},${py(d.hi)}`; });
      for (let i = data.length - 1; i >= 0; i--) { ciPath += ` L${px(data[i].dose)},${py(data[i].lo)}`; }
      ciPath += 'Z';
      svg += `<path d="${ciPath}" fill="rgba(212,175,55,0.15)"/>`;

      // Model curve
      let curvePts = [];
      for (let d = 0; d <= maxDose; d += 0.5) {
        let val;
        if (currentDoseModel === 'linear') {
          val = 0.019 * d;
        } else if (currentDoseModel === 'quadratic') {
          val = -0.005 * d + 0.0009 * d * d;
        } else { // spline
          // Simulate a J-curve effect
          if (d <= 5) val = -0.01 * d;
          else if (d <= 15) val = -0.05 + 0.02 * (d - 5);
          else val = 0.15 + 0.025 * (d - 15);
        }
        curvePts.push(`${px(d).toFixed(1)},${py(val).toFixed(1)}`);
      }
      svg += `<polyline points="${curvePts.join(' ')}" fill="none" stroke="#D4AF37" stroke-width="2.5"/>`;

      // Data points
      data.forEach(d => {
        svg += `<circle cx="${px(d.dose)}" cy="${py(d.rr)}" r="5" fill="#1E2761" stroke="white" stroke-width="1"/>`;
        svg += `<line x1="${px(d.dose)}" y1="${py(d.lo)}" x2="${px(d.dose)}" y2="${py(d.hi)}" stroke="#1E2761" stroke-width="1"/>`;
      });
      // Axes + labels
      svg += `<line x1="${pad}" y1="${h-pad}" x2="${w-pad}" y2="${h-pad}" stroke="#999"/>`;
      svg += `<line x1="${pad}" y1="${pad}" x2="${pad}" y2="${h-pad}" stroke="#999"/>`;
      svg += `<text x="${w/2}" y="${h-5}" text-anchor="middle" font-size="11" fill="#666">Dose (verres/semaine)</text>`;
      svg += `<text x="12" y="${h/2}" text-anchor="middle" font-size="11" fill="#666" transform="rotate(-90,12,${h/2})">log-RR</text>`;
      svg += `<text x="${w-pad}" y="20" text-anchor="end" font-size="11" fill="#D4AF37" font-weight="600">${currentDoseModel.charAt(0).toUpperCase() + currentDoseModel.slice(1)} mod\u00e8le</text>`;
      svg += '</svg>';
      area.innerHTML = svg;
    }

    // --- Tool 7: CERQual Assessment Tool (Module 20) ---
    function initCERQualTool() {
      const container = document.getElementById('cerqualTool');
      if (!container) return;
      const components = [
        { id: 'meth', label: 'Limitations m\u00e9thodologiques', desc: 'Degr\u00e9 de probl\u00e8mes avec la conception/conduite des \u00e9tudes contributrices' },
        { id: 'cohe', label: 'Coh\u00e9rence', desc: 'Avec quelle clart\u00e9 et coh\u00e9rence les donn\u00e9es soutiennent le r\u00e9sultat' },
        { id: 'adeq', label: 'Ad\u00e9quation', desc: 'Degr\u00e9 de richesse et quantit\u00e9 de donn\u00e9es soutenant le r\u00e9sultat' },
        { id: 'relv', label: 'Pertinence', desc: 'Mesure dans laquelle les \u00e9tudes contributrices s\u2019appliquent au contexte de la revue' }
      ];
      const levels = ['Aucune pr\u00e9occupation', 'Pr\u00e9occupations mineures', 'Pr\u00e9occupations mod\u00e9r\u00e9es', 'Pr\u00e9occupations s\u00e9rieuses'];
      let html = '';
      components.forEach(c => {
        html += `<div style="margin-bottom:0.75rem; padding:0.75rem; background:white; border-radius:6px; border:1px solid #e2e8f0;">
          <div style="font-weight:600; margin-bottom:0.25rem;">${c.label}</div>
          <div style="font-size:0.8rem; color:#718096; margin-bottom:0.5rem;">${c.desc}</div>
          <select id="cerqual-${c.id}" onchange="updateCERQual()" style="width:100%; padding:0.3rem; border:1px solid #ccc; border-radius:4px;">
            ${levels.map((l, i) => `<option value="${i}">${l}</option>`).join('')}
          </select>
        </div>`;
      });
      html += '<div id="cerqualResult" style="margin-top:0.75rem; padding:0.75rem; background:rgba(212,175,55,0.1); border-radius:6px;"></div>';
      container.innerHTML = html;
      updateCERQual();
    }
    function updateCERQual() {
      const ids = ['meth', 'cohe', 'adeq', 'relv'];
      const total = ids.reduce((s, id) => s + parseInt(document.getElementById('cerqual-' + id)?.value || 0), 0);
      const levels = ['High', 'Moderate', 'Low', 'Very Low'];
      const colors = ['#22c55e', '#D4AF37', '#f59e0b', '#C53030'];
      const idx = Math.min(3, Math.floor(total / 2));
      const res = document.getElementById('cerqualResult');
      if (res) res.innerHTML = `<p style="font-weight:600; color:${colors[idx]}; font-size:1.1rem;">Confiance globale: ${levels[idx]}</p>
        <p style="font-size:0.85rem; margin-top:0.25rem;">Score total de pr\u00e9occupation: ${total}/12</p>`;
    }

    // --- Tool 8: Reproducibility Checklist (Module 22) ---
    function initReproChecklist() {
      const container = document.getElementById('reproChecklist');
      if (!container) return;
      const items = [
        'Strat\u00e9gie de recherche enti\u00e8rement rapport\u00e9e et reproductible',
        'Tableau de donn\u00e9es extraites disponible (suppl\u00e9ment ou d\u00e9p\u00f4t)',
        'Code/script d\u2019analyse partag\u00e9 (R, Python, ou \u00e9quivalent)',
        'Version du logiciel et packages document\u00e9s',
        'Graine al\u00e9atoire sp\u00e9cifi\u00e9e pour les analyses stochastiques',
        'Analyses de sensibilit\u00e9 pr\u00e9-sp\u00e9cifi\u00e9es dans le protocole',
        'Liste de contr\u00f4le PRISMA compl\u00e9t\u00e9e et soumise',
        'Donn\u00e9es disponibles en format lisible par machine (CSV/JSON)'
      ];
      container.innerHTML = items.map((item, i) =>
        `<label style="display:flex; align-items:center; gap:0.5rem; padding:0.5rem 0; border-bottom:1px solid #e2e8f0; cursor:pointer;">
          <input type="checkbox" id="repro-${i}" onchange="updateReproScore()" style="width:18px;height:18px;accent-color:#D4AF37;">
          <span style="font-size:0.9rem;">${item}</span>
        </label>`
      ).join('');
      updateReproScore();
    }
    function updateReproScore() {
      const total = 8;
      let checked = 0;
      for (let i = 0; i < total; i++) {
        if (document.getElementById('repro-' + i)?.checked) checked++;
      }
      const pct = Math.round(checked / total * 100);
      const color = pct >= 75 ? '#22c55e' : pct >= 50 ? '#D4AF37' : '#C53030';
      const label = pct >= 75 ? 'Bonne reproductibilit\u00e9' : pct >= 50 ? 'Acceptable' : 'Faible';
      const res = document.getElementById('reproScore');
      if (res) {
        res.innerHTML = `
          <div style="background:#e2e8f0; border-radius:4px; height:12px; margin-bottom:0.5rem;">
            <div style="background:${color}; height:100%; border-radius:4px; width:${pct}%; transition:width 0.3s;"></div>
          </div>
          <p style="font-weight:600; color:${color};">${label} (${checked}/${total} = ${pct}%)</p>
        `;
      }
    }

    // Initialize tools when modules are first visited
    function initAdvancedTools() {
      // Run once on first visit to these modules
      if (document.getElementById('bayesianPlotArea') && !document.getElementById('bayesianPlotArea').innerHTML) {
        updateBayesianPosterior();
      }
      if (document.getElementById('nmaNetworkArea') && !document.getElementById('nmaNetworkArea').innerHTML) {
        drawNMANetwork();
      }
      if (document.getElementById('doseResponsePlotArea') && !document.getElementById('doseResponsePlotArea').innerHTML) {
        drawDoseResponse();
      }
      if (document.getElementById('reproChecklist') && !document.getElementById('reproChecklist').innerHTML) {
        initReproChecklist();
      }
    }

    function initModuleList() {
      const list = document.getElementById('moduleList');
      list.innerHTML = modules.map(m => `
        <div class="module-item ${m.id === currentModule ? 'active' : ''}" data-module="${m.id}" onclick="goToModule(${m.id})">
          <div class="module-number">${m.id}</div>
          <div class="module-info">
            <div class="module-title">${m.title}</div>
            <div class="module-subtitle">${m.subtitle}</div>
          </div>
        </div>
      `).join('');
    }

    function goToModule(moduleId) {
      // Hide current module
      document.querySelectorAll('.module-slides').forEach(m => m.classList.remove('active'));
      document.querySelectorAll('.module-item').forEach(m => m.classList.remove('active'));

      // Show new module
      currentModule = moduleId;
      currentSlide = 0;
      const moduleEl = document.querySelector(`.module-slides[data-module="${moduleId}"]`);
      if (moduleEl) {
        moduleEl.classList.add('active');
        setTimeout(function() { if (typeof initAdvancedTools === 'function') initAdvancedTools(); }, 100);
        updateSlideDisplay(moduleEl);
      }
      document.querySelector(`.module-item[data-module="${moduleId}"]`).classList.add('active');

      // Update header
      document.getElementById('currentModuleNum').textContent = moduleId;
      const modObj = modules.find(m => m.id === moduleId);
      document.getElementById('currentModuleName').textContent = modObj ? modObj.title : '';

      // Update live story data panel
      updateStoryPanel(moduleId);

      // Show/hide story indicator button
      const storyBtn = document.getElementById('storyIndicatorBtn');
      if (storyData[moduleId]) {
        storyBtn.classList.add('visible');
      } else {
        storyBtn.classList.remove('visible');
      }

      updateProgress();
    }

    function updateSlideDisplay(moduleEl) {
      const slides = moduleEl.querySelectorAll('.slide');
      slides.forEach((s, i) => s.classList.toggle('active', i === currentSlide));

      // Update progress dots
      const progress = document.getElementById('progress');
      progress.innerHTML = Array.from({ length: slides.length }, (_, i) =>
        `<div class="progress-dot ${i === currentSlide ? 'active' : ''}" onclick="goToSlide(${i})" role="button" tabindex="0" aria-label="Go to slide ${i + 1}"></div>`
      ).join('');

      // Update counter
      document.getElementById('counter').textContent = `${currentSlide + 1} / ${slides.length}`;

      // Update buttons
      document.getElementById('prevBtn').disabled = currentSlide === 0;
      document.getElementById('nextBtn').disabled = currentSlide === slides.length - 1;

      // Announce slide change to screen readers
      const announcer = document.getElementById('slideAnnouncer');
      if (announcer) {
        announcer.textContent = `Slide ${currentSlide + 1} of ${slides.length}`;
      }
    }

    function goToSlide(index) {
      const moduleEl = document.querySelector(`.module-slides[data-module="${currentModule}"]`);
      const slides = moduleEl.querySelectorAll('.slide');
      if (index >= 0 && index < slides.length) {
        currentSlide = index;
        updateSlideDisplay(moduleEl);
      }
    }

    function nextSlide() {
      const moduleEl = document.querySelector(`.module-slides[data-module="${currentModule}"]`);
      const slides = moduleEl.querySelectorAll('.slide');
      if (currentSlide < slides.length - 1) {
        currentSlide++;
        updateSlideDisplay(moduleEl);
      }
    }

    function prevSlide() {
      if (currentSlide > 0) {
        currentSlide--;
        const moduleEl = document.querySelector(`.module-slides[data-module="${currentModule}"]`);
        updateSlideDisplay(moduleEl);
      }
    }

    function nextModule() {
      const idx = modules.findIndex(m => m.id === currentModule);
      if (idx >= 0 && idx < modules.length - 1) {
        goToModule(modules[idx + 1].id);
      }
    }

    function updateProgress() {
      const idx = modules.findIndex(m => m.id === currentModule);
      const percent = Math.round((Math.max(0, idx) / (modules.length - 1)) * 100);
      document.getElementById('progressPercent').textContent = percent + '%';
    }

    // ============================================================
    // TOOLS PANEL
    // ============================================================

    function toggleToolsPanel() {
      const panel = document.getElementById('toolsPanel');
      const contentBody = document.querySelector('.content-body');
      panel.classList.toggle('visible');
      contentBody.classList.toggle('tools-open');
    }

    function toggleSection(header) {
      const body = header.nextElementSibling;
      body.style.display = body.style.display === 'none' ? 'block' : 'none';
      header.querySelector('span').textContent = body.style.display === 'none' ? '' : '';
    }

    // ============================================================
    // EFFECT SIZE CALCULATOR
    // ============================================================

    function calculateEffectSize() {
      const type = document.getElementById('effectType').value;
      const eventsTx = parseFloat(document.getElementById('eventsTx').value);
      const nTx = parseFloat(document.getElementById('nTx').value);
      const eventsCtrl = parseFloat(document.getElementById('eventsCtrl').value);
      const nCtrl = parseFloat(document.getElementById('nCtrl').value);

      if (isNaN(eventsTx) || isNaN(nTx) || isNaN(eventsCtrl) || isNaN(nCtrl)) {
        alert('Please enter all values');
        return;
      }

      let effect, se, ciLo, ciHi;
      const cc = 0.5; // continuity correction

      if (type === 'OR') {
        const a = eventsTx + cc, b = nTx - eventsTx + cc;
        const c = eventsCtrl + cc, d = nCtrl - eventsCtrl + cc;
        const or = (a * d) / (b * c);
        se = Math.sqrt(1/a + 1/b + 1/c + 1/d);
        effect = or;
        ciLo = Math.exp(Math.log(or) - 1.96 * se);
        ciHi = Math.exp(Math.log(or) + 1.96 * se);
      } else if (type === 'RR') {
        const p1 = (eventsTx + cc) / (nTx + cc);
        const p2 = (eventsCtrl + cc) / (nCtrl + cc);
        const rr = p1 / p2;
        se = Math.sqrt((1 - p1) / (eventsTx + cc) + (1 - p2) / (eventsCtrl + cc));
        effect = rr;
        ciLo = Math.exp(Math.log(rr) - 1.96 * se);
        ciHi = Math.exp(Math.log(rr) + 1.96 * se);
      } else if (type === 'RD') {
        const p1 = eventsTx / nTx, p2 = eventsCtrl / nCtrl;
        effect = p1 - p2;
        se = Math.sqrt(p1 * (1 - p1) / nTx + p2 * (1 - p2) / nCtrl);
        ciLo = effect - 1.96 * se;
        ciHi = effect + 1.96 * se;
      }

      const resultsDiv = document.getElementById('effectResults');
      resultsDiv.style.display = 'block';
      resultsDiv.innerHTML = `
        <div class="result-row"><span class="label">Effect (${type}):</span><span class="value">${effect.toFixed(3)}</span></div>
        <div class="result-row"><span class="label">95% CI:</span><span class="value">[${ciLo.toFixed(3)}, ${ciHi.toFixed(3)}]</span></div>
        <div class="result-row"><span class="label">SE (log):</span><span class="value">${se.toFixed(4)}</span></div>
      `;
    }

    // ============================================================
    // META-ANALYSIS CALCULATOR UI
    // ============================================================

    function addStudyRow() {
      const tbody = document.getElementById('studyTableBody');
      const rowCount = tbody.rows.length + 1;
      const row = document.createElement('tr');
      row.innerHTML = `
        <td><input type="text" value="Study ${rowCount}"></td>
        <td><input type="number" step="0.01" value="1.00"></td>
        <td><input type="number" step="0.01" value="0.80"></td>
        <td><input type="number" step="0.01" value="1.25"></td>
        <td><button class="btn-small" onclick="removeStudyRow(this)"></button></td>
      `;
      tbody.appendChild(row);
    }

    function removeStudyRow(btn) {
      const row = btn.closest('tr');
      row.remove();
    }

    function runMetaAnalysis() {
      const rows = document.getElementById('studyTableBody').rows;
      const studies = [];

      for (const row of rows) {
        const inputs = row.querySelectorAll('input');
        const label = inputs[0].value;
        const effect = parseFloat(inputs[1].value);
        const ciLo = parseFloat(inputs[2].value);
        const ciHi = parseFloat(inputs[3].value);

        if (!isNaN(effect) && !isNaN(ciLo) && !isNaN(ciHi)) {
          studies.push({ label, effect, ciLo, ciHi, isRatioMeasure: true });
        }
      }

      if (studies.length < 2) {
        alert('Besoin d\'au moins 2 tudes');
        return;
      }

      const tau2Method = document.getElementById('tau2Method').value;
      const useHKSJ = document.getElementById('useHKSJ').checked;

      const result = calculateMetaAnalysis(studies, { tau2Estimator: tau2Method, useHKSJ });

      if (result.error) {
        alert(result.error);
        return;
      }

      // Display results
      const resultsDiv = document.getElementById('maResults');
      resultsDiv.style.display = 'block';
      resultsDiv.innerHTML = `
        <div class="result-row"><span class="label">Pooled Effect:</span><span class="value">${result.pooledEffect.toFixed(3)}</span></div>
        <div class="result-row"><span class="label">95% CI:</span><span class="value">[${result.pooledCiLo.toFixed(3)}, ${result.pooledCiHi.toFixed(3)}]</span></div>
        <div class="result-row"><span class="label">p-value:</span><span class="value">${result.pValue < 0.001 ? '< 0.001' : result.pValue.toFixed(4)}</span></div>
        <div class="result-row"><span class="label">I:</span><span class="value">${result.i2.toFixed(1)}%</span></div>
        <div class="result-row"><span class="label"> (${result.tau2Method}):</span><span class="value">${result.tau2.toFixed(4)}</span></div>
        <div class="result-row"><span class="label">Q (p-value):</span><span class="value">${result.q.toFixed(2)} (${result.qPValue.toFixed(4)})</span></div>
        <div class="result-row"><span class="label">Test method:</span><span class="value">${result.testMethod}</span></div>
        ${result.predictionInterval ? `<div class="result-row"><span class="label">95% PI:</span><span class="value">[${result.predictionInterval.lo.toFixed(3)}, ${result.predictionInterval.hi.toFixed(3)}]</span></div>` : ''}
      `;

      // Generate forest plot
      const plotContainer = document.getElementById('forestPlotContainer');
      plotContainer.style.display = 'block';
      plotContainer.innerHTML = generateForestPlotHTML(studies, result);
    }

    // ============================================================
    // PICO BUILDER
    // ============================================================

    function generatePICO() {
      const p = document.getElementById('picoP').value;
      const i = document.getElementById('picoI').value;
      const c = document.getElementById('picoC').value;
      const o = document.getElementById('picoO').value;

      if (!p || !i || !o) {
        alert('Please fill Population, Intervention, and Outcome');
        return;
      }

      const question = `In ${p}, does ${i} compared to ${c || 'standard care'} improve ${o}?`;

      const output = document.getElementById('picoOutput');
      output.style.display = 'block';
      output.innerHTML = `
        <strong>Research Question:</strong><br>
        <em>${question}</em>
      `;
    }

    // ============================================================
    // KEYBOARD NAVIGATION
    // ============================================================

    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight' || e.key === ' ') {
        e.preventDefault();
        nextSlide();
      } else if (e.key === 'ArrowLeft') {
        e.preventDefault();
        prevSlide();
      }
    });

    // ============================================================
    // PUBLICATION BIAS
    // ============================================================

    let lastMetaStudies = null;
    let lastMetaResult = null;

    // Override runMetaAnalysis to save data for publication bias
    const originalRunMA = runMetaAnalysis;
    runMetaAnalysis = function() {
      const rows = document.getElementById('studyTableBody').rows;
      const studies = [];
      for (const row of rows) {
        const inputs = row.querySelectorAll('input');
        const label = inputs[0].value;
        const effect = parseFloat(inputs[1].value);
        const ciLo = parseFloat(inputs[2].value);
        const ciHi = parseFloat(inputs[3].value);
        if (!isNaN(effect) && !isNaN(ciLo) && !isNaN(ciHi)) {
          studies.push({ label, effect, ciLo, ciHi, isRatioMeasure: true });
        }
      }
      lastMetaStudies = studies;

      const tau2Method = document.getElementById('tau2Method').value;
      const useHKSJ = document.getElementById('useHKSJ').checked;
      const result = calculateMetaAnalysis(studies, { tau2Estimator: tau2Method, useHKSJ });
      lastMetaResult = result;

      // Display results
      if (result.error) {
        alert(result.error);
        return;
      }
      const resultsDiv = document.getElementById('maResults');
      resultsDiv.style.display = 'block';
      resultsDiv.innerHTML = `
        <div class="result-row"><span class="label">Pooled Effect:</span><span class="value">${result.pooledEffect.toFixed(3)}</span></div>
        <div class="result-row"><span class="label">95% CI:</span><span class="value">[${result.pooledCiLo.toFixed(3)}, ${result.pooledCiHi.toFixed(3)}]</span></div>
        <div class="result-row"><span class="label">p-value:</span><span class="value">${result.pValue < 0.001 ? '< 0.001' : result.pValue.toFixed(4)}</span></div>
        <div class="result-row"><span class="label">I:</span><span class="value">${result.i2.toFixed(1)}%</span></div>
        <div class="result-row"><span class="label"> (${result.tau2Method}):</span><span class="value">${result.tau2.toFixed(4)}</span></div>
        <div class="result-row"><span class="label">Q (p-value):</span><span class="value">${result.q.toFixed(2)} (${result.qPValue.toFixed(4)})</span></div>
        <div class="result-row"><span class="label">Test method:</span><span class="value">${result.testMethod}</span></div>
        ${result.predictionInterval ? `<div class="result-row"><span class="label">95% PI:</span><span class="value">[${result.predictionInterval.lo.toFixed(3)}, ${result.predictionInterval.hi.toFixed(3)}]</span></div>` : ''}
      `;
      const plotContainer = document.getElementById('forestPlotContainer');
      plotContainer.style.display = 'block';
      plotContainer.innerHTML = generateForestPlotHTML(studies, result);
    };

    function calculateEggersTest(effects, ses) {
      const n = effects.length;
      if (n < 3) return { intercept: NaN, pValue: NaN, significant: false };
      const precision = ses.map(se => 1 / se);
      const standardizedEffects = effects.map((e, i) => e / ses[i]);
      const meanX = precision.reduce((a, b) => a + b, 0) / n;
      const meanY = standardizedEffects.reduce((a, b) => a + b, 0) / n;
      let ssXY = 0, ssXX = 0;
      for (let i = 0; i < n; i++) {
        ssXY += (precision[i] - meanX) * (standardizedEffects[i] - meanY);
        ssXX += (precision[i] - meanX) ** 2;
      }
      const slope = ssXX > 0 ? ssXY / ssXX : 0;
      const intercept = meanY - slope * meanX;
      let ssResid = 0;
      for (let i = 0; i < n; i++) {
        const predicted = intercept + slope * precision[i];
        ssResid += (standardizedEffects[i] - predicted) ** 2;
      }
      const residSE = Math.sqrt(ssResid / (n - 2));
      const interceptSE = residSE * Math.sqrt(1/n + meanX * meanX / ssXX);
      const tStat = intercept / interceptSE;
      const pValue = 2 * (1 - tCDF(Math.abs(tStat), n - 2));
      return { intercept, slope, tStat, pValue, significant: pValue < 0.1 };
    }

    function calculateBeggsTest(effects, ses) {
      const n = effects.length;
      if (n < 3) return { tau: NaN, pValue: NaN };
      const indices = effects.map((_, i) => i);
      const variances = ses.map(se => se * se);
      indices.sort((a, b) => variances[a] - variances[b]);
      const sortedEffects = indices.map(i => effects[i]);
      let concordant = 0, discordant = 0;
      for (let i = 0; i < n - 1; i++) {
        for (let j = i + 1; j < n; j++) {
          if (sortedEffects[j] > sortedEffects[i]) concordant++;
          else if (sortedEffects[j] < sortedEffects[i]) discordant++;
        }
      }
      const tau = (concordant - discordant) / (n * (n - 1) / 2);
      const se = Math.sqrt((2 * (2 * n + 5)) / (9 * n * (n - 1)));
      const z = tau / se;
      const pValue = 2 * (1 - normalCDF(Math.abs(z)));
      return { tau, z, pValue, significant: pValue < 0.1 };
    }

    function generateFunnelPlotHTML(effects, ses, pooledEffect) {
      const minEffect = Math.min(...effects) - 0.5;
      const maxEffect = Math.max(...effects) + 0.5;
      const maxSE = Math.max(...ses);
      const range = maxEffect - minEffect;

      const scaleX = (val) => ((val - minEffect) / range) * 300 + 25;
      const scaleY = (se) => (se / maxSE) * 180 + 20;

      const pooledX = scaleX(pooledEffect);

      return `
        <svg viewBox="0 0 350 220" style="width: 100%; height: 220px; font-family: 'Source Sans Pro', sans-serif;">
          <!-- Funnel shape -->
          <polygon points="${pooledX},20 ${scaleX(pooledEffect - 1.96 * maxSE)},200 ${scaleX(pooledEffect + 1.96 * maxSE)},200"
                   fill="rgba(30,39,97,0.1)" stroke="none"/>

          <!-- Axes -->
          <line x1="25" y1="200" x2="325" y2="200" stroke="#333" />
          <line x1="25" y1="20" x2="25" y2="200" stroke="#333" />

          <!-- Pooled effect line -->
          <line x1="${pooledX}" y1="20" x2="${pooledX}" y2="200" stroke="#D4AF37" stroke-width="2" stroke-dasharray="4" />

          <!-- Points -->
          ${effects.map((e, i) => `
            <circle cx="${scaleX(e)}" cy="${scaleY(ses[i])}" r="5" fill="#1E2761" stroke="white" stroke-width="1"/>
          `).join('')}

          <!-- Labels -->
          <text x="175" y="218" font-size="10" text-anchor="middle" fill="#666">Effect Size (log scale)</text>
          <text x="12" y="110" font-size="10" text-anchor="middle" fill="#666" transform="rotate(-90, 12, 110)">Standard Error</text>
          <text x="${pooledX}" y="15" font-size="8" text-anchor="middle" fill="#D4AF37">Pooled</text>
        </svg>
      `;
    }

    function runPublicationBias() {
      if (!lastMetaResult || !lastMetaStudies || lastMetaStudies.length < 3) {
        alert('Excutez d\'abord une mta-analyse avec au moins 3 tudes');
        return;
      }

      const effects = lastMetaResult.transformedEffects;
      const ses = lastMetaResult.ses;

      const egger = calculateEggersTest(effects, ses);
      const begg = calculateBeggsTest(effects, ses);

      document.getElementById('pubBiasResults').style.display = 'block';
      document.getElementById('eggerResults').innerHTML = `
        <div class="result-row"><span class="label">Egger's intercept:</span><span class="value">${egger.intercept.toFixed(3)}</span></div>
        <div class="result-row"><span class="label">Egger's p-value:</span><span class="value ${egger.significant ? 'red' : ''}">${egger.pValue.toFixed(4)} ${egger.significant ? '(Significant)' : ''}</span></div>
        <div class="result-row"><span class="label">Begg's tau:</span><span class="value">${begg.tau.toFixed(3)}</span></div>
        <div class="result-row"><span class="label">Begg's p-value:</span><span class="value ${begg.significant ? 'red' : ''}">${begg.pValue.toFixed(4)} ${begg.significant ? '(Significant)' : ''}</span></div>
        <div class="result-row"><span class="label">Interpretation:</span><span class="value">${egger.significant || begg.significant ? 'Possible small-study effects (publication bias is one explanation)' : 'Aucune preuve solide de partialit'}</span></div>
      `;

      const pooledLog = Math.log(lastMetaResult.pooledEffect);
      document.getElementById('funnelPlotContainer').innerHTML = generateFunnelPlotHTML(effects, ses, pooledLog);
    }

    // ============================================================
    // RISK OF BIAS 2.0
    // ============================================================

    function updateRoBOverall() {
      const domains = ['robD1', 'robD2', 'robD3', 'robD4', 'robD5'];
      const values = domains.map(id => document.getElementById(id).value);

      if (values.some(v => !v)) {
        document.getElementById('robOverall').innerHTML = '<span style="color: var(--light-text);">Complete all domains</span>';
        document.getElementById('robTrafficLight').innerHTML = '';
        return;
      }

      let overall;
      if (values.includes('high')) {
        overall = 'high';
      } else if (values.includes('some')) {
        overall = 'some';
      } else {
        overall = 'low';
      }

      const colors = { low: '#22c55e', some: '#f59e0b', high: '#C53030' };
      const labels = { low: 'Low Risk of Bias', some: 'Some Concerns', high: 'High Risk of Bias' };

      document.getElementById('robOverall').innerHTML = `
        <span style="color: ${colors[overall]};">${labels[overall]}</span>
      `;
      document.getElementById('robOverall').style.background = overall === 'low' ? 'rgba(34,197,94,0.1)' :
                                                                overall === 'some' ? 'rgba(245,158,11,0.1)' : 'rgba(197,48,48,0.1)';

      // Traffic light
      document.getElementById('robTrafficLight').innerHTML = `
        <div style="display: flex; gap: 0.25rem; justify-content: center; margin-top: 0.5rem;">
          ${domains.map((id, i) => {
            const val = values[i];
            return `<div style="width: 20px; height: 20px; border-radius: 50%; background: ${colors[val]};" title="D${i+1}: ${val}"></div>`;
          }).join('')}
        </div>
      `;
    }

    // ============================================================
    // GRADE ASSESSMENT
    // ============================================================

    function calculateGRADE() {
      const start = parseInt(document.getElementById('gradeStart').value);
      const rob = parseInt(document.getElementById('gradeRoB').value);
      const inconsistency = parseInt(document.getElementById('gradeInconsistency').value);
      const indirectness = parseInt(document.getElementById('gradeIndirectness').value);
      const imprecision = parseInt(document.getElementById('gradeImprecision').value);
      const pubBias = parseInt(document.getElementById('gradePubBias').value);

      const total = start + rob + inconsistency + indirectness + imprecision + pubBias;
      const finalScore = Math.max(1, Math.min(4, total));

      const levels = {
        4: { label: 'HIGH', color: '#22c55e', symbol: '', desc: 'Trs confiant, le vritable effet est proche de l\'estimation' },
        3: { label: 'MODERATE', color: '#3b82f6', symbol: '', desc: 'Moderately confident; true effect likely close to estimate' },
        2: { label: 'LOW', color: '#f59e0b', symbol: '', desc: 'Limited confidence; true effect may be substantially different' },
        1: { label: 'VERY LOW', color: '#C53030', symbol: '', desc: 'Very little confidence in the effect estimate' }
      };

      const level = levels[finalScore];

      document.getElementById('gradeResult').innerHTML = `
        <div style="text-align: center; padding: 1rem; background: rgba(${finalScore === 4 ? '34,197,94' : finalScore === 3 ? '59,130,246' : finalScore === 2 ? '245,158,11' : '197,48,48'},0.1); border-radius: 8px;">
          <div style="font-size: 1.5rem; letter-spacing: 0.2rem; color: ${level.color};">${level.symbol}</div>
          <div style="font-size: 1.1rem; font-weight: 700; color: ${level.color}; margin: 0.5rem 0;">${level.label}</div>
          <div style="font-size: 0.75rem; color: var(--light-text);">${level.desc}</div>
        </div>
        <div style="margin-top: 0.75rem; font-size: 0.75rem; color: var(--light-text);">
          Starting: ${start === 4 ? 'High (RCTs)' : 'Low (Observational)'}<br>
          Downgrades: ${Math.abs(rob + inconsistency + indirectness + imprecision + pubBias)} levels
        </div>
      `;
    }

    // ============================================================
    // HETEROGENEITY INTERPRETATION
    // ============================================================

    function interpretI2() {
      const i2 = parseFloat(document.getElementById('i2Input').value);

      if (isNaN(i2) || i2 < 0 || i2 > 100) {
        alert('Enter a valid I value between 0 and 100');
        return;
      }

      let interpretation, color, recommendation;

      if (i2 <= 25) {
        interpretation = 'Low heterogeneity';
        color = '#22c55e';
        recommendation = 'Un modle  effets fixes peut tre appropri. Les rsultats sont cohrents dans toutes les tudes.';
      } else if (i2 <= 50) {
        interpretation = 'Moderate heterogeneity';
        color = '#3b82f6';
        recommendation = 'Consider random-effects model. Investigate potential sources of variation.';
      } else if (i2 <= 75) {
        interpretation = 'Substantial heterogeneity';
        color = '#f59e0b';
        recommendation = 'Use random-effects model. Subgroup analysis or meta-regression recommended. Consider whether pooling is appropriate.';
      } else {
        interpretation = 'Considerable heterogeneity';
        color = '#C53030';
        recommendation = 'Pooling may be inappropriate. Focus on understanding sources of heterogeneity before synthesizing. Report prediction interval.';
      }

      document.getElementById('i2Interpretation').innerHTML = `
        <div style="padding: 0.75rem; background: rgba(${i2 <= 25 ? '34,197,94' : i2 <= 50 ? '59,130,246' : i2 <= 75 ? '245,158,11' : '197,48,48'},0.1); border-radius: 6px; border-left: 3px solid ${color};">
          <div style="font-weight: 700; color: ${color}; margin-bottom: 0.25rem;">I = ${i2}%: ${interpretation}</div>
          <div style="font-size: 0.8rem; color: var(--text);">${recommendation}</div>
        </div>
      `;
    }

    // ============================================================
    // NNT/NNH CALCULATOR
    // ============================================================

    function calculateNNT() {
      const cer = parseFloat(document.getElementById('nntCER').value);
      const effectType = document.getElementById('nntEffectType').value;
      const effect = parseFloat(document.getElementById('nntEffect').value);
      const ciLo = parseFloat(document.getElementById('nntCILo').value);
      const ciHi = parseFloat(document.getElementById('nntCIHi').value);

      if (isNaN(cer) || isNaN(effect) || cer <= 0 || cer >= 1) {
        alert('Enter valid baseline risk (0 < CER < 1) and effect size');
        return;
      }

      let arr, arrLo, arrHi; // Absolute Risk Reduction

      if (effectType === 'RD') {
        arr = -effect; // RD is already absolute
        arrLo = -ciHi;
        arrHi = -ciLo;
      } else if (effectType === 'RR') {
        const eer = cer * effect;
        const eerLo = cer * ciLo;
        const eerHi = cer * ciHi;
        arr = cer - eer;
        arrLo = cer - eerHi;
        arrHi = cer - eerLo;
      } else { // OR
        const eer = (cer * effect) / (1 - cer + cer * effect);
        const eerLo = (cer * ciLo) / (1 - cer + cer * ciLo);
        const eerHi = (cer * ciHi) / (1 - cer + cer * ciHi);
        arr = cer - eer;
        arrLo = cer - eerHi;
        arrHi = cer - eerLo;
      }

      const nnt = arr !== 0 ? 1 / arr : Infinity;
      const nntLo = arrHi !== 0 ? 1 / arrHi : Infinity;
      const nntHi = arrLo !== 0 ? 1 / arrLo : Infinity;

      const isBenefit = arr > 0;
      const label = isBenefit ? 'NNT (Benefit)' : 'NNH (Harm)';
      const color = isBenefit ? 'var(--green)' : 'var(--red)';

      const resultsDiv = document.getElementById('nntResults');
      resultsDiv.style.display = 'block';
      resultsDiv.innerHTML = `
        <div class="result-row"><span class="label">Baseline Risk (CER):</span><span class="value">${(cer * 100).toFixed(1)}%</span></div>
        <div class="result-row"><span class="label">Absolute Risk Reduction:</span><span class="value">${(arr * 100).toFixed(2)}%</span></div>
        <div class="result-row"><span class="label" style="color: ${color}; font-weight: 700;">${label}:</span><span class="value" style="color: ${color}; font-weight: 700;">${Math.abs(nnt).toFixed(1)}</span></div>
        <div class="result-row"><span class="label">95% CI:</span><span class="value">[${Math.abs(nntLo).toFixed(1)}, ${Math.abs(nntHi).toFixed(1)}]</span></div>
        <div style="margin-top: 0.75rem; padding: 0.5rem; background: rgba(${isBenefit ? '34,197,94' : '197,48,48'},0.1); border-radius: 4px; font-size: 0.75rem;">
          ${isBenefit
            ? `Treat <strong>${Math.ceil(Math.abs(nnt))}</strong> patients to prevent 1 event`
            : `Treat <strong>${Math.ceil(Math.abs(nnt))}</strong> patients before causing 1 harm`}
        </div>
      `;
    }

    // ============================================================
    // LEAVE-ONE-OUT SENSITIVITY ANALYSIS
    // ============================================================

    function runLeaveOneOut() {
      if (!lastMetaStudies || lastMetaStudies.length < 3) {
        alert('Excutez d\'abord une mta-analyse avec au moins 3 tudes');
        return;
      }

      const tau2Method = document.getElementById('tau2Method').value;
      const useHKSJ = document.getElementById('useHKSJ').checked;
      const results = [];

      // Run meta-analysis leaving out each study
      for (let i = 0; i < lastMetaStudies.length; i++) {
        const subset = lastMetaStudies.filter((_, idx) => idx !== i);
        const ma = calculateMetaAnalysis(subset, { tau2Estimator: tau2Method, useHKSJ });
        results.push({
          omitted: lastMetaStudies[i].label,
          effect: ma.pooledEffect,
          ciLo: ma.pooledCiLo,
          ciHi: ma.pooledCiHi,
          i2: ma.i2,
          pValue: ma.pValue
        });
      }

      // Find most influential study
      const originalEffect = lastMetaResult.pooledEffect;
      let maxChange = 0;
      let mostInfluential = '';
      results.forEach(r => {
        const change = Math.abs(Math.log(r.effect) - Math.log(originalEffect));
        if (change > maxChange) {
          maxChange = change;
          mostInfluential = r.omitted;
        }
      });

      // Check if any exclusion changes significance
      const originalSig = lastMetaResult.pValue < 0.05;
      const sensitivityIssue = results.some(r => (r.pValue < 0.05) !== originalSig);

      document.getElementById('looResults').style.display = 'block';
      document.getElementById('looSummary').innerHTML = `
        <div class="result-row"><span class="label">Original pooled effect:</span><span class="value">${originalEffect.toFixed(3)}</span></div>
        <div class="result-row"><span class="label">Most influential study:</span><span class="value">${mostInfluential}</span></div>
        <div class="result-row"><span class="label">Sensitivity concern:</span><span class="value ${sensitivityIssue ? 'red' : ''}">${sensitivityIssue ? 'Yes - significance changes' : 'No - results robust'}</span></div>
        <div style="margin-top: 0.5rem; font-size: 0.7rem; color: var(--light-text);">
          ${results.map(r => `Omit ${r.omitted}: ${r.effect.toFixed(3)} [${r.ciLo.toFixed(3)}, ${r.ciHi.toFixed(3)}] I=${r.i2.toFixed(0)}%`).join('<br>')}
        </div>
      `;

      // Generate LOO forest plot
      document.getElementById('looPlotContainer').innerHTML = generateLOOPlotHTML(results, lastMetaResult);
    }

    function generateLOOPlotHTML(looResults, originalMeta) {
      const allEffects = [...looResults.map(r => r.effect), originalMeta.pooledEffect];
      const allLo = [...looResults.map(r => r.ciLo), originalMeta.pooledCiLo];
      const allHi = [...looResults.map(r => r.ciHi), originalMeta.pooledCiHi];

      const minEffect = Math.min(...allLo, 0.5);
      const maxEffect = Math.max(...allHi, 2.0);
      const range = maxEffect - minEffect;

      const scale = (val) => ((val - minEffect) / range) * 280 + 80;
      const height = (looResults.length + 2) * 22 + 30;

      return `
        <svg viewBox="0 0 500 ${height}" style="width: 100%; height: ${height}px; font-family: 'Source Sans Pro', sans-serif;">
          <line x1="${scale(1)}" y1="10" x2="${scale(1)}" y2="${height - 20}" stroke="#ddd" stroke-width="1" stroke-dasharray="3" />
          <text x="40" y="15" font-size="8" fill="#666" font-weight="600">Omitting:</text>
          ${looResults.map((r, i) => {
            const y = 25 + i * 22;
            return `
              <text x="5" y="${y + 3}" font-size="8" fill="#333">${r.omitted}</text>
              <line x1="${scale(r.ciLo)}" y1="${y}" x2="${scale(r.ciHi)}" y2="${y}" stroke="#1E2761" stroke-width="1" />
              <circle cx="${scale(r.effect)}" cy="${y}" r="4" fill="#1E2761" />
              <text x="380" y="${y + 3}" font-size="7" fill="#333">${r.effect.toFixed(2)} [${r.ciLo.toFixed(2)}, ${r.ciHi.toFixed(2)}]</text>
            `;
          }).join('')}
          <line x1="${scale(originalMeta.pooledCiLo)}" y1="${height - 25}" x2="${scale(originalMeta.pooledCiHi)}" y2="${height - 25}" stroke="#D4AF37" stroke-width="2" />
          <polygon points="${scale(originalMeta.pooledEffect)},${height - 30} ${scale(originalMeta.pooledEffect) - 5},${height - 25} ${scale(originalMeta.pooledEffect)},${height - 20} ${scale(originalMeta.pooledEffect) + 5},${height - 25}" fill="#D4AF37" />
          <text x="5" y="${height - 22}" font-size="8" font-weight="bold" fill="#D4AF37">All studies</text>
          <text x="380" y="${height - 22}" font-size="7" font-weight="bold" fill="#333">${originalMeta.pooledEffect.toFixed(2)} [${originalMeta.pooledCiLo.toFixed(2)}, ${originalMeta.pooledCiHi.toFixed(2)}]</text>
        </svg>
      `;
    }

    // ============================================================
    // TRIM-AND-FILL
    // ============================================================

    function runTrimAndFill() {
      if (!lastMetaResult || !lastMetaStudies || lastMetaStudies.length < 3) {
        alert('Excutez d\'abord une mta-analyse avec au moins 3 tudes');
        return;
      }

      const estimator = document.getElementById('trimFillEstimator').value;
      const side = document.getElementById('trimFillSide').value;

      const effects = [...lastMetaResult.transformedEffects];
      const ses = [...lastMetaResult.ses];
      const k = effects.length;

      // Get initial pooled estimate
      const weights = ses.map(se => 1 / (se * se));
      const sumW = weights.reduce((a, b) => a + b, 0);
      let theta = effects.reduce((sum, e, i) => sum + e * weights[i], 0) / sumW;

      // Calculate ranks of |yi - theta| for each study
      const deviations = effects.map((e, i) => ({
        idx: i,
        dev: e - theta,
        absDev: Math.abs(e - theta),
        se: ses[i]
      }));

      // Sort by absolute deviation
      deviations.sort((a, b) => a.absDev - b.absDev);
      const ranks = deviations.map((d, i) => ({ ...d, rank: i + 1 }));

      // Count studies on the specified side
      let n0;
      if (estimator === 'L0') {
        // Linear estimator
        const T = ranks.reduce((sum, r) => {
          const onSide = (side === 'right' && r.dev > 0) || (side === 'left' && r.dev < 0);
          return sum + (onSide ? r.rank : 0);
        }, 0);
        n0 = Math.max(0, Math.round((4 * T - k * (k + 1)) / (2 * k - 1)));
      } else {
        // R0 rank-based estimator
        const gamma = ranks.reduce((sum, r) => {
          const onSide = (side === 'right' && r.dev > 0) || (side === 'left' && r.dev < 0);
          return sum + (onSide ? 1 : 0);
        }, 0);
        n0 = Math.max(0, Math.round(4 * gamma - k + 1) / 3);
      }

      const nFilled = Math.round(n0);

      // Impute missing studies by reflecting the most extreme ones
      const sortedBySide = [...ranks].sort((a, b) => {
        if (side === 'right') return b.dev - a.dev;
        return a.dev - b.dev;
      });

      const imputedEffects = [...effects];
      const imputedSEs = [...ses];
      const imputedLabels = lastMetaStudies.map(s => s.label);

      for (let i = 0; i < nFilled && i < sortedBySide.length; i++) {
        const study = sortedBySide[i];
        const mirroredEffect = 2 * theta - study.dev - theta; // = -study.dev relative to theta
        imputedEffects.push(2 * theta - effects[study.idx]);
        imputedSEs.push(ses[study.idx]);
        imputedLabels.push(`[Imputed ${i + 1}]`);
      }

      // Recalculate pooled effect with imputed studies
      const newWeights = imputedSEs.map(se => 1 / (se * se));
      const newSumW = newWeights.reduce((a, b) => a + b, 0);
      const adjustedTheta = imputedEffects.reduce((sum, e, i) => sum + e * newWeights[i], 0) / newSumW;
      const adjustedSE = Math.sqrt(1 / newSumW);

      const isRatio = lastMetaResult.isRatio;
      const adjustedEffect = isRatio ? Math.exp(adjustedTheta) : adjustedTheta;
      const adjustedCILo = isRatio ? Math.exp(adjustedTheta - 1.96 * adjustedSE) : adjustedTheta - 1.96 * adjustedSE;
      const adjustedCIHi = isRatio ? Math.exp(adjustedTheta + 1.96 * adjustedSE) : adjustedTheta + 1.96 * adjustedSE;

      const originalEffect = lastMetaResult.pooledEffect;
      const changePercent = ((adjustedEffect - originalEffect) / originalEffect * 100).toFixed(1);

      document.getElementById('trimFillResults').style.display = 'block';
      document.getElementById('trimFillSummary').innerHTML = `
        <div class="result-row"><span class="label">Studies imputed:</span><span class="value">${nFilled}</span></div>
        <div class="result-row"><span class="label">Original effect:</span><span class="value">${originalEffect.toFixed(3)}</span></div>
        <div class="result-row"><span class="label">Adjusted effect:</span><span class="value ${nFilled > 0 ? 'red' : ''}">${adjustedEffect.toFixed(3)}</span></div>
        <div class="result-row"><span class="label">Adjusted 95% CI:</span><span class="value">[${adjustedCILo.toFixed(3)}, ${adjustedCIHi.toFixed(3)}]</span></div>
        <div class="result-row"><span class="label">Change:</span><span class="value">${changePercent}%</span></div>
        ${nFilled > 0 ? `
          <div style="margin-top: 0.5rem; padding: 0.5rem; background: rgba(197,48,48,0.1); border-radius: 4px; font-size: 0.75rem;">
            <strong>Caution:</strong> ${nFilled} potentially missing studies imputed.
            Treat this as sensitivity analysis, not correction; assumptions may not hold under severe asymmetry.
          </div>
        ` : `
          <div style="margin-top: 0.5rem; padding: 0.5rem; background: rgba(34,197,94,0.1); border-radius: 4px; font-size: 0.75rem;">
            No missing studies detected on the ${side} side.
          </div>
        `}
      `;

      // Generate filled funnel plot
      document.getElementById('trimFillPlotContainer').innerHTML = generateFilledFunnelHTML(
        lastMetaResult.transformedEffects,
        lastMetaResult.ses,
        imputedEffects.slice(k),
        imputedSEs.slice(k),
        adjustedTheta,
        Math.log(originalEffect)
      );
    }

    function generateFilledFunnelHTML(origEffects, origSEs, impEffects, impSEs, adjustedTheta, originalTheta) {
      const allEffects = [...origEffects, ...impEffects];
      const allSEs = [...origSEs, ...impSEs];

      const minEffect = Math.min(...allEffects) - 0.5;
      const maxEffect = Math.max(...allEffects) + 0.5;
      const maxSE = Math.max(...allSEs);
      const range = maxEffect - minEffect;

      const scaleX = (val) => ((val - minEffect) / range) * 280 + 35;
      const scaleY = (se) => (se / maxSE) * 160 + 20;

      return `
        <svg viewBox="0 0 350 200" style="width: 100%; height: 200px; font-family: 'Source Sans Pro', sans-serif;">
          <!-- Original funnel -->
          <polygon points="${scaleX(originalTheta)},20 ${scaleX(originalTheta - 1.96 * maxSE)},180 ${scaleX(originalTheta + 1.96 * maxSE)},180"
                   fill="rgba(30,39,97,0.05)" stroke="rgba(30,39,97,0.3)" stroke-dasharray="3"/>
          <!-- Adjusted funnel -->
          <polygon points="${scaleX(adjustedTheta)},20 ${scaleX(adjustedTheta - 1.96 * maxSE)},180 ${scaleX(adjustedTheta + 1.96 * maxSE)},180"
                   fill="rgba(212,175,55,0.1)" stroke="#D4AF37"/>

          <!-- Original effect line -->
          <line x1="${scaleX(originalTheta)}" y1="20" x2="${scaleX(originalTheta)}" y2="180" stroke="#1E2761" stroke-width="1" stroke-dasharray="4" />
          <!-- Adjusted effect line -->
          <line x1="${scaleX(adjustedTheta)}" y1="20" x2="${scaleX(adjustedTheta)}" y2="180" stroke="#D4AF37" stroke-width="2" />

          <!-- Original studies -->
          ${origEffects.map((e, i) => `
            <circle cx="${scaleX(e)}" cy="${scaleY(origSEs[i])}" r="5" fill="#1E2761" stroke="white" stroke-width="1"/>
          `).join('')}

          <!-- Imputed studies -->
          ${impEffects.map((e, i) => `
            <circle cx="${scaleX(e)}" cy="${scaleY(impSEs[i])}" r="5" fill="none" stroke="#C53030" stroke-width="2" stroke-dasharray="2"/>
          `).join('')}

          <!-- Legend -->
          <circle cx="280" cy="15" r="4" fill="#1E2761"/>
          <text x="290" y="18" font-size="7" fill="#666">Original</text>
          <circle cx="280" cy="28" r="4" fill="none" stroke="#C53030" stroke-width="2" stroke-dasharray="2"/>
          <text x="290" y="31" font-size="7" fill="#666">Imputed</text>

          <text x="175" y="198" font-size="9" text-anchor="middle" fill="#666">Effect Size (log scale)</text>
        </svg>
      `;
    }

    // ============================================================
    // GAMIFICATION & PROGRESS SYSTEM
    // ============================================================

    const STORAGE_KEY = 'evidence_reversal_course_progress';

    // Seven Principles for tracking
    const sevenPrinciples = [
      "Tous les signaux ne sont pas vrais.",
      "Les mthodes protgent les patients de notre confiance.",
      "What was hidden in plain sight?",
      "Le numro sans provenance n'est pas un numro.",
      "L'htrognit est un message, pas un bruit.",
      "Labsence de preuve nest pas une preuve dabsence.",
      "Certainty must be earned, not assumed."
    ];

    // Badge definitions
    const badges = [
      { id: 'first_module', icon: '', name: 'First Steps', desc: 'Compltez votre premier module' },
      { id: 'predictor', icon: '', name: 'Predictor', desc: 'Faites votre premire prdiction' },
      { id: 'correct_prediction', icon: '', name: 'Sharp Mind', desc: 'Predict correctly' },
      { id: 'five_modules', icon: '', name: 'Scholar', desc: 'Complete 5 modules' },
      { id: 'all_predictions', icon: '', name: 'Oracle', desc: 'Make all predictions' },
      { id: 'streak_3', icon: '', name: 'On Fire', desc: '3-day streak' },
      { id: 'quiz_master', icon: '', name: 'Quiz Master', desc: 'Complete 5 quizzes' },
      { id: 'ready_practice', icon: '', name: 'Prt pour la pratique', desc: 'Compltez le module Capstone' },
      { id: 'completionist', icon: '', name: 'Completionist', desc: 'Finish all modules' }
    ];

    // Level definitions
    const levels = [
      { name: 'Novice', minPoints: 0 },
      { name: 'Apprentice', minPoints: 200 },
      { name: 'Practitioner', minPoints: 500 },
      { name: 'Expert', minPoints: 1000 },
      { name: 'Master', minPoints: 2000 }
    ];

    // Gamification state
    let gameState = {
      points: 0,
      earnedBadges: [],
      streak: 0,
      lastVisitDate: null,
      principlesMastered: [],
      quizzesCompleted: 0
    };

    function getLevel(points) {
      for (let i = levels.length - 1; i >= 0; i--) {
        if (points >= levels[i].minPoints) return { level: i + 1, name: levels[i].name };
      }
      return { level: 1, name: 'Novice' };
    }

    function awardPoints(amount, reason) {
      gameState.points += amount;
      updateSidebarPoints();
      saveProgress();
    }

    function earnBadge(badgeId) {
      if (!gameState.earnedBadges.includes(badgeId)) {
        gameState.earnedBadges.push(badgeId);
        saveProgress();
      }
    }

    function checkBadges() {
      const completedModules = document.querySelectorAll('.module-item.completed').length;
      const predictionCount = Object.keys(storyPredictions).length;
      const correctPredictions = Object.values(storyPredictions).filter(p => p.correct).length;

      if (completedModules >= 1) earnBadge('first_module');
      if (completedModules >= 5) earnBadge('five_modules');
      if (completedModules >= 13) earnBadge('ready_practice');
      if (completedModules >= 15) earnBadge('completionist');
      if (predictionCount >= 1) earnBadge('predictor');
      if (correctPredictions >= 1) earnBadge('correct_prediction');
      if (predictionCount >= 11) earnBadge('all_predictions');
      if (gameState.streak >= 3) earnBadge('streak_3');
      if (gameState.quizzesCompleted >= 5) earnBadge('quiz_master');
    }

    function updateStreak() {
      const today = new Date().toDateString();
      if (gameState.lastVisitDate) {
        const lastVisit = new Date(gameState.lastVisitDate).toDateString();
        const yesterday = new Date(Date.now() - 86400000).toDateString();
        if (lastVisit === today) { /* Same day */ }
        else if (lastVisit === yesterday) { gameState.streak++; awardPoints(10, 'Daily streak'); }
        else { gameState.streak = 1; }
      } else { gameState.streak = 1; }
      gameState.lastVisitDate = new Date().toISOString();
    }

    function saveProgress() {
      const completedModules = [];
      document.querySelectorAll('.module-item.completed').forEach(el => {
        completedModules.push(parseInt(el.dataset.module));
      });

      const progress = {
        currentModule, currentSlide, completedModules,
        lastVisit: new Date().toISOString(),
        gameState: gameState,
        predictions: storyPredictions,
        spacedRepetition: spacedRepetitionState,
        scenarioState: scenarioState,
        calibrationState: calibrationState
      };

      try {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(progress));
        updateSidebarPoints();
      } catch (e) { console.log('Impossible d\'enregistrer la progression'); }
    }

    function loadProgress() {
      try {
        const saved = localStorage.getItem(STORAGE_KEY);
        if (saved) {
          const progress = JSON.parse(saved);
          // Migrate old module IDs: 1323, 1424 (one-time)
          if (!progress._migrated25) {
            const remap = {13: 23, 14: 24};
            progress.completedModules = progress.completedModules.map(id => remap[id] || id);
            if (remap[progress.currentModule]) progress.currentModule = remap[progress.currentModule];
            progress._migrated25 = true;
            try { localStorage.setItem(STORAGE_KEY, JSON.stringify(progress)); } catch(e) {}
          }
          progress.completedModules.forEach(moduleId => {
            const el = document.querySelector(`.module-item[data-module="${moduleId}"]`);
            if (el) el.classList.add('completed');
          });
          if (progress.gameState) gameState = progress.gameState;
          if (progress.predictions) Object.assign(storyPredictions, progress.predictions);
          if (progress.spacedRepetition) {
            spacedRepetitionState = progress.spacedRepetition;
          }
          if (progress.scenarioState) {
            scenarioState = progress.scenarioState;
          }
          if (progress.calibrationState) {
            calibrationState = progress.calibrationState;
          }
          updateStreak();
          updateSidebarPoints();
          if (progress.currentModule !== undefined) {
            return { module: progress.currentModule, slide: progress.currentSlide || 0 };
          }
        }
      } catch (e) { console.log('Impossible de charger la progression'); }
      return null;
    }

    function resetProgress() {
      if (confirm('Reset all progress including points and badges?')) {
        try {
          localStorage.removeItem(STORAGE_KEY);
          document.querySelectorAll('.module-item.completed').forEach(el => el.classList.remove('completed'));
          gameState = { points: 0, earnedBadges: [], streak: 0, lastVisitDate: null, principlesMastered: [], quizzesCompleted: 0 };
          storyPredictions = {};
          spacedRepetitionState = { principles: {}, lastDailyReview: null, dailyReviewsCompleted: 0 };
          scenarioState = { completed: [], scores: {} };
          calibrationState = { predictions: [], totalPredictions: 0, calibrationScore: null };
          updateSidebarPoints();
          updateReviewButtonStatus();
          goToModule(0);
          alert('Progress reset successfully.');
        } catch (e) { console.log('Impossible de rinitialiser la progression'); }
      }
    }

    function markModuleComplete(moduleId) {
      const el = document.querySelector(`.module-item[data-module="${moduleId}"]`);
      if (el && !el.classList.contains('completed')) {
        el.classList.add('completed');
        awardPoints(100, 'Module completed');
        checkBadges();
      }
      saveProgress();
    }

    function updateSidebarPoints() {
      const el = document.getElementById('sidebarPoints');
      if (el) el.textContent = gameState.points + ' pts';
    }

    // ============================================================
    // PROGRESS DASHBOARD
    // ============================================================

    function openDashboard() {
      updateDashboardDisplay();
      document.getElementById('progressDashboard').classList.add('open');
    }

    function closeDashboard() {
      document.getElementById('progressDashboard').classList.remove('open');
    }

    function updateDashboardDisplay() {
      const levelInfo = getLevel(gameState.points);
      document.getElementById('levelBadge').textContent = `Level ${levelInfo.level}: ${levelInfo.name}`;
      document.getElementById('totalPoints').textContent = gameState.points;

      const completedModules = document.querySelectorAll('.module-item.completed').length;
      document.getElementById('modulesCompleted').textContent = `${completedModules}/15`;

      const predictionCount = Object.keys(storyPredictions).length;
      const correctPredictions = Object.values(storyPredictions).filter(p => p.correct).length;
      document.getElementById('predictionsCorrect').textContent = `${correctPredictions}/${predictionCount}`;
      document.getElementById('quizzesCompleted').textContent = gameState.quizzesCompleted;

      const principlesHtml = sevenPrinciples.map((p, i) => {
        const mastered = gameState.principlesMastered.includes(i);
        return `<div class="principle-item">
          <div class="principle-num ${mastered ? 'mastered' : ''}">${i + 1}</div>
          <div class="principle-text">"${p}"</div>
          <span>${mastered ? '' : ''}</span>
        </div>`;
      }).join('');
      document.getElementById('principlesList').innerHTML = principlesHtml;

      const badgesHtml = badges.map(b => {
        const earned = gameState.earnedBadges.includes(b.id);
        return `<div class="badge ${earned ? 'earned' : ''}" title="${b.name}: ${b.desc}">
          ${b.icon}<div class="badge-tooltip">${b.name}</div>
        </div>`;
      }).join('');
      document.getElementById('badgesGrid').innerHTML = badgesHtml;

      document.getElementById('streakCount').textContent = `${gameState.streak} day${gameState.streak !== 1 ? 's' : ''}`;
      document.getElementById('streakFlame').textContent = gameState.streak >= 3 ? '' : '';
    }

    // ============================================================
    // SPACED REPETITION ENGINE
    // ============================================================

    // Questions for each principle (used in daily review)
    const principleQuestions = [
      { // Principle 1: "Tous les signaux ne sont pas vrais."
        principle: 0,
        question: "Lorsquun mdicament montre des bnfices dans des tudes observationnelles, que faut-il retenir?",
        options: [
          "Le bnfice est probablement rel et devrait orienter le traitement",
          "Tous les signaux ne sont pas vridiques; des ECR sont ncessaires pour confirmer",
          "Les tudes observationnelles sont toujours biaises et inutiles",
          "We should immediately conduct a meta-analysis"
        ],
        correct: 1,
        explanation: "Observational signals can be confounded. CAST showed that antiarrhythmics, which appeared beneficial, actually tripled mortality in RCTs."
      },
      { // Principle 2: "Les mthodes protgent les patients de notre confiance."
        principle: 1,
        question: "Why do we pre-register protocols before conducting a meta-analysis?",
        options: [
          "To impress journal editors",
          "Les mthodes protgent les patients de notre confiance",
          "It's required by law in most countries",
          "Pour acclrer le processus de publication"
        ],
        correct: 1,
        explanation: "La pr-inscription nous vite de biaiser inconsciemment les rsultats en fonction de ce que nous attendons. Les tudes observationnelles sur le THS ont t affectes par les biais des utilisateurs sains."
      },
      { // Principle 3: "What was hidden in plain sight?"
        principle: 2,
        question: "Lorsque vous valuez le biais de publication, quelle question devrait guider votre rflexion?",
        options: [
          "Les auteurs sont-ils rputs ?",
          "Le journal a-t-il un fort impact?",
          "What was hidden in plain sight?",
          "Combien dtudes ont t incluses ?"
        ],
        correct: 2,
        explanation: "Les risques cardiaques de la rosiglitazone ont t enfouis dans des donnes non publies de la FDA. Cherchez toujours au-del de la littrature publie pour obtenir une image complte."
      },
      { // Principle 4: "Le numro sans provenance n'est pas un numro."
        principle: 3,
        question: "What makes an effect size trustworthy in meta-analysis?",
        options: [
          "Its statistical significance (p < 0.05)",
          "Clear provenance - knowing exactly where it came from",
          "Publication in a high-impact journal",
          "Accord avec la plausibilit biologique"
        ],
        correct: 1,
        explanation: "Les essais DECREASE ont montr des donnes fabriques. Sans provenance vrifiable (donnes brutes, piste daudit), les chiffres ne peuvent pas tre fiables."
      },
      { // Principle 5: "L'htrognit est un message, pas un bruit."
        principle: 4,
        question: "When you see high heterogeneity (I = 80%) in a meta-analysis, what should you think?",
        options: [
          "La mta-analyse a chou et devrait tre abandonne",
          "Use a random-effects model and ignore it",
          "Heterogeneity is a message - investigate its sources",
          "De toute faon, faites la moyenne des rsultats, c'est ce que fait la mta-analyse"
        ],
        correct: 2,
        explanation: "ACCORD showed that intensive glucose control had different effects in different patient subgroups. High I signals important effect modification."
      },
      { // Principle 6: "Labsence de preuve nest pas une preuve dabsence."
        principle: 5,
        question: "A meta-analysis of 3 small trials shows no significant effect (p = 0.15). What does this mean?",
        options: [
          "The treatment definitely doesn't work",
          "L'absence de preuve n'est pas une preuve d'absence",
          "We need exactly 5 more trials to be sure",
          "Le traitement est nocif"
        ],
        correct: 1,
        explanation: "Les petites tudes peuvent manquer de puissance pour dtecter les effets rels. Les premiers essais sur les surfactants n'ont initialement montr  aucun effet  en raison de petits chantillons, mais des tudes plus vastes ont prouv leurs avantages."
      },
      { // Principle 7: "Certainty must be earned, not assumed."
        principle: 6,
        question: "What does the GRADE framework help us assess?",
        options: [
          "Whether a treatment is cost-effective",
          "Dans quelle mesure pouvons-nous tre srs des preuves",
          "Whether authors have conflicts of interest",
          "La taille dchantillon optimale pour les essais futurs"
        ],
        correct: 1,
        explanation: "GRADE nous rappelle que la certitude doit tre obtenue grce  des preuves de haute qualit, et non pas uniquement sur la base de la signification statistique."
      }
    ];

    // Extended question bank for variety
    const extendedQuestions = [
      { principle: 0, question: "The CAST trial showed antiarrhythmics increased mortality by:", options: ["50%", "100%", "200-300%", "400%"], correct: 2, explanation: "Encainide, flecainide, and moricizine roughly tripled mortality compared to placebo." },
      { principle: 1, question: "HRT appeared beneficial in observational studies due to:", options: ["Confounding by indication", "Healthy user bias", "Publication bias", "Data fabrication"], correct: 1, explanation: "Women who chose HRT were healthier at baseline (healthy user bias), creating an apparent benefit." },
      { principle: 2, question: "What percentage of negative trials often go unpublished?", options: ["10-20%", "30-40%", "40-50%", "60-80%"], correct: 2, explanation: "Des tudes estiment que 40  50 % des essais dont les rsultats sont ngatifs restent indits, ce qui fausse la base de donnes factuelles." },
      { principle: 3, question: "La fraude des essais DECREASE a t dtecte grce :", options: ["Peer review", "Statistical impossibilities", "Journal retraction", "Patient complaints"], correct: 1, explanation: "Les modles dans les donnes taient statistiquement impossibles  trop parfaits, rvlant une fabrication." },
      { principle: 4, question: "What I value suggests substantial heterogeneity?", options: [">25%", ">50%", ">75%", ">90%"], correct: 1, explanation: "I > 50% suggests substantial heterogeneity; > 75% is considerable. Always investigate sources." },
      { principle: 5, question: "A funnel plot shows asymmetry. This suggests:", options: ["Perfect methodology", "Large sample sizes", "Possible small-study effects (publication bias is one explanation)", "High certainty"], correct: 2, explanation: "Funnel plot asymmetry can indicate small-study effects; publication bias is one explanation, but not the only one." },
      { principle: 6, question: "In GRADE, what can LOWER certainty in RCT evidence?", options: ["Large effect size", "Risk of bias", "Dose-response gradient", "Biological plausibility"], correct: 1, explanation: "Le risque de biais, d'imprcision, d'incohrence, de caractre indirect et de biais de publication peut faire passer la certitude d'un niveau  lev   un niveau infrieur." }
    ];

    // SM-2 inspired spaced repetition state
    let spacedRepetitionState = {
      principles: {}, // { 0: { lastReview: Date, interval: days, easeFactor: 2.5, repetitions: 0, nextReview: Date } }
      lastDailyReview: null,
      dailyReviewsCompleted: 0
    };

    // Initialize spaced repetition for all principles
    function initSpacedRepetition() {
      for (let i = 0; i < 7; i++) {
        if (!spacedRepetitionState.principles[i]) {
          spacedRepetitionState.principles[i] = {
            lastReview: null,
            interval: 1,
            easeFactor: 2.5,
            repetitions: 0,
            nextReview: new Date().toISOString()
          };
        }
      }
    }

    // SM-2 algorithm: update interval based on performance
    function updateSpacedRepetition(principleIndex, quality) {
      // quality: 0-5 (0-2 = fail, 3-5 = pass)
      const p = spacedRepetitionState.principles[principleIndex];
      if (!p) return;

      if (quality >= 3) {
        // Correct answer
        if (p.repetitions === 0) {
          p.interval = 1;
        } else if (p.repetitions === 1) {
          p.interval = 6;
        } else {
          p.interval = Math.round(p.interval * p.easeFactor);
        }
        p.repetitions++;
        p.easeFactor = Math.max(1.3, p.easeFactor + (0.1 - (5 - quality) * (0.08 + (5 - quality) * 0.02)));

        // Mark as mastered after 3 successful reviews
        if (p.repetitions >= 3 && !gameState.principlesMastered.includes(principleIndex)) {
          gameState.principlesMastered.push(principleIndex);
          awardPoints(50, 'Principle mastered');
          earnBadge('principle_master');
        }
      } else {
        // Incorrect answer - reset
        p.repetitions = 0;
        p.interval = 1;
      }

      p.lastReview = new Date().toISOString();
      p.nextReview = new Date(Date.now() + p.interval * 24 * 60 * 60 * 1000).toISOString();
      saveProgress();
    }

    // Get principles due for review (sorted by urgency)
    function getPrinciplesDueForReview() {
      const now = new Date();
      const due = [];

      for (let i = 0; i < 7; i++) {
        const p = spacedRepetitionState.principles[i];
        if (!p) continue;

        const nextReview = p.nextReview ? new Date(p.nextReview) : new Date(0);
        if (nextReview <= now) {
          due.push({
            index: i,
            overdueDays: Math.floor((now - nextReview) / (24 * 60 * 60 * 1000)),
            repetitions: p.repetitions
          });
        }
      }

      // Sort: most overdue first, then least practiced
      due.sort((a, b) => {
        if (b.overdueDays !== a.overdueDays) return b.overdueDays - a.overdueDays;
        return a.repetitions - b.repetitions;
      });

      return due;
    }

    // ============================================================
    // DAILY REVIEW SYSTEM
    // ============================================================

    let reviewState = {
      active: false,
      questions: [],
      currentIndex: 0,
      answers: [],
      timerInterval: null,
      timeRemaining: 120 // 2 minutes in seconds
    };

    function shouldShowDailyReview() {
      if (!spacedRepetitionState.lastDailyReview) return true;

      const lastReview = new Date(spacedRepetitionState.lastDailyReview);
      const today = new Date();

      // Check if it's a new day
      return lastReview.toDateString() !== today.toDateString();
    }

    function openDailyReview() {
      initSpacedRepetition();

      // Get principles due for review
      const duePrinciples = getPrinciplesDueForReview();

      // Select up to 5 questions (mix of due principles and random for variety)
      let selectedQuestions = [];

      // First, add questions for due principles
      duePrinciples.slice(0, 3).forEach(dp => {
        const available = [principleQuestions[dp.index], ...extendedQuestions.filter(q => q.principle === dp.index)];
        const randomQ = available[Math.floor(Math.random() * available.length)];
        if (randomQ && !selectedQuestions.find(q => q.question === randomQ.question)) {
          selectedQuestions.push({ ...randomQ });
        }
      });

      // Fill remaining with random questions
      const allQuestions = [...principleQuestions, ...extendedQuestions];
      while (selectedQuestions.length < 5) {
        const randomQ = allQuestions[Math.floor(Math.random() * allQuestions.length)];
        if (!selectedQuestions.find(q => q.question === randomQ.question)) {
          selectedQuestions.push({ ...randomQ });
        }
      }

      // Shuffle
      selectedQuestions.sort(() => Math.random() - 0.5);

      // Initialize review state
      reviewState = {
        active: true,
        questions: selectedQuestions.slice(0, 5),
        currentIndex: 0,
        answers: [],
        timerInterval: null,
        timeRemaining: 120
      };

      // Show modal
      document.getElementById('dailyReviewModal').classList.add('open');

      // Render progress dots
      renderReviewProgress();

      // Render first question
      renderReviewQuestion();

      // Start timer
      startReviewTimer();
    }

    function closeDailyReview() {
      reviewState.active = false;
      if (reviewState.timerInterval) {
        clearInterval(reviewState.timerInterval);
      }
      document.getElementById('dailyReviewModal').classList.remove('open');
    }

    function skipDailyReview() {
      spacedRepetitionState.lastDailyReview = new Date().toISOString();
      saveProgress();
      closeDailyReview();
      updateReviewButtonStatus();
    }

    function startReviewTimer() {
      const timerEl = document.getElementById('reviewTimer');

      reviewState.timerInterval = setInterval(() => {
        reviewState.timeRemaining--;

        const mins = Math.floor(reviewState.timeRemaining / 60);
        const secs = reviewState.timeRemaining % 60;
        timerEl.textContent = `${mins}:${secs.toString().padStart(2, '0')}`;

        if (reviewState.timeRemaining <= 0) {
          clearInterval(reviewState.timerInterval);
          finishDailyReview();
        }
      }, 1000);
    }

    function renderReviewProgress() {
      const container = document.getElementById('reviewProgress');
      container.innerHTML = reviewState.questions.map((_, i) => {
        let cls = 'progress-dot';
        if (i < reviewState.currentIndex) cls += ' completed';
        if (i === reviewState.currentIndex) cls += ' current';
        return `<div class="${cls}"></div>`;
      }).join('');
    }

    function renderReviewQuestion() {
      if (reviewState.currentIndex >= reviewState.questions.length) {
        finishDailyReview();
        return;
      }

      const q = reviewState.questions[reviewState.currentIndex];
      const container = document.getElementById('reviewCardContainer');

      container.innerHTML = `
        <div class="review-card">
          <div class="review-principle-num">${q.principle + 1}</div>
          <div class="review-principle-text">"${sevenPrinciples[q.principle]}"</div>
          <div class="review-question">${q.question}</div>
          <div class="review-options">
            ${q.options.map((opt, i) => `
              <button class="review-option" onclick="selectReviewAnswer(${i})">${opt}</button>
            `).join('')}
          </div>
          <div id="reviewFeedback"></div>
        </div>
      `;

      document.getElementById('reviewNextBtn').disabled = true;
    }

    function selectReviewAnswer(answerIndex) {
      const q = reviewState.questions[reviewState.currentIndex];
      const isCorrect = answerIndex === q.correct;

      // Store answer
      reviewState.answers.push({
        principle: q.principle,
        correct: isCorrect,
        selected: answerIndex
      });

      // Update spaced repetition
      updateSpacedRepetition(q.principle, isCorrect ? 4 : 1);

      // Award points
      if (isCorrect) {
        awardPoints(15, 'Daily review correct');
      }

      // Visual feedback
      const options = document.querySelectorAll('.review-option');
      options.forEach((opt, i) => {
        opt.disabled = true;
        opt.style.cursor = 'default';
        if (i === q.correct) {
          opt.classList.add('correct');
        }
        if (i === answerIndex && !isCorrect) {
          opt.classList.add('incorrect');
        }
        if (i === answerIndex) {
          opt.classList.add('selected');
        }
      });

      // Show feedback
      const feedbackEl = document.getElementById('reviewFeedback');
      feedbackEl.innerHTML = `
        <div class="review-feedback ${isCorrect ? 'correct' : 'incorrect'}">
          ${isCorrect ? ' Correct!' : ' Not quite.'} ${q.explanation}
        </div>
      `;

      // Enable next button
      document.getElementById('reviewNextBtn').disabled = false;
    }

    function nextReviewQuestion() {
      reviewState.currentIndex++;
      renderReviewProgress();
      renderReviewQuestion();
    }

    function finishDailyReview() {
      if (reviewState.timerInterval) {
        clearInterval(reviewState.timerInterval);
      }

      const correctCount = reviewState.answers.filter(a => a.correct).length;
      const totalCount = reviewState.answers.length;
      const score = totalCount > 0 ? Math.round((correctCount / totalCount) * 100) : 0;

      // Update state
      spacedRepetitionState.lastDailyReview = new Date().toISOString();
      spacedRepetitionState.dailyReviewsCompleted++;
      gameState.quizzesCompleted++;
      saveProgress();
      checkBadges();

      // Award bonus for perfect score
      if (correctCount === totalCount && totalCount > 0) {
        awardPoints(25, 'Perfect daily review');
        earnBadge('perfect_review');
      }

      // Show summary
      const container = document.getElementById('reviewCardContainer');
      container.innerHTML = `
        <div class="review-summary">
          <div class="summary-score">${score}%</div>
          <div class="summary-text">Daily Review Complete!</div>

          <div class="summary-breakdown">
            <div class="summary-stat">
              <div class="summary-stat-value correct-val">${correctCount}</div>
              <div class="summary-stat-label">Correct</div>
            </div>
            <div class="summary-stat">
              <div class="summary-stat-value incorrect-val">${totalCount - correctCount}</div>
              <div class="summary-stat-label">To Review</div>
            </div>
          </div>

          ${gameState.streak >= 2 ? `
            <div class="review-streak-bonus">
              <span class="flame"></span>
              <span class="text">${gameState.streak} day learning streak!</span>
            </div>
          ` : ''}
        </div>
      `;

      // Update actions
      document.getElementById('reviewActions').innerHTML = `
        <button class="review-btn next" onclick="closeDailyReview()">Continue Learning</button>
      `;

      updateReviewButtonStatus();
    }

    function updateReviewButtonStatus() {
      const btn = document.getElementById('dailyReviewBtn');
      const status = document.getElementById('reviewStatus');

      if (!btn || !status) return;

      if (shouldShowDailyReview()) {
        btn.classList.add('pending');
        status.textContent = 'Due!';
      } else {
        btn.classList.remove('pending');
        status.textContent = ' Done';
      }
    }

    // Add badge for spaced repetition mastery
    if (!badges.find(b => b.id === 'principle_master')) {
      badges.push({ id: 'principle_master', icon: '', name: 'Principle Master', desc: 'Master a principle through spaced repetition' });
    }
    if (!badges.find(b => b.id === 'perfect_review')) {
      badges.push({ id: 'perfect_review', icon: '', name: 'Perfect Review', desc: 'Get 100% on a daily review' });
    }
    if (!badges.find(b => b.id === 'daily_dedication')) {
      badges.push({ id: 'daily_dedication', icon: '', name: 'Daily Dedication', desc: 'Complete 7 daily reviews' });
    }
    if (!badges.find(b => b.id === 'scenario_solver')) {
      badges.push({ id: 'scenario_solver', icon: '', name: 'Scenario Solver', desc: 'Complete 5 branching scenarios' });
    }
    if (!badges.find(b => b.id === 'well_calibrated')) {
      badges.push({ id: 'well_calibrated', icon: '', name: 'Well Calibrated', desc: 'Achieve 80%+ calibration accuracy' });
    }

    // ============================================================
    // BRANCHING SCENARIOS SYSTEM
    // ============================================================

    // Scenarios based on Evidence Reversal stories - decisions with consequences
    const branchingScenarios = [
      {
        id: 'cast_scenario',
        module: 1,
        title: 'The Antiarrhythmic Decision',
        situation: "You're on a hospital formulary committee in 1988. A cardiologist presents data showing encainide suppresses PVCs by 80% in post-MI patients. He wants it added to the formulary for routine use.",
        question: "What do you recommend?",
        choices: [
          { id: 'a', text: "Approve it - PVC suppression is a validated surrogate for mortality", consequence: 'bad', result: "The CAST trial (1989) showed these drugs TRIPLED mortality despite suppressing PVCs. An estimated ~9,000 excess deaths per year resulted from drugs that 'worked' on the surrogate." },
          { id: 'b', text: "Request RCT evidence on hard outcomes (death, cardiac arrest) before approval", consequence: 'good', result: "Correct! Surrogate endpoints can mislead. The relationship between PVC suppression and survival was never proven - and turned out to be the opposite of expected." },
          { id: 'c', text: "Approve for low-risk patients only", consequence: 'bad', result: "Still wrong. Without mortality data, you can't know which patients might be harmed. CAST showed harm across subgroups." }
        ],
        correct: 'b',
        principle: 0,
        lesson: "Not every signal is truth. Surrogates must be validated against hard outcomes before driving treatment decisions."
      },
      {
        id: 'hrt_scenario',
        module: 2,
        title: 'The HRT Recommendation',
        situation: "It's 1998. A postmenopausal woman asks about hormone replacement therapy. You have 30+ observational studies showing 40-50% reduction in heart disease. No large RCTs exist yet.",
        question: "What do you tell her?",
        choices: [
          { id: 'a', text: "Recommend HRT strongly - the observational evidence is overwhelming", consequence: 'bad', result: "The WHI trial (2002) showed HRT INCREASED heart disease (HR 1.29). The observational benefit was confounded by healthy user bias - women who chose HRT were healthier at baseline." },
          { id: 'b', text: "Explain the uncertainty - observational data may be confounded, wait for RCT results", consequence: 'good', result: "Correct! You appropriately communicated uncertainty. The WHI proved the observational signal was misleading due to confounding." },
          { id: 'c', text: "Recommend HRT but only for women with risk factors", consequence: 'bad', result: "Still problematic. Targeting 'high-risk' women doesn't fix confounding - it may concentrate harm." }
        ],
        correct: 'b',
        principle: 1,
        lesson: "Methods protect patients from our confidence. Observational associations are not causal proof."
      },
      {
        id: 'rosi_scenario',
        module: 3,
        title: 'The Hidden Trials',
        situation: "You're conducting a meta-analysis of rosiglitazone for diabetes in 2006. You've found 12 published trials. A colleague mentions the FDA might have unpublished data.",
        question: "What do you do?",
        choices: [
          { id: 'a', text: "Proceder uniquement avec les essais publies; les donnees non publiees sont trop difficiles a obtenir.", consequence: 'bad', result: "La meta-analyse de Nissen (2007) a retrouve des essais GSK non publies. Leur inclusion a revele un risque d'infarctus du myocarde augmente de 43% (OR 1.43), invisible avec les seules donnees publiees." },
          { id: 'b', text: "File FOIA requests, search ClinicalTrials.gov, contact the manufacturer", consequence: 'good', result: "Correct! Grey literature searching is essential. The rosiglitazone cardiac signal was hidden in unpublished regulatory submissions for years." },
          { id: 'c', text: "Add a sensitivity analysis assuming unpublished trials exist", consequence: 'neutral', result: "Mieux que rien, mais insuffisant. Vous ne pouvez pas modeliser ce que vous n'avez pas essaye de trouver. Une recherche active est necessaire." }
        ],
        correct: 'b',
        principle: 2,
        lesson: "What was hidden in plain sight? Comprehensive searching beyond published literature is methodologically required."
      },
      {
        id: 'decrease_scenario',
        module: 5,
        title: 'The Suspicious Pattern',
        situation: "You're verifying extracted data for a meta-analysis. One prominent researcher's trials show remarkably consistent effects (I = 0%) while other trials show high heterogeneity. His event rates are unusually balanced.",
        question: "What do you do?",
        choices: [
          { id: 'a', text: "Acceptez les donnes - une faible htrognit est une bonne chose, et il's a respected researcher", consequence: 'bad', result: "Don Poldermans'Les essais DECREASE se sont rvls plus tard fabriqus. Le'perfect' consistency was a red flag - real data is messier. His fraud influenced guidelines for years." },
          { id: 'b', text: "Request source documents and verify numbers against original publications", consequence: 'good', result: "Correct! Provenance verification caught the fraud. When investigators traced his numbers to source, patients didn't exist. 800,000 may have been harmed by guidelines built on his fabrications." },
          { id: 'c', text: "Conduct sensitivity analysis excluding his studies", consequence: 'neutral', result: "Helpful but insufficient. You should verify first - if fraud is suspected, exclusion should be justified by evidence, not suspicion." }
        ],
        correct: 'b',
        principle: 3,
        lesson: "The number without provenance is not a number. Every data point needs verification to its source."
      },
      {
        id: 'heterogeneity_scenario',
        module: 8,
        title: 'The I Dilemma',
        situation: "Your meta-analysis of intensive glucose control shows a pooled HR of 0.91 (95% CI 0.84-0.99) for cardiovascular events, but I = 78%. The ACCORD trial shows harm (HR 1.22) while others show benefit.",
        question: "How do you report this?",
        choices: [
          { id: 'a', text: "Report the pooled estimate - it's statistically significant and favors treatment", consequence: 'bad', result: "Dangerous! High heterogeneity means the pooled estimate doesn't represent reality. ACCORD showed that intensive control INCREASED mortality in some patients. Reporting only the average hides life-threatening subgroup effects." },
          { id: 'b', text: "Investigate heterogeneity sources, report subgroup differences prominently", consequence: 'good', result: "Correct! ACCORD found that intensive control harmed patients with long diabetes duration and cardiovascular disease. The 'average' benefit masked deadly harm in specific subgroups." },
          { id: 'c', text: "Use random effects and report wider confidence intervals", consequence: 'neutral', result: "Technically correct but misses the point. Random effects accounts for heterogeneity statistically but doesn't explain it clinically. The ACCORD harm signal needs investigation, not statistical smoothing." }
        ],
        correct: 'b',
        principle: 4,
        lesson: "Heterogeneity is a message, not noise. High I demands investigation, not just statistical adjustment."
      },
      {
        id: 'orbita_scenario',
        module: 4,
        title: 'The Sham Surgery Question',
        situation: "It's 2015. You're-concevoir un essai d\'ICP pour l\'angor stable. Des essais antrieurs en aveugle montrent une amlioration des symptmes. Un statisticien suggre d\'utiliser une procdure fictive (cathtrisme sans pose de stent) comme contrle.", question: "Qu\'est-ce que's your response?",
        choices: [
          { id: 'a', text: "Reject sham control - it's unethical to do an invasive procedure without benefit", consequence: 'bad', result: "The ORBITA trial (2017) used sham control and found NO difference in exercise time (16.6 sec, 95% CI -8.9 to 42.0). Without the sham, the placebo effect of PCI would have been mistaken for treatment effect." },
          { id: 'b', text: "Support sham control - without blinding, we can't distinguish placebo from treatment effect", consequence: 'good', result: "Correct! ORBITA revolutionized cardiology by showing that much of PCI's benefit in stable angina was placebo effect. The sham control was essential to reveal this." },
          { id: 'c', text: "Use objective endpoints like MI or death instead of symptoms", consequence: 'neutral', result: "These are important but COURAGE already showed no mortality benefit. The question was whether symptom improvement was real - and only sham control could answer that." }
        ],
        correct: 'b',
        principle: 1,
        lesson: "Methods protect patients from our confidence. Sham controls reveal what unblinded trials cannot."
      },
      {
        id: 'prowess_scenario',
        module: 6,
        title: 'The Single Positive Trial',
        situation: "It's 2002. The PROWESS trial shows activated protein C reduces sepsis mortality (RR 0.81, p=0.005). The manufacturer seeks FDA approval. You're on the advisory committee.",
        question: "What do you recommend?",
        choices: [
          { id: 'a', text: "Approuver immdiatement - l\'essai est vaste et statistiquement significatif", consequence:'bad', result: "PROWESS-SHOCK (2012) found NO benefit (RR 1.09, 95% CI 0.92-1.28) and bleeding harm. The drug was withdrawn after 10 years of use. Single trials, however impressive, need replication." },
          { id: 'b', text: "Require confirmatory trial before broad approval", consequence: 'good', result: "Correct! Replication is essential. PROWESS was likely a false positive or affected by trial conduct issues. The confirmatory trial would have prevented years of inappropriate use." },
          { id: 'c', text: "Approve with post-marketing surveillance", consequence: 'neutral', result: "Insufficient. Post-marketing surveillance rarely generates the evidence quality needed to reverse approvals. A proper confirmatory trial was needed." }
        ],
        correct: 'b',
        principle: 5,
        lesson: "Absence of replication evidence is not evidence of efficacy. Single trials do not crown therapies."
      },
      {
        id: 'egdt_scenario',
        module: 7,
        title: 'The Landmark Replication',
        situation: "L'essai Rivers EGDT (2001) a montre une reduction spectaculaire de la mortalite liee au sepsis. En 2014, trois grands essais de replication (ProCESS, ARISE, ProMISe) n'ont montre aucun benefice. Comment interpreter ce contraste ?",
        question: "Quelle est votre conclusion ?",
        choices: [
          { id: 'a', text: "Rivers was wrong - EGDT doesn't work", consequence: 'neutral', result: "Partiellement correct, mais incomplet. Rivers n'etait pas forcement 'faux' : le contexte clinique a change. Les soins usuels en 2014 etaient nettement meilleurs qu'en 2001." },
          { id: 'b', text: "Usual care improved so much that EGDT's advantage disappeared", consequence: 'good', result: "Correct ! C'est un effet de tendance seculaire : le groupe controle de 2014 recevait deja des soins integrant plusieurs principes de l'EGDT." },
          { id: 'c', text: "Les essais de replication ont ete realises dans differentes populations", consequence: 'neutral', result: "Vrai, mais incomplet. Les differences de population n'expliquent pas a elles seules la disparition du signal ; l'amelioration des soins standards est centrale." }
        ],
        correct: 'b',
        principle: 5,
        lesson: "Context matters. Treatments that worked against outdated usual care may show no benefit when standards improve."
      },
      {
        id: 'grade_scenario',
        module: 10,
        title: 'The Certainty Rating',
        situation: "You're rating certainty of evidence for intensive BP control. You have RCTs showing benefit (SPRINT), but they excluded diabetics and used automated office BP. Your population includes diabetics and uses manual BP.",
        question: "How do you rate certainty for your guideline population?",
        choices: [
          { id: 'a', text: "High certainty - SPRINT was a well-conducted RCT", consequence: 'bad', result: "Faux! GRADE ncessite une valuation pour VOTRE population. SPRINT's results don't directly apply to diabetics (excluded) or clinics using manual BP measurement (which reads ~10 mmHg higher). This is INDIRECTNESS." },
          { id: 'b', text: "Dclassement pour caractre indirect - la population et les mesures diffrent", consequence:'good', result: "Correct! SPRINT excluded diabetics (ACCORD showed harm in diabetics!) and used automated BP (lower readings than manual). Applying SPRINT targets with manual BP would overtreate patients." },
          { id: 'c', text: "Moderate certainty - some uncertainty but RCTs are gold standard", consequence: 'neutral', result: "Pas assez prcis. Vous devez identifier POURQUOI vous're downgrading. Indirectness in population (diabetics excluded) and intervention (BP measurement method) requires explicit acknowledgment." }
        ],
        correct: 'b',
        principle: 6,
        lesson: "Certainty must be earned for YOUR population. Direct evidence beats indirect evidence, regardless of study design."
      },
      {
        id: 'funnel_scenario',
        module: 9,
        title: 'The Asymmetric Funnel', situation: "Votre trac en entonnoir pour une intervention chirurgicale montre une asymtrie marque: les petites tudes se regroupent du ct positif, les grandes tudes sont proches du nul. Egger's test p=0.02.",
        question: "How do you proceed?",
        choices: [
          { id: 'a', text: "Apply trim-and-fill to adjust the pooled estimate", consequence: 'neutral', result: "Trim-and-fill is a sensitivity analysis, not a fix. It assumes the asymmetry is pure publication bias, but small-study effects could also be due to patient selection, intervention fidelity, or true heterogeneity." },
          { id: 'b', text: "Signaler l\'asymtrie, explorer les causes et prsenter avec et sans petites tudes", consequence:'good', result: "Correct! Funnel asymmetry has multiple causes: publication bias, true heterogeneity, or different patient populations in small vs large studies. Transparent reporting of all possibilities is essential." },
          { id: 'c', text: "Exclude small studies as they're likely biased", consequence: 'bad', result: "Arbitrary exclusion creates its own bias. Small studies might represent different populations where the treatment truly works better. Investigation, not exclusion, is the answer." }
        ],
        correct: 'b',
        principle: 2,
        lesson: "What was hidden in plain sight? Funnel asymmetry reveals problems but doesn't specify the cause. Investigation is required."
      }
    ];

    // Track scenario completions
    let scenarioState = {
      completed: {},
      confidenceRatings: []
    };

    function renderScenario(scenarioId, containerId) {
      const scenario = branchingScenarios.find(s => s.id === scenarioId);
      if (!scenario) return;

      const container = document.getElementById(containerId);
      if (!container) return;

      const isCompleted = scenarioState.completed[scenarioId];

      container.innerHTML = `
        <div class="scenario-panel" id="scenario-${scenarioId}">
          <div class="scenario-header">
            <span class="scenario-icon"></span>
            <span class="scenario-title">${scenario.title}</span>
          </div>
          <div class="scenario-situation">${scenario.situation}</div>
          <div class="scenario-question">${scenario.question}</div>
          <div class="scenario-choices">
            ${scenario.choices.map(c => `
              <div class="scenario-choice ${isCompleted ? 'answered' : ''} ${isCompleted && c.id === scenario.correct ? 'correct' : ''} ${isCompleted && scenarioState.completed[scenarioId] === c.id && c.id !== scenario.correct ? 'incorrect' : ''}"
                   onclick="${isCompleted ? '' : `selectScenarioChoice('${scenarioId}', '${c.id}')`}">
                <span class="choice-letter">${c.id.toUpperCase()}</span>
                <span class="choice-text">${c.text}</span>
              </div>
            `).join('')}
          </div>
          <div class="scenario-consequence ${isCompleted ? 'visible' : ''} ${isCompleted ? scenario.choices.find(c => c.id === scenarioState.completed[scenarioId])?.consequence || '' : ''}" id="consequence-${scenarioId}">
            ${isCompleted ? renderConsequence(scenario, scenarioState.completed[scenarioId]) : ''}
          </div>
        </div>
      `;
    }

    function renderConsequence(scenario, choiceId) {
      const choice = scenario.choices.find(c => c.id === choiceId);
      const isCorrect = choiceId === scenario.correct;
      return `
        <div class="consequence-title">
          ${isCorrect ? ' Good decision!' : ' Problematic decision'}
        </div>
        <div class="consequence-text">${choice.result}</div>
        <div class="consequence-lesson"><strong>Principle ${scenario.principle + 1}:</strong> ${scenario.lesson}</div>
      `;
    }

    function selectScenarioChoice(scenarioId, choiceId) {
      const scenario = branchingScenarios.find(s => s.id === scenarioId);
      if (!scenario || scenarioState.completed[scenarioId]) return;

      scenarioState.completed[scenarioId] = choiceId;

      // Award points
      if (choiceId === scenario.correct) {
        awardPoints(30, 'Correct scenario decision');
      } else {
        awardPoints(10, 'Scenario attempted');
      }

      // Check for badge
      const completedCount = Object.keys(scenarioState.completed).length;
      if (completedCount >= 5) {
        earnBadge('scenario_solver');
      }

      saveProgress();

      // Re-render with answer shown
      const container = document.getElementById(`scenario-${scenarioId}`)?.parentElement;
      if (container) {
        renderScenario(scenarioId, container.id);
      }
    }

    // ============================================================
    // CONFIDENCE CALIBRATION SYSTEM
    // ============================================================

    let calibrationState = {
      predictions: [], // { confidence: 0-100, correct: boolean }
      totalPredictions: 0,
      calibrationScore: null
    };

    function addConfidenceToPredict(containerId) {
      const container = document.getElementById(containerId);
      if (!container) return;

      const existingSection = container.querySelector('.confidence-section');
      if (existingSection) return;

      const section = document.createElement('div');
      section.className = 'confidence-section';
      section.innerHTML = `
        <div class="confidence-label">How confident are you in your prediction?</div>
        <div class="confidence-slider-container">
          <input type="range" class="confidence-slider" min="0" max="100" value="50"
                 oninput="updateConfidenceDisplay(this)">
          <span class="confidence-value">50%</span>
        </div>
        <div class="confidence-labels">
          <span>Guessing</span>
          <span>Very sure</span>
        </div>
      `;
      container.appendChild(section);
    }

    function updateConfidenceDisplay(slider) {
      const value = slider.value;
      slider.nextElementSibling.textContent = value + '%';
    }

    function recordConfidence(confidence, wasCorrect) {
      calibrationState.predictions.push({ confidence, correct: wasCorrect });
      calibrationState.totalPredictions++;
      calculateCalibrationScore();
      saveProgress();
    }

    function calculateCalibrationScore() {
      if (calibrationState.predictions.length < 5) {
        calibrationState.calibrationScore = null;
        return;
      }

      // Group predictions by confidence bands
      const bands = { low: [], mid: [], high: [] };
      calibrationState.predictions.forEach(p => {
        if (p.confidence < 40) bands.low.push(p);
        else if (p.confidence < 70) bands.mid.push(p);
        else bands.high.push(p);
      });

      // Calculate accuracy per band
      const bandAccuracy = {};
      Object.keys(bands).forEach(band => {
        if (bands[band].length > 0) {
          const correct = bands[band].filter(p => p.correct).length;
          bandAccuracy[band] = correct / bands[band].length;
        }
      });

      // Perfect calibration: high confidence = high accuracy, low confidence = low accuracy
      // Score: 100 - average absolute deviation from expected
      let totalDeviation = 0;
      let count = 0;

      if (bands.high.length > 0) {
        totalDeviation += Math.abs((bandAccuracy.high || 0) - 0.85) * 100;
        count++;
      }
      if (bands.mid.length > 0) {
        totalDeviation += Math.abs((bandAccuracy.mid || 0) - 0.55) * 100;
        count++;
      }
      if (bands.low.length > 0) {
        totalDeviation += Math.abs((bandAccuracy.low || 0) - 0.25) * 100;
        count++;
      }

      calibrationState.calibrationScore = count > 0 ? Math.max(0, 100 - (totalDeviation / count)) : null;

      // Award badge for good calibration
      if (calibrationState.calibrationScore >= 80) {
        earnBadge('well_calibrated');
      }
    }

    // ============================================================
    // ENHANCED ANALOGY SYSTEM
    // ============================================================

    const conceptAnalogies = {
      'heterogeneity': {
        icon: '',
        title: 'Orchestra Tuning',
        concept: 'I (Heterogeneity)', text: "Comme un orchestre qui s\'accorde - une certaine variation est normale et attendue. Mais si les violons jouent dans des tonalits diffrentes, quelque chose's wrong. High I means your studies aren't playing the same tune."
      },
      'publication_bias': {
        icon: '',
        title: 'Missing Socks',
        concept: 'Biais de publication',
        text: "Like socks in the laundry - you KNOW pairs went in, but only the positive results come out. The missing negative trials are like those single socks that vanished. The asymmetric funnel plot reveals the gap."
      },
      'forest_plot': {
        icon: '',
        title: 'Jury of Studies',
        concept: 'Graphique en for?t', text: "Chaque tude est un jur qui rend un verdict. Certains sont plus srs (IC troit), d\'autres moins. Le diamant est le jury's consensus - but if jurors wildly disagree (heterogeneity), should you trust the average verdict?"
      },
      'funnel_plot': {
        icon: '',
        title: 'Flashlight Beam',
        concept: 'Diagramme en entonnoir',
        text: "A flashlight should illuminate evenly in all directions. An asymmetric funnel plot is like a flashlight with something blocking one side - you're not seeing the full picture. Small studies on one side are suspiciously missing."
      },
      'grade': {
        icon: '',
        title: 'Ladder of Confidence',
        concept: 'GRADE Certainty',
        text: "Each rung must be earned, not assumed. You start at the top (RCT) or bottom (observational) and can only move with evidence. Risk of bias pushes you down; large effects can pull you up. No shortcuts."
      },
      'tau_squared': {
        icon: '',
        title: 'Background Static',
        concept: ' (Between-study variance)',
        text: "Like static on a radio station - how much noise is in the signal? Low  means clear reception (studies agree). High  means interference from unknown sources - different populations, interventions, or outcomes."
      },
      'random_effects': {
        icon: '',
        title: 'Different Orchestras',
        concept: 'Random Effects Model',
        text: "Fixed effects: same orchestra playing multiple times. Random effects: different orchestras playing the same piece. Each adds their interpretation. We want the average of all possible orchestras, not just this one."
      },
      'prediction_interval': {
        icon: '',
        title: 'Where Will the Arrow Land?',
        concept: 'Intervalle de pr?diction',
        text: "The CI tells you where the TRUE average is. The prediction interval tells you where the NEXT study will likely fall. If your PI crosses the line of no effect, a new study might flip the conclusion."
      },
      'surrogate': {
        icon: '',
        title: 'Map vs Territory',
        concept: 'Surrogate Endpoints',
        text: "A map (surrogate) represents the territory (clinical outcome). But a map can be wrong. PVC suppression was the map; mortality was the territory. CAST proved the map led off a cliff."
      },
      'confounding': {
        icon: '',
        title: 'Umbrella & Rain',
        concept: 'Confounding',
        text: "Umbrella sales predict rain. But buying umbrellas doesn't cause rain. The confounder (weather forecast) affects both. HRT users weren't healthier BECAUSE of HRT - they were healthier women who CHOSE HRT."
      }
    };

    function getAnalogy(conceptKey) {
      return conceptAnalogies[conceptKey] || null;
    }

    function renderAnalogy(conceptKey, containerId) {
      const analogy = getAnalogy(conceptKey);
      if (!analogy) return;

      const container = document.getElementById(containerId);
      if (!container) return;

      container.innerHTML = `
        <div class="analogy-card">
          <div class="analogy-header">
            <span class="analogy-icon">${analogy.icon}</span>
            <span class="analogy-title">${analogy.title}</span>
            <span class="analogy-concept">${analogy.concept}</span>
          </div>
          <div class="analogy-text">"${analogy.text}"</div>
        </div>
      `;
    }

    // ============================================================
    // MISCONCEPTION CHALLENGES (from Evidence Reversal 40)
    // ============================================================

    const misconceptions = [
      // Original 10 - Evidence Reversals
      { id: 1, statement: "If arrhythmias fall, survival must rise.", truth: false, story: "CAST", explanation: "Encainide/flecainide suppressed PVCs but tripled mortality. Surrogates can deceive." },
      { id: 2, statement: "Observational prevention equals causal prevention.", truth: false, story: "WHI/HRT", explanation: "Healthy user bias made HRT look protective. RCTs showed harm." },
      { id: 3, statement: "Surgery proves itself without sham control.", truth: false, story: "Moseley", explanation: "Arthroscopic knee surgery was no better than sham. Placebo effect is powerful." },
      { id: 4, statement: "If the artery is open, outcomes must improve.", truth: false, story: "COURAGE", explanation: "PCI for stable CAD didn't reduce death/MI vs medical therapy alone." },
      { id: 5, statement: "Lower glucose always means better outcomes.", truth: false, story:"NICE-SUGAR", explanation: "Intensive glucose control increased mortality in ICU patients." },
      { id: 6, statement: "A positive early signal is enough for adoption.", truth: false, story:"PROWESS-SHOCK", explanation: "Activated protein C looked promising until definitive trial showed no benefit." },
      { id: 7, statement: "If a mechanism is plausible, outcomes follow.", truth: false, story:"MAGIC", explanation: "Magnesium had sound antiarrhythmic theory but no mortality benefit in large trials." },
      { id: 8, statement: "More measurements mean more survival.", truth: false, story:"ESCAPE", explanation: "Pulmonary artery catheters provided data but no outcome improvement in heart failure." },
      { id: 9, statement: "Device enthusiasm replaces randomized proof.", truth: false, story:"CORAL", explanation: "Renal artery stenting had no benefit despite strong mechanistic rationale." },
      { id: 10, statement: "Guidelines equal proof.", truth: false, story:"IABP-SHOCK", explanation: "Intra-aortic balloon pump was Class I recommended but showed no benefit in RCT." },
      // More Evidence Reversals
      { id: 11, statement: "Raising HDL with drugs guarantees fewer heart attacks.", truth: false, story:"AIM-HIGH", explanation: "Niacin raised HDL but didn't reduce cardiovascular events. HDL was a marker, not a modifiable cause." },
      { id: 12, statement: "If it worked in one landmark trial, it works everywhere.", truth: false, story: "ProCESS/ARISE/ProMISe", explanation: "Rivers' EGDT worked in 2001 but three replication trials failed. Usual care had improved, diluting the effect." },
      { id: 13, statement: "Antioxidants prevent cancer in smokers.", truth: false, story:"ATBC/CARET", explanation: "Beta-carotene INCREASED lung cancer in smokers (RR 1.16-1.28). Mechanism doesn't guarantee benefit." },
      { id: 14, statement: "More screening always saves more lives.", truth: false, story: "PLCO", explanation: "PSA screening found more cancers but didn't reduce mortality - it found cancers that would never kill." },
      { id: 15, statement: "Normalizing hemoglobin improves kidney patient outcomes.", truth: false, story:"CHOIR/TREAT", explanation: "Higher Hb targets increased stroke and death. The target became the enemy." },
      { id: 16, statement: "New devices are safer because they are new.", truth: false, story:"SAMMPRIS", explanation: "Intracranial stents tripled 30-day stroke/death vs medical therapy (14.7% vs 5.8%)." },
      { id: 17, statement: "If homocysteine drops, cardiovascular risk drops.", truth: false, story:"NORVIT", explanation: "B vitamins lowered homocysteine but didn't reduce events. Biomarker fallacy." },
      { id: 18, statement: "Routine oxygen helps heart attack patients.", truth: false, story: "DETO2X-AMI", explanation: "Oxygen in non-hypoxic MI patients showed no mortality benefit. A century of practice, no evidence." },
      { id: 19, statement: "Early aggressive feeding speeds ICU recovery.", truth: false, story: "EPaNIC", explanation: "Late parenteral nutrition led to FASTER discharge than early feeding. Timing matters." },
      { id: 20, statement: "Removing thrombus during PCI must improve outcomes.", truth: false, story: "TASTE", explanation: "Thrombus aspiration added procedural time but no mortality benefit. Logical doesn't mean proven." },
      // Cochrane Methods Misconceptions
      { id: 21, statement: "Low I means the studies agree enough to pool.", truth: false, story:"Methods", explanation: "I can be low with clinically important differences. Prediction intervals reveal the true spread of effects." },
      { id: 22, statement: "Statistically significant means clinically important.", truth: false, story:"Methods", explanation: "Large trials can detect tiny, meaningless effects. Effect SIZE and CI width matter more than p-values." },
      { id: 23, statement: "RCTs are always high certainty evidence.", truth: false, story:"GRADE", explanation: "RCTs start high but are downgraded for bias, imprecision, indirectness, inconsistency, or publication bias." },
      { id: 24, statement: "Funnel plot asymmetry proves publication bias.", truth: false, story:"Methods", explanation: "Asymmetry has many causes: true heterogeneity, small-study effects, different populations. Investigation needed." },
      { id: 25, statement: "Random effects models fix heterogeneity.", truth: false, story:"Methods", explanation: "Random effects account for heterogeneity statistically but don't explain it. Clinical investigation is still required." }
    ];

    function renderMisconceptionChallenge(misconceptionId, containerId) {
      const m = misconceptions.find(x => x.id === misconceptionId);
      if (!m) return;

      const container = document.getElementById(containerId);
      if (!container) return;

      container.innerHTML = `
        <div class="misconception-challenge" id="misconception-${m.id}">
          <div class="misconception-header">
            <span></span>
            <span>Common Belief Challenge</span>
          </div>
          <div class="misconception-statement">"${m.statement}"</div>
          <div class="misconception-buttons">
            <button class="misconception-btn true-btn" onclick="answerMisconception(${m.id}, true)">TRUE</button>
            <button class="misconception-btn false-btn" onclick="answerMisconception(${m.id}, false)">FALSE</button>
          </div>
          <div class="misconception-result" id="misconception-result-${m.id}"></div>
        </div>
      `;
    }

    function answerMisconception(id, answer) {
      const m = misconceptions.find(x => x.id === id);
      if (!m) return;

      const isCorrect = answer === m.truth;
      const trueBtn = document.querySelector(`#misconception-${id} .true-btn`);
      const falseBtn = document.querySelector(`#misconception-${id} .false-btn`);
      const resultDiv = document.getElementById(`misconception-result-${id}`);

      // Disable buttons
      trueBtn.disabled = true;
      falseBtn.disabled = true;

      // Show correct/incorrect
      if (m.truth) {
        trueBtn.classList.add('correct');
        if (!answer) falseBtn.classList.add('wrong');
      } else {
        falseBtn.classList.add('correct');
        if (answer) trueBtn.classList.add('wrong');
      }

      // Show result
      resultDiv.className = `misconception-result visible ${isCorrect ? 'correct' : 'incorrect'}`;
      resultDiv.innerHTML = `
        <strong>${isCorrect ? ' Correct!' : ' Not quite.'}</strong>
        This belief is <strong>${m.truth ? 'TRUE' : 'FALSE'}</strong>.
        <br><br>
        <strong>${m.story}:</strong> ${m.explanation}
      `;

      // Award points
      if (isCorrect) {
        awardPoints(20, 'Misconception challenge correct');
      }
      saveProgress();
    }

    // ============================================================
    // PRACTICE PROBLEMS (Addressing Cochrane Gaps)
    // ============================================================

    const practiceProblems = [
      // GRADE Problems
      {
        id: 'grade_1',
        category: 'GRADE',
        title: 'Rating Certainty: SPRINT Trial',
        scenario: 'You\'re creating a guideline for hypertension. The SPRINT trial (RCT, n=9,361) shows intensive BP control reduces CV events (HR 0.75, 95% CI 0.64-0.89). However: (1) Trial excluded diabetics, (2) Used automated office BP (reads ~10 mmHg lower than manual), (3) Composite endpoint included heart failure.',
        question: 'Quel niveau de certitude GRADE est appropri pour VOTRE population clinique qui comprend des diabtiques et utilise la TA manuelle?',
        options: [
          { id: 'a', text: 'High - SPRINT was a large, well-conducted RCT', correct: false },
          { id: 'b', text: 'Moderate - Downgrade one level for indirectness (population differs)', correct: true },
          { id: 'c', text: 'Faible:rtrogradation de deux niveaux pour cause de caractre indirect et d\'imprcision', correct: false },
          { id: 'd', text: 'Very Low - Multiple serious concerns', correct: false }
        ],
        explanation: 'Downgrade ONE level for serious indirectness: (1) Population excludes diabetics (ACCORD showed HARM in diabetics with intensive control), (2) BP measurement method differs (applying SPRINT targets with manual BP would overtreate). The trial quality was good, but the results don\'t directly apply to your population.',
        principle: 6
      },
      {
        id: 'grade_2',
        category: 'GRADE',
        title: 'When Observational Beats RCT',
        scenario: 'Pour un effet indsirable rare (hpatotoxicit avec un nouveau mdicament), vous disposez de : (1) des ECR montrant 0/2 000 vnements en traitement vs 0/2 000 en contrle, (2) une large base de donnes de pharmacovigilance montrant 45 cas chez 500 000 utilisateurs (9/100 000).',
        question: 'Quest-ce qui offre une plus grande certitude pour ce signal de scurit?',
        options: [
          { id: 'a', text: 'Les ECR: ils sont la rfrence', correct: false },
          { id: 'b', text: 'Les donnes observationnelles : elles ont le pouvoir de dtecter des vnements rares', correct: true },
          { id: 'c', text: 'Ni l\'un ni l\'autre: vous avez besoin de plus de donnes ECR', correct: false },
          { id: 'd', text: 'Combine them in a meta-analysis', correct: false }
        ],
        explanation: 'RCTs are underpowered for rare events. With 2,000 patients, you\'d need a risk >1/500 to detect one event. The observational data, despite confounding risks, provides the only evidence of a real signal. GRADE can rate UP observational data when effect is large or there\'s dose-response.',
        principle: 5
      },
      // Intervalle de pr?diction Problems
      {
        id: 'pi_1',
        category: 'Intervalle de pr?dictions',
        title: 'Beyond I-squared',
        scenario: 'A meta-analysis of 8 trials shows: Pooled RR = 0.80 (95% CI 0.72-0.89), I = 65%,  = 0.04. The 95% prediction interval is 0.55-1.16.',
        question: 'If you run a new trial in a similar population, what range of effects is plausible?',
        options: [
          { id: 'a', text: '0,72-0,89 (l\'intervalle de confiance)', correct: false },
          { id: 'b', text: '0,55-1,16 (l\'intervalle de prdiction)', correct: true },
          { id: 'c', text: 'Environ 0,80 (l\'estimation ponctuelle)', correct: false },
          { id: 'd', text: 'Impossible de prdire  partir de ces donnes', correct: false }
        ],
        explanation: 'The PREDICTION INTERVAL (0.55-1.16) shows the range of true effects in different settings. It INCLUDES 1.0, meaning a new trial might show HARM even though the pooled estimate shows benefit. I tells you heterogeneity exists; prediction intervals tell you what it means for the next patient/setting.',
        principle: 4
      },
      {
        id: 'pi_2',
        category: 'Intervalle de pr?dictions',
        title: 'Clinical Interpretation',
        scenario: 'You\'re advising a colleague about implementing an intervention. The meta-analysis shows: RR = 0.70 (95% CI 0.60-0.82), I = 45% (moderate), 95% prediction interval = 0.50-0.98.',
        question: 'Que dites-vous  votre collgue ?',
        options: [
          { id: 'a', text: 'Strong evidence of benefit - implement confidently', correct: false },
          { id: 'b', text: 'Likely beneficial but effect size may vary substantially by setting', correct: true },
          { id: 'c', text: 'Too much heterogeneity to draw conclusions', correct: false },
          { id: 'd', text: 'Wait for more trials to reduce uncertainty', correct: false }
        ],
        explanation: 'L\'intervalle de prdiction (0,50-0,98) reste infrieur  1,0, ce qui suggre qu\'un bnfice est probable dans la plupart des contextes, mme si son ampleur varie (rduction de 30  50 %). Cest PLUS informatif que de simplement signaler une  htrognit modre . Le traitement est probablement utile, mais son ampleur dpend de facteurs locaux.',
        principle: 4
      },
      // Risk of Bias Problems
      {
        id: 'rob_1',
        category: 'Risk of Bias',
        title: 'Retrospective Red Flags',
        scenario: 'Reviewing a trial of a surgical intervention: (1) Patients knew their allocation, (2) Surgeons obviously couldn\'t be blinded, (3) Primary outcome was "patient-reported pain at 6 months", (4) 15% lost to follow-up, similar between groups.',
        question: 'What is the MAIN risk of bias concern?',
        options: [
          { id: 'a', text: 'Selection bias - randomization might have been subverted', correct: false },
          { id: 'b', text: 'Performance bias - surgeons weren\'t blinded', correct: false },
          { id: 'c', text: 'Detection bias - patients knew allocation and reported subjective outcome', correct: true },
          { id: 'd', text: 'Attrition bias - 15% lost to follow-up', correct: false }
        ],
        explanation: 'With UNBLINDED patients reporting SUBJECTIVE outcomes, detection bias is critical. Patients who know they got the "real" surgery often report more improvement (placebo effect). This is exactly why ORBITA used sham surgery - to separate placebo from true treatment effect. The 15% attrition, balanced between groups, is less concerning.',
        principle: 1
      },
      {
        id: 'rob_2',
        category: 'Risk of Bias',
        title: 'Les signaux de DIMINUTION',
        scenario: 'Reviewing trials by a prolific researcher, you notice: (1) Event rates perfectly balanced between groups, (2) I = 0% when his trials pooled alone (but 70% when combined with others), (3) Effects consistently larger than other researchers\' trials, (4) Unable to verify source data.',
        question: 'Que devez-vous faire ?',
        options: [
          { id: 'a', text: 'Include the trials - low heterogeneity is desirable', correct: false },
          { id: 'b', text: 'Conduct sensitivity analysis excluding his trials', correct: false },
          { id: 'c', text: 'Request source data verification before inclusion', correct: true },
          { id: 'd', text: 'Report concerns but include anyway', correct: false }
        ],
        explanation: 'These are classic fabrication signals (from the DECREASE fraud case). "Perfect" data is a red flag - real biological data is messy. The ONLY acceptable path is source data verification. Don Poldermans\' fraud influenced guidelines for years; 800,000 patients may have been harmed. Numbers without provenance are not numbers.',
        principle: 3
      },
      // Biais de publication Problems
      {
        id: 'pb_1',
        category: 'Biais de publication',
        title: 'Asymmetric Funnel',
        scenario: 'Your funnel plot shows: Large trials cluster around RR=1.0, small trials cluster around RR=0.6 (all on the "benefit" side). Egger\'s test p=0.01.',
        question: 'What\'s the most likely explanation?',
        options: [
          { id: 'a', text: 'Publication bias - small negative trials weren\'t published', correct: false },
          { id: 'b', text: 'Small-study effects - could be publication bias OR true heterogeneity', correct: true },
          { id: 'c', text: 'The small trials found the true effect; large trials are diluted', correct: false },
          { id: 'd', text: 'Random variation - asymmetry is expected', correct: false }
        ],
        explanation: 'L\'asymtrie de l\'entonnoir a de MULTIPLES causes: (1) Biais de publication, (2) Vritable htrognit (petits essais dans diffrentes populations), (3) Diffrences mthodologiques (petits essais moins rigoureux), (4) Chance. Vous ne pouvez pas conclure  un  biais de publication   partir de la seule asymtrie. Une recherche du POURQUOI est ncessaire.',
        principle: 2
      },
      {
        id: 'pb_2',
        category: 'Biais de publication',
        title: 'Les preuves manquantes',
        scenario: 'You\'re meta-analyzing an antidepressant. ClinicalTrials.gov shows 12 registered trials; you found 8 publications. The 4 missing trials were completed 3+ years ago.',
        question: 'What do you do?',
        options: [
          { id: 'a', text: 'Procder aux 8 essais publis - c\'est une pratique courante', correct: false },
          { id: 'b', text: 'Contacter les sponsors/auteurs et dposer des demandes FOIA pour des donnes non publies', correct: true },
          { id: 'c', text: 'Notez la limitation dans votre section de discussion', correct: false },
          { id: 'd', text: 'Utilisez le dcoupage et le remplissage pour ajuster les essais manquants', correct: false }
        ],
        explanation: 'La FDA a constat que 94 % des essais publis sur les antidpresseurs taient positifs, contre 51 % de TOUS les essais soumis  la FDA. Vous DEVEZ tenter d\'obtenir les donnes manquantes - ce n\'est pas facultatif. Constater la limitation sans essayer d\'y remdier est une ngligence mthodologique.',
        principle: 2
      }
    ];

    function renderPracticeProblem(problemId, containerId) {
      const problem = practiceProblems.find(p => p.id === problemId);
      if (!problem) return;

      const container = document.getElementById(containerId);
      if (!container) return;

      container.innerHTML = `
        <div class="practice-problem" id="problem-${problem.id}">
          <div class="practice-header">
            <span class="practice-category">${problem.category}</span>
            <span class="practice-title">${problem.title}</span>
          </div>
          <div class="practice-scenario">${problem.scenario}</div>
          <div class="practice-question"><strong>${problem.question}</strong></div>
          <div class="practice-options">
            ${problem.options.map(opt => `
              <button class="practice-option" onclick="answerPracticeProblem('${problem.id}', '${opt.id}')">
                <span class="option-letter">${opt.id.toUpperCase()}</span>
                <span class="option-text">${opt.text}</span>
              </button>
            `).join('')}
          </div>
          <div class="practice-feedback" id="feedback-${problem.id}"></div>
        </div>
      `;
    }

    function answerPracticeProblem(problemId, answerId) {
      const problem = practiceProblems.find(p => p.id === problemId);
      if (!problem) return;

      const selectedOption = problem.options.find(o => o.id === answerId);
      const correctOption = problem.options.find(o => o.correct);
      const isCorrect = selectedOption.correct;

      // Disable all buttons and show correct/incorrect
      const buttons = document.querySelectorAll(`#problem-${problemId} .practice-option`);
      buttons.forEach(btn => {
        btn.disabled = true;
        const letter = btn.querySelector('.option-letter').textContent.toLowerCase();
        if (letter === correctOption.id) {
          btn.classList.add('correct');
        } else if (letter === answerId) {
          btn.classList.add('incorrect');
        }
      });

      // Show feedback
      const feedbackDiv = document.getElementById(`feedback-${problemId}`);
      feedbackDiv.className = `practice-feedback visible ${isCorrect ? 'correct' : 'incorrect'}`;
      feedbackDiv.innerHTML = `
        <strong>${isCorrect ? ' Correct!' : ' Not quite.'}</strong>
        <p>${problem.explanation}</p>
        <p class="principle-link"><em>Principle ${problem.principle + 1}: ${sevenPrinciples[problem.principle]?.text || ''}</em></p>
      `;

      // Award points
      if (isCorrect) {
        awardPoints(25, 'Practice problem correct');
      } else {
        awardPoints(5, 'Practice problem attempted');
      }
      saveProgress();
    }

    // ============================================================
    // INVESTIGATION EXERCISES
    // ============================================================

    function revealAnswer(elementId) {
      const el = document.getElementById(elementId);
      if (el) {
        el.classList.add('visible');
        // Scroll into view
        el.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }
    }

    function generateMiniForest(containerId, studies, pooled, showAfter = false) {
      const container = document.getElementById(containerId);
      if (!container) return;

      const minE = Math.min(...studies.map(s => s.lo), pooled.lo, 0.3);
      const maxE = Math.max(...studies.map(s => s.hi), pooled.hi, 3);
      const range = maxE - minE;
      const scale = (v) => ((v - minE) / range) * 240 + 30;
      const height = (studies.length + 1) * 24 + 30;

      container.innerHTML = `
        <svg viewBox="0 0 320 ${height}" style="width: 100%; height: ${height}px; font-family: sans-serif;">
          <line x1="${scale(1)}" y1="5" x2="${scale(1)}" y2="${height - 15}" stroke="#999" stroke-width="1" stroke-dasharray="3"/>
          ${studies.map((s, i) => {
            const y = 18 + i * 24;
            const color = showAfter && s.excluded ? '#ccc' : '#1E2761';
            return `
              <text x="2" y="${y + 3}" font-size="9" fill="${color}" ${s.excluded ? 'text-decoration="line-through"' : ''}>${s.name}</text>
              <line x1="${scale(s.lo)}" y1="${y}" x2="${scale(s.hi)}" y2="${y}" stroke="${color}" stroke-width="1.5"/>
              <rect x="${scale(s.effect) - 4}" y="${y - 4}" width="8" height="8" fill="${color}"/>
              <text x="280" y="${y + 3}" font-size="8" fill="${color}">${s.effect.toFixed(2)}</text>
            `;
          }).join('')}
          <polygon points="${scale(pooled.effect)},${height - 20} ${scale(pooled.lo)},${height - 13} ${scale(pooled.effect)},${height - 6} ${scale(pooled.hi)},${height - 13}" fill="${showAfter ? '#C53030' : '#D4AF37'}"/>
          <text x="2" y="${height - 10}" font-size="9" font-weight="bold" fill="${showAfter ? '#C53030' : '#1E2761'}">Pooled</text>
          <text x="280" y="${height - 10}" font-size="8" font-weight="bold">${pooled.effect.toFixed(2)}</text>
          <text x="${scale(0.5)}" y="${height}" font-size="7" fill="#666">Favors Tx</text>
          <text x="${scale(2)}" y="${height}" font-size="7" fill="#666">Favors Ctrl</text>
        </svg>
      `;
    }

    // CAST Investigation Data
    const castStudiesPublished = [
      { name: 'Obs Study 1', effect: 0.45, lo: 0.28, hi: 0.72 },
      { name: 'Obs Study 2', effect: 0.52, lo: 0.35, hi: 0.77 },
      { name: 'Obs Study 3', effect: 0.38, lo: 0.22, hi: 0.65 },
    ];
    const castPooledBefore = { effect: 0.45, lo: 0.33, hi: 0.61 };
    const castPooledAfter = { effect: 2.50, lo: 1.60, hi: 4.50 };

    // Rosiglitazone data (real from Nissen 2007)
    const rosiStudies = [
      { name: 'ADOPT', effect: 1.25, lo: 0.78, hi: 2.01 },
      { name: 'DREAM', effect: 1.36, lo: 0.68, hi: 2.71 },
      { name: 'Trial 49653/020', effect: 1.81, lo: 0.59, hi: 5.55 },
      { name: 'Trial 49653/024', effect: 2.67, lo: 0.50, hi: 14.3 },
      { name: 'Trial 49653/093', effect: 1.50, lo: 0.25, hi: 8.98 },
    ];
    const rosiPooled = { effect: 1.43, lo: 1.03, hi: 1.98 };

    // DECREASE data (before/after fraud removal)
    const decreaseStudies = [
      { name: 'DECREASE-I', effect: 0.09, lo: 0.02, hi: 0.37, excluded: true },
      { name: 'DECREASE-IV', effect: 0.65, lo: 0.24, hi: 1.74, excluded: true },
      { name: 'POISE', effect: 1.33, lo: 1.03, hi: 1.74 },
      { name: 'DIPOM', effect: 1.11, lo: 0.66, hi: 1.87 },
      { name: 'MaVS', effect: 0.92, lo: 0.46, hi: 1.84 },
    ];
    const decreasePooledBefore = { effect: 0.56, lo: 0.35, hi: 0.89 };
    const decreasePooledAfter = { effect: 1.27, lo: 1.01, hi: 1.60 };

    // Magnesium ISIS-4 data
    const magnesiumSmallTrials = [
      { name: 'Rasmussen', effect: 0.23, lo: 0.05, hi: 1.01 },
      { name: 'Smith', effect: 0.31, lo: 0.09, hi: 1.10 },
      { name: 'Ceremuzynski', effect: 0.48, lo: 0.17, hi: 1.34 },
      { name: 'Schechter 1', effect: 0.52, lo: 0.20, hi: 1.35 },
      { name: 'Schechter 2', effect: 0.35, lo: 0.13, hi: 0.94 },
    ];
    const magPooledSmall = { effect: 0.44, lo: 0.27, hi: 0.71 };
    const isis4Result = { effect: 1.06, lo: 0.99, hi: 1.13 };

    // Complete magnesium trial data with sample sizes for visualization
    const magnesiumTrialsComplete = [
      { name: 'Morton 1984', n: 40, effect: 0.10, lo: 0.01, hi: 0.87, se: 0.55 },
      { name: 'Rasmussen 1986', n: 273, effect: 0.35, lo: 0.13, hi: 0.94, se: 0.25 },
      { name: 'Smith 1986', n: 400, effect: 0.48, lo: 0.21, hi: 1.09, se: 0.21 },
      { name: 'Abraham 1987', n: 94, effect: 0.87, lo: 0.33, hi: 2.30, se: 0.35 },
      { name: 'Shechter 1990', n: 103, effect: 0.27, lo: 0.08, hi: 0.95, se: 0.42 },
      { name: 'Ceremuzynski 1989', n: 48, effect: 0.22, lo: 0.03, hi: 1.50, se: 0.68 },
      { name: 'LIMIT-2', n: 2316, effect: 0.74, lo: 0.57, hi: 0.97, se: 0.09 },
    ];
    const isis4Complete = { name: 'ISIS-4', n: 58050, effect: 1.06, lo: 0.99, hi: 1.13, se: 0.025 };

    function drawMagnesiumForest(mode) {
      const containerId = mode === 'small' ? 'magnesium-forest-small' : 'magnesium-forest-full';
      const container = document.getElementById(containerId);
      if (!container) return;

      let trials = [...magnesiumTrialsComplete];
      let pooled = { effect: 0.44, lo: 0.27, hi: 0.71, label: 'Pooled (small trials)' };

      if (mode === 'full') {
        trials.push(isis4Complete);
        pooled = { effect: 1.02, lo: 0.95, hi: 1.09, label: 'Pooled (all trials)' };
      }

      const width = 800;
      const height = trials.length * 35 + 100;
      const margin = { left: 150, right: 50, top: 30, bottom: 50 };
      const plotWidth = width - margin.left - margin.right;

      // Log scale for OR
      const minLog = Math.log(0.05);
      const maxLog = Math.log(3);
      const xScale = (logVal) => margin.left + ((logVal - minLog) / (maxLog - minLog)) * plotWidth;

      let svg = `<svg viewBox="0 0 ${width} ${height}" style="max-width: 100%; height: auto;">`;

      // Title
      svg += `<text x="${width/2}" y="20" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1a365d">
        Graphique en for?t: Magnesium in MI${mode === 'full' ? ' (with ISIS-4)' : ' (small trials only)'}
      </text>`;

      // Grid lines and axis
      const ticks = [0.1, 0.25, 0.5, 1.0, 2.0];
      ticks.forEach(tick => {
        const x = xScale(Math.log(tick));
        svg += `<line x1="${x}" y1="${margin.top}" x2="${x}" y2="${height - margin.bottom}" stroke="#e2e8f0" stroke-width="1"/>`;
        svg += `<text x="${x}" y="${height - margin.bottom + 15}" text-anchor="middle" font-size="11" fill="#64748b">${tick}</text>`;
      });

      // Null line
      const nullX = xScale(0);
      svg += `<line x1="${nullX}" y1="${margin.top}" x2="${nullX}" y2="${height - margin.bottom}" stroke="#1a365d" stroke-width="2"/>`;

      // Studies
      trials.forEach((trial, i) => {
        const y = margin.top + 20 + i * 35;
        const x = xScale(Math.log(trial.effect));
        const xLo = xScale(Math.log(Math.max(0.05, trial.lo)));
        const xHi = xScale(Math.log(Math.min(3, trial.hi)));

        // Weight based on sample size
        const weight = Math.sqrt(trial.n) / Math.sqrt(isis4Complete.n) * 10;
        const boxSize = Math.max(4, Math.min(12, weight + 4));

        const color = trial.name === 'ISIS-4' ? '#C53030' : (trial.effect < 1 ? '#22c55e' : '#64748b');

        // Label
        svg += `<text x="${margin.left - 10}" y="${y + 4}" text-anchor="end" font-size="11" fill="#1a365d">${trial.name} (n=${trial.n.toLocaleString()})</text>`;

        // CI line
        svg += `<line x1="${xLo}" y1="${y}" x2="${xHi}" y2="${y}" stroke="${color}" stroke-width="2"/>`;

        // Effect point
        svg += `<rect x="${x - boxSize/2}" y="${y - boxSize/2}" width="${boxSize}" height="${boxSize}" fill="${color}"/>`;

        // CI caps
        svg += `<line x1="${xLo}" y1="${y - 4}" x2="${xLo}" y2="${y + 4}" stroke="${color}" stroke-width="1"/>`;
        svg += `<line x1="${xHi}" y1="${y - 4}" x2="${xHi}" y2="${y + 4}" stroke="${color}" stroke-width="1"/>`;
      });

      // Pooled diamond
      const poolY = height - margin.bottom - 20;
      const poolX = xScale(Math.log(pooled.effect));
      const poolXLo = xScale(Math.log(pooled.lo));
      const poolXHi = xScale(Math.log(pooled.hi));
      const diamondColor = pooled.effect < 1 ? '#22c55e' : '#C53030';

      svg += `<polygon points="${poolXLo},${poolY} ${poolX},${poolY - 8} ${poolXHi},${poolY} ${poolX},${poolY + 8}" fill="${diamondColor}" stroke="${diamondColor}"/>`;
      svg += `<text x="${margin.left - 10}" y="${poolY + 4}" text-anchor="end" font-size="11" font-weight="bold" fill="#1a365d">${pooled.label}</text>`;

      // Axis label
      svg += `<text x="${width/2}" y="${height - 5}" text-anchor="middle" font-size="12" fill="#1a365d">Rapport de cotes (log scale)</text>`;

      // Favors labels
      svg += `<text x="${xScale(Math.log(0.2))}" y="${height - margin.bottom + 30}" text-anchor="middle" font-size="10" fill="#22c55e"> Favors Magnesium</text>`;
      svg += `<text x="${xScale(Math.log(2))}" y="${height - margin.bottom + 30}" text-anchor="middle" font-size="10" fill="#C53030">Favors Placebo </text>`;

      svg += '</svg>';
      container.innerHTML = svg;
    }

    function drawMagnesiumFunnel(mode) {
      const container = document.getElementById('magnesium-funnel-small');
      if (!container) return;

      const trials = magnesiumTrialsComplete;
      const width = 600;
      const height = 400;
      const margin = { left: 80, right: 40, top: 40, bottom: 60 };
      const plotWidth = width - margin.left - margin.right;
      const plotHeight = height - margin.top - margin.bottom;

      // Pooled effect (log scale)
      const pooledLog = Math.log(0.44);

      // X axis: log(OR)
      const minLogOR = -2.5;
      const maxLogOR = 1;
      const xScale = (logOR) => margin.left + ((logOR - minLogOR) / (maxLogOR - minLogOR)) * plotWidth;

      // Y axis: SE (inverted - high precision at top)
      const maxSE = 0.75;
      const yScale = (se) => margin.top + (se / maxSE) * plotHeight;

      let svg = `<svg viewBox="0 0 ${width} ${height}" style="max-width: 100%; height: auto;">`;

      // Title
      svg += `<text x="${width/2}" y="20" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1a365d">
        Diagramme en entonnoir: Magnesium in MI (small trials)
      </text>`;

      // Funnel shape (95% CI bounds)
      const funnelPoints = [];
      for (let se = 0; se <= maxSE; se += 0.01) {
        const ciWidth = 1.96 * se;
        const xLeft = xScale(pooledLog - ciWidth);
        const xRight = xScale(pooledLog + ciWidth);
        const y = yScale(se);
        funnelPoints.push({ xLeft, xRight, y });
      }

      // Draw funnel
      let leftPath = `M ${xScale(pooledLog)} ${yScale(0)}`;
      let rightPath = `M ${xScale(pooledLog)} ${yScale(0)}`;
      funnelPoints.forEach(p => {
        leftPath += ` L ${p.xLeft} ${p.y}`;
        rightPath += ` L ${p.xRight} ${p.y}`;
      });
      svg += `<path d="${leftPath}" fill="none" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="4"/>`;
      svg += `<path d="${rightPath}" fill="none" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="4"/>`;

      // Vertical line at pooled effect
      svg += `<line x1="${xScale(pooledLog)}" y1="${margin.top}" x2="${xScale(pooledLog)}" y2="${height - margin.bottom}" stroke="#22c55e" stroke-width="2" stroke-dasharray="4"/>`;

      // Null line at OR = 1
      svg += `<line x1="${xScale(0)}" y1="${margin.top}" x2="${xScale(0)}" y2="${height - margin.bottom}" stroke="#1a365d" stroke-width="2"/>`;

      // Plot studies
      trials.forEach(trial => {
        const x = xScale(Math.log(trial.effect));
        const y = yScale(trial.se);
        const color = trial.effect < 1 ? '#22c55e' : '#64748b';
        svg += `<circle cx="${x}" cy="${y}" r="6" fill="${color}" stroke="#fff" stroke-width="1"/>`;
        svg += `<text x="${x + 8}" y="${y + 3}" font-size="9" fill="#1a365d">${trial.name}</text>`;
      });

      // Axes
      svg += `<line x1="${margin.left}" y1="${height - margin.bottom}" x2="${width - margin.right}" y2="${height - margin.bottom}" stroke="#1a365d" stroke-width="1"/>`;
      svg += `<line x1="${margin.left}" y1="${margin.top}" x2="${margin.left}" y2="${height - margin.bottom}" stroke="#1a365d" stroke-width="1"/>`;

      // X axis ticks
      [-2, -1, 0, 0.5].forEach(logOR => {
        const x = xScale(logOR);
        const or = Math.exp(logOR).toFixed(2);
        svg += `<line x1="${x}" y1="${height - margin.bottom}" x2="${x}" y2="${height - margin.bottom + 5}" stroke="#1a365d"/>`;
        svg += `<text x="${x}" y="${height - margin.bottom + 18}" text-anchor="middle" font-size="10" fill="#1a365d">${or}</text>`;
      });

      // Y axis ticks
      [0, 0.25, 0.5, 0.75].forEach(se => {
        const y = yScale(se);
        svg += `<line x1="${margin.left - 5}" y1="${y}" x2="${margin.left}" y2="${y}" stroke="#1a365d"/>`;
        svg += `<text x="${margin.left - 10}" y="${y + 3}" text-anchor="end" font-size="10" fill="#1a365d">${se.toFixed(2)}</text>`;
      });

      // Axis labels
      svg += `<text x="${width/2}" y="${height - 10}" text-anchor="middle" font-size="12" fill="#1a365d">Rapport de cotes</text>`;
      svg += `<text x="15" y="${height/2}" text-anchor="middle" transform="rotate(-90, 15, ${height/2})" font-size="12" fill="#1a365d">Standard Error</text>`;

      // Annotations
      svg += `<text x="${xScale(-1.5)}" y="${height - margin.bottom + 40}" text-anchor="middle" font-size="10" fill="#f59e0b" font-weight="bold">
         Asymmetric: Small trials cluster left
      </text>`;

      svg += '</svg>';
      container.innerHTML = svg;

      // Show interpretation
      document.getElementById('mag-funnel-interpretation').style.display = 'block';
    }

    // Reboxetine funnel plot data (published trials only - showing bias)
    function drawReboxetineFunnel() {
      const container = document.getElementById('reboxetine-funnel');
      if (!container) return;

      // Published trials (all showing benefit - biased)
      const publishedTrials = [
        { name: 'Trial 1', smd: 0.72, se: 0.18 },
        { name: 'Trial 2', smd: 0.58, se: 0.22 },
        { name: 'Trial 3', smd: 0.45, se: 0.20 },
        { name: 'Trial 4', smd: 0.61, se: 0.25 },
        { name: 'Trial 5', smd: 0.52, se: 0.19 },
        { name: 'Trial 6', smd: 0.68, se: 0.28 },
        { name: 'Trial 7', smd: 0.41, se: 0.16 },
      ];

      // Where the missing trials likely were (shown as ghost points)
      const missingTrials = [
        { name: 'Hidden 1', smd: -0.12, se: 0.22 },
        { name: 'Hidden 2', smd: 0.05, se: 0.19 },
        { name: 'Hidden 3', smd: -0.08, se: 0.25 },
        { name: 'Hidden 4', smd: 0.11, se: 0.20 },
        { name: 'Hidden 5', smd: -0.15, se: 0.28 },
      ];

      const width = 600;
      const height = 400;
      const margin = { left: 80, right: 40, top: 40, bottom: 60 };
      const plotWidth = width - margin.left - margin.right;
      const plotHeight = height - margin.top - margin.bottom;

      // Pooled effect (published)
      const pooledSMD = 0.56;

      // X axis: SMD
      const minSMD = -0.5;
      const maxSMD = 1.0;
      const xScale = (smd) => margin.left + ((smd - minSMD) / (maxSMD - minSMD)) * plotWidth;

      // Y axis: SE (inverted)
      const maxSE = 0.35;
      const yScale = (se) => margin.top + (se / maxSE) * plotHeight;

      let svg = `<svg viewBox="0 0 ${width} ${height}" style="max-width: 100%; height: auto;">`;

      // Title
      svg += `<text x="${width/2}" y="20" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#1a365d">
        Diagramme en entonnoir: Reboxetine vs Placebo (Published Only)
      </text>`;

      // Funnel shape
      const funnelPoints = [];
      for (let se = 0.01; se <= maxSE; se += 0.01) {
        const ciWidth = 1.96 * se;
        const xLeft = xScale(pooledSMD - ciWidth);
        const xRight = xScale(pooledSMD + ciWidth);
        const y = yScale(se);
        funnelPoints.push({ xLeft, xRight, y });
      }

      let leftPath = `M ${xScale(pooledSMD)} ${yScale(0.01)}`;
      let rightPath = `M ${xScale(pooledSMD)} ${yScale(0.01)}`;
      funnelPoints.forEach(p => {
        leftPath += ` L ${p.xLeft} ${p.y}`;
        rightPath += ` L ${p.xRight} ${p.y}`;
      });
      svg += `<path d="${leftPath}" fill="none" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="4"/>`;
      svg += `<path d="${rightPath}" fill="none" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="4"/>`;

      // Pooled effect line
      svg += `<line x1="${xScale(pooledSMD)}" y1="${margin.top}" x2="${xScale(pooledSMD)}" y2="${height - margin.bottom}" stroke="#22c55e" stroke-width="2" stroke-dasharray="4"/>`;

      // Null line at SMD = 0
      svg += `<line x1="${xScale(0)}" y1="${margin.top}" x2="${xScale(0)}" y2="${height - margin.bottom}" stroke="#1a365d" stroke-width="2"/>`;

      // Plot missing trials (ghost points)
      missingTrials.forEach(trial => {
        const x = xScale(trial.smd);
        const y = yScale(trial.se);
        svg += `<circle cx="${x}" cy="${y}" r="8" fill="none" stroke="#C53030" stroke-width="2" stroke-dasharray="3"/>`;
      });

      // Plot published trials
      publishedTrials.forEach(trial => {
        const x = xScale(trial.smd);
        const y = yScale(trial.se);
        svg += `<circle cx="${x}" cy="${y}" r="6" fill="#22c55e" stroke="#fff" stroke-width="1"/>`;
      });

      // Axes
      svg += `<line x1="${margin.left}" y1="${height - margin.bottom}" x2="${width - margin.right}" y2="${height - margin.bottom}" stroke="#1a365d" stroke-width="1"/>`;
      svg += `<line x1="${margin.left}" y1="${margin.top}" x2="${margin.left}" y2="${height - margin.bottom}" stroke="#1a365d" stroke-width="1"/>`;

      // X axis ticks
      [-0.4, -0.2, 0, 0.2, 0.4, 0.6, 0.8].forEach(smd => {
        const x = xScale(smd);
        svg += `<line x1="${x}" y1="${height - margin.bottom}" x2="${x}" y2="${height - margin.bottom + 5}" stroke="#1a365d"/>`;
        svg += `<text x="${x}" y="${height - margin.bottom + 18}" text-anchor="middle" font-size="10" fill="#1a365d">${smd.toFixed(1)}</text>`;
      });

      // Y axis ticks
      [0.05, 0.15, 0.25, 0.35].forEach(se => {
        const y = yScale(se);
        svg += `<line x1="${margin.left - 5}" y1="${y}" x2="${margin.left}" y2="${y}" stroke="#1a365d"/>`;
        svg += `<text x="${margin.left - 10}" y="${y + 3}" text-anchor="end" font-size="10" fill="#1a365d">${se.toFixed(2)}</text>`;
      });

      // Axis labels
      svg += `<text x="${width/2}" y="${height - 10}" text-anchor="middle" font-size="12" fill="#1a365d">Standardized Mean Difference</text>`;
      svg += `<text x="15" y="${height/2}" text-anchor="middle" transform="rotate(-90, 15, ${height/2})" font-size="12" fill="#1a365d">Standard Error</text>`;

      // Legend
      svg += `<circle cx="${width - 120}" cy="${margin.top + 10}" r="5" fill="#22c55e"/>`;
      svg += `<text x="${width - 110}" y="${margin.top + 14}" font-size="10" fill="#1a365d">Published</text>`;
      svg += `<circle cx="${width - 120}" cy="${margin.top + 28}" r="6" fill="none" stroke="#C53030" stroke-width="2" stroke-dasharray="3"/>`;
      svg += `<text x="${width - 110}" y="${margin.top + 32}" font-size="10" fill="#C53030">Missing?</text>`;

      svg += '</svg>';
      container.innerHTML = svg;
    }

    // ============================================================
    // ACCESSIBILITY & UI HELPERS
    // ============================================================

    function toggleSidebar() {
      const sidebar = document.querySelector('.sidebar');
      const overlay = document.getElementById('sidebarOverlay');
      sidebar.classList.toggle('open');
      overlay.classList.toggle('open');
      var btn = document.querySelector('.sidebar-toggle, .hamburger, .mobile-menu-btn'); if (btn) btn.setAttribute('aria-expanded', btn.getAttribute('aria-expanded') === 'true' ? 'false' : 'true');
    }

    function toggleGlossary() {
      const panel = document.getElementById('glossaryPanel');
      panel.classList.toggle('open');
      if (panel.classList.contains('open')) {
        document.getElementById('glossarySearch').focus();
      }
    }

    function filterGlossary() {
      const query = document.getElementById('glossarySearch').value.toLowerCase();
      const terms = document.querySelectorAll('.glossary-term');
      terms.forEach(term => {
        const text = term.textContent.toLowerCase();
        term.style.display = text.includes(query) ? 'block' : 'none';
      });
    }

    function toggleKeyboardHelp() {
      const help = document.getElementById('keyboardHelp');
      help.classList.toggle('open');
    }

    // Enhanced keyboard navigation
    document.addEventListener('keydown', (e) => {
      // Don't trigger shortcuts when typing in inputs
      if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || e.target.tagName === 'SELECT') {
        if (e.key === 'Escape') {
          e.target.blur();
        }
        return;
      }

      switch(e.key) {
        case 'ArrowRight':
        case ' ':
          if (!e.shiftKey) {
            e.preventDefault();
            nextSlide();
          }
          break;
        case 'ArrowLeft':
        case 'Backspace':
          e.preventDefault();
          prevSlide();
          break;
        case 'ArrowDown':
        case 'n':
        case 'N':
          {
            const idx = modules.findIndex(m => m.id === currentModule);
            if (idx >= 0 && idx < modules.length - 1) {
              e.preventDefault();
              goToModule(modules[idx + 1].id);
            }
          }
          break;
        case 'ArrowUp':
        case 'p':
        case 'P':
          {
            const idx = modules.findIndex(m => m.id === currentModule);
            if (idx > 0) {
              e.preventDefault();
              goToModule(modules[idx - 1].id);
            }
          }
          break;
        case 't':
        case 'T':
          e.preventDefault();
          toggleToolsPanel();
          break;
        case 'g':
        case 'G':
          e.preventDefault();
          toggleGlossary();
          break;
        case '?':
          e.preventDefault();
          toggleKeyboardHelp();
          break;
        case 'Escape':
          document.getElementById('glossaryPanel').classList.remove('open');
          document.getElementById('keyboardHelp').classList.remove('open');
          document.querySelector('.sidebar').classList.remove('open');
          document.getElementById('sidebarOverlay').classList.remove('open');
          break;
      }
    });

    // ============================================================
    // QUIZ SYSTEM
    // ============================================================

    function checkQuizAnswer(questionId, selectedIdx, correctIdx, explanations) {
      const options = document.querySelectorAll(`#${questionId} .quiz-option`);
      options.forEach((opt, i) => {
        opt.classList.remove('selected');
        opt.onclick = null; // Disable further clicks
        if (i === correctIdx) {
          opt.classList.add('correct');
        } else if (i === selectedIdx && selectedIdx !== correctIdx) {
          opt.classList.add('incorrect');
        }
      });

      // Show explanation
      const feedbackEl = document.getElementById(`${questionId}-feedback`);
      if (feedbackEl) {
        const isCorrect = selectedIdx === correctIdx;
        feedbackEl.style.display = 'block';
        feedbackEl.innerHTML = `
          <div style="padding: 0.75rem; margin-top: 0.5rem; border-radius: 6px; background: ${isCorrect ? 'rgba(34,197,94,0.1)' : 'rgba(197,48,48,0.1)'}; border-left: 3px solid ${isCorrect ? 'var(--green)' : 'var(--red)'};">
            <strong>${isCorrect ? 'Correct!' : 'Not quite.'}</strong> ${explanations[correctIdx]}
          </div>
        `;
      }
    }

    // ============================================================
    // INITIALIZE
    // ============================================================

    document.addEventListener('DOMContentLoaded', () => {
      initModuleList();

      // Load saved progress
      const savedProgress = loadProgress();
      if (savedProgress) {
        goToModule(savedProgress.module);
        if (savedProgress.slide > 0) {
          setTimeout(() => goToSlide(savedProgress.slide), 100);
        }
      } else {
        goToModule(0);
      }

      // Initialize spaced repetition
      initSpacedRepetition();
      updateReviewButtonStatus();

      // Check for daily review badge
      if (spacedRepetitionState.dailyReviewsCompleted >= 7) {
        earnBadge('daily_dedication');
      }

      // Show daily review prompt if due (with slight delay for UX)
      if (shouldShowDailyReview()) {
        setTimeout(() => {
          // Only auto-prompt if they've completed at least one module
          const completedModules = document.querySelectorAll('.module-item.completed').length;
          if (completedModules >= 1) {
            openDailyReview();
          }
        }, 2000);
      }

      // Auto-save on navigation
      const originalGoToModule = goToModule;
      goToModule = function(moduleId) {
        // Mark previous module as complete if we're progressing
        if (moduleId > currentModule) {
          markModuleComplete(currentModule);
        }
        originalGoToModule(moduleId);
        saveProgress();
      };

      const originalGoToSlide = goToSlide;
      goToSlide = function(index) {
        originalGoToSlide(index);
        saveProgress();
      };
    });
  </script>
</body>
</html>
