<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ìˆ¨ê²¨ì§„ í™˜ì: ê°œë³„ ì°¸ê°€ì ë°ì´í„° ë©”íƒ€ ë¶„ì„ ê³¼ì •</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&amp;family=Source+Sans+Pro:wght@300;400;600;700&amp;display=swap" rel="stylesheet"/>
<style>
    /* Fallback fonts for offline use */
    @font-face {
      font-family: 'Cormorant Garamond';
      src: local('Cormorant Garamond'), local('Georgia'), local('Times New Roman');
      font-display: swap;
    }
    @font-face {
      font-family: 'Source Sans Pro';
      src: local('Source Sans Pro'), local('Segoe UI'), local('Arial');
      font-display: swap;
    }

    :root {
      --navy: #1E2761;
      --deep-navy: #141B3D;
      --gold: #D4AF37;
      --cream: #FAF8F5;
      --light-cream: #FFFFFF;
      --text: #2D3748;
      --light-text: #718096;
      --red: #C53030;
      --green: #22c55e;
      --teal: #00D4AA;
      --purple: #A855F7;
      --orange: #F97316;
      --blue: #3B82F6;
      --blood-red: #8B0000;
      --transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* Accessibility: Skip link */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--gold);
      color: var(--navy);
      padding: 8px 16px;
      z-index: 1000;
      font-weight: 600;
      text-decoration: none;
      border-radius: 0 0 4px 0;
    }
    .skip-link:focus {
      top: 0;
    }

    /* Accessibility: Focus indicators */
    *:focus {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
    }
    *:focus:not(:focus-visible) {
      outline: none;
    }
    *:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
    }

    /* Accessibility: Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
      .slide { transition: none; }
    }

    /* Accessibility: Screen reader only */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* Accessibility: Live region for announcements */
    .aria-live-region {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    html, body {
      height: 100%;
      font-family: 'Source Sans Pro', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--deep-navy);
      color: var(--cream);
    }

    .course-container {
      display: flex;
      height: 100vh;
      overflow: hidden;
    }

    /* Sidebar */
    .sidebar {
      width: 300px;
      background: linear-gradient(180deg, var(--deep-navy) 0%, #0a0f1a 100%);
      border-right: 1px solid rgba(212,175,55,0.2);
      display: flex;
      flex-direction: column;
      flex-shrink: 0;
    }

    /* mobile sidebar handled by hamburger toggle below */

    .sidebar-header {
      padding: 1.5rem;
      border-bottom: 1px solid rgba(212,175,55,0.2);
    }

    .sidebar-header h1 {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--gold);
      margin-bottom: 0.25rem;
    }

    .sidebar-header p {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.6);
    }

    .module-list {
      flex: 1;
      overflow-y: auto;
      padding: 1rem 0;
    }

    .module-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      transition: all 0.2s;
      border-left: 3px solid transparent;
    }

    .module-item:hover { background: rgba(212,175,55,0.1); }
    .module-item.active { background: rgba(212,175,55,0.15); border-left-color: var(--gold); }
    .module-item.completed .module-number { background: var(--green); color: white; }

    .module-number {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 700;
      flex-shrink: 0;
    }

    .module-item.active .module-number { background: var(--gold); color: var(--navy); }

    .module-info { flex: 1; min-width: 0; }
    .module-title { font-size: 0.85rem; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .module-subtitle { font-size: 0.7rem; color: rgba(255,255,255,0.7); }

    .sidebar-footer {
      padding: 1rem 1.5rem;
      border-top: 1px solid rgba(212,175,55,0.2);
      font-size: 0.7rem;
      color: rgba(255,255,255,0.4);
      line-height: 1.4;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .content-header {
      padding: 1rem 2rem;
      background: rgba(0,0,0,0.3);
      border-bottom: 1px solid rgba(212,175,55,0.2);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .breadcrumb { font-size: 0.85rem; color: rgba(255,255,255,0.6); }
    .breadcrumb span { color: var(--gold); }

    .header-actions { display: flex; gap: 0.5rem; }

    .btn {
      padding: 0.5rem 1rem;
      border: 1px solid rgba(212,175,55,0.3);
      border-radius: 6px;
      background: rgba(255,255,255,0.05);
      color: var(--cream);
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn:hover { background: rgba(212,175,55,0.2); border-color: var(--gold); }
    .btn:focus-visible { box-shadow: 0 0 0 3px rgba(212,175,55,0.5); }
    .btn.primary { background: var(--gold); color: var(--navy); border-color: var(--gold); font-weight: 600; }
    .btn.primary:focus-visible { box-shadow: 0 0 0 3px rgba(212,175,55,0.7); }

    .content-body { flex: 1; overflow: hidden; display: flex; }

    /* Slides */
    .slides-container { flex: 1; position: relative; overflow: hidden; }

    .module-slides { display: none; width: 100%; height: 100%; }
    .module-slides.active { display: block; }

    .slide {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      padding: 2rem 2rem 4rem 2rem;
      padding-top: 3rem;
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--transition), visibility var(--transition);
      overflow-y: auto;
      overflow-x: hidden;
    }

    .slide .content { margin-top: auto; margin-bottom: auto; }
    .slide > * { max-width: 100%; word-wrap: break-word; }
    .slide.active { opacity: 1; visibility: visible; }

    .slide.dark { background: var(--deep-navy); color: var(--cream); }
    .slide.light { background: var(--cream); color: var(--text); }
    .slide.black { background: #000; color: var(--cream); }
    .slide.gradient { background: linear-gradient(135deg, var(--deep-navy) 0%, #2a1a4a 100%); color: var(--cream); }
    .slide.blood { background: linear-gradient(135deg, #1a0a0a 0%, #2d1515 100%); color: var(--cream); }
    .slide.hope { background: linear-gradient(135deg, #0a1a0a 0%, #152d15 100%); color: var(--cream); }
    .slide.ipd { background: linear-gradient(135deg, #0a1a2d 0%, #152d3d 100%); color: var(--cream); }
    .slide.precision { background: linear-gradient(135deg, #1a0a2d 0%, #2d153d 100%); color: var(--cream); }

    /* Typography */
    .serif { font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif; }

    .title {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(1.8rem, 5vw, 3.5rem);
      font-weight: 700;
      margin-bottom: 1rem;
      line-height: 1.2;
    }

    .title.navy { color: var(--navy); }
    .title.gold { color: var(--gold); }
    .title.cream { color: var(--cream); }
    .title.red { color: var(--red); }
    .title.green { color: var(--green); }
    .title.blue { color: var(--blue); }
    .title.purple { color: var(--purple); }

    .subtitle {
      font-size: clamp(1rem, 2vw, 1.5rem);
      color: var(--light-text);
      margin-bottom: 2rem;
    }

    .slide.dark .subtitle { color: rgba(255,255,255,0.7); }

    .big-number {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(4rem, 15vw, 10rem);
      font-weight: 700;
      line-height: 1;
    }

    .big-number.navy { color: var(--navy); }
    .big-number.gold { color: var(--gold); }
    .big-number.red { color: var(--red); }
    .big-number.green { color: var(--green); }
    .big-number.blue { color: var(--blue); }

    /* Refrain */
    .refrain {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(1.4rem, 4vw, 2.5rem);
      font-style: italic;
      color: var(--gold);
      text-align: center;
      max-width: 800px;
      line-height: 1.4;
    }

    .refrain.warning {
      color: var(--red);
      border-left: 4px solid var(--red);
      padding-left: 1.5rem;
      text-align: left;
    }

    .refrain.hope { color: var(--green); }
    .refrain.insight { color: var(--blue); }

    /* Rhetorical */
    .rhetorical {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(1.2rem, 3vw, 2rem);
      color: rgba(255,255,255,0.9);
      text-align: center;
      max-width: 700px;
      line-height: 1.5;
    }

    .rhetorical em { color: var(--gold); font-style: normal; }

    /* Simple explanation box */
    .simple-box {
      background: linear-gradient(135deg, rgba(0,212,170,0.1), rgba(0,0,0,0.2));
      border: 2px solid var(--teal);
      border-radius: 12px;
      padding: 1.5rem;
      max-width: 600px;
      margin: 1rem 0;
    }

    .simple-box.blue {
      background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(0,0,0,0.2));
      border-color: var(--blue);
    }

    .simple-box.purple {
      background: linear-gradient(135deg, rgba(168,85,247,0.1), rgba(0,0,0,0.2));
      border-color: var(--purple);
    }

    .simple-box .simple-title {
      color: var(--teal);
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.1em;
      margin-bottom: 0.75rem;
    }

    .simple-box.blue .simple-title { color: var(--blue); }
    .simple-box.purple .simple-title { color: var(--purple); }

    .simple-box .simple-text {
      font-size: 1.1rem;
      line-height: 1.6;
    }

    .simple-box .simple-text strong { color: var(--gold); }

    /* Story card */
    .story-card {
      background: rgba(0,0,0,0.3);
      border-left: 4px solid var(--gold);
      padding: 1.5rem 2rem;
      max-width: 700px;
      margin: 1rem 0;
    }

    .story-card .place {
      font-size: 0.75rem;
      color: var(--gold);
      letter-spacing: 0.1em;
      margin-bottom: 0.5rem;
    }

    .story-card .narrative {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.1rem;
      line-height: 1.6;
      color: rgba(255,255,255,0.9);
    }

    .story-card .source {
      font-size: 0.7rem;
      color: rgba(255,255,255,0.5);
      margin-top: 1rem;
      font-style: italic;
    }

    /* Decision Tree */
    .decision-tree {
      background: rgba(0,0,0,0.3);
      border: 2px solid var(--gold);
      border-radius: 12px;
      padding: 1.5rem;
      max-width: 800px;
      width: 100%;
    }

    .decision-tree h4 {
      color: var(--gold);
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.1rem;
      margin-bottom: 1rem;
      text-align: center;
    }

    .tree-level {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin: 0.5rem 0;
      position: relative;
      flex-wrap: wrap;
    }

    .tree-node {
      background: var(--navy);
      border: 2px solid var(--gold);
      border-radius: 8px;
      padding: 0.75rem 1rem;
      text-align: center;
      min-width: 120px;
      font-size: 0.8rem;
    }

    .tree-node.root { background: var(--gold); color: var(--navy); font-weight: 700; }
    .tree-node.question { background: rgba(168,85,247,0.3); border-color: var(--purple); }
    .tree-node.yes { background: rgba(34,197,94,0.3); border-color: var(--green); }
    .tree-node.no { background: rgba(197,48,48,0.3); border-color: var(--red); }
    .tree-node.ipd { background: rgba(59,130,246,0.3); border-color: var(--blue); }
    .tree-node.aggregate { background: rgba(249,115,22,0.3); border-color: var(--orange); }
    .tree-node.action { background: var(--teal); color: var(--navy); font-weight: 600; }

    .tree-arrow {
      color: var(--gold);
      font-size: 1.5rem;
      text-align: center;
    }

    .tree-label {
      font-size: 0.7rem;
      color: rgba(255,255,255,0.7);
      text-align: center;
      margin-top: 0.25rem;
    }

    /* Comparison boxes */
    .compare-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      max-width: 800px;
      width: 100%;
    }

    @media (max-width: 600px) { .compare-grid { grid-template-columns: 1fr; } }

    .compare-box {
      background: rgba(0,0,0,0.3);
      border-radius: 12px;
      padding: 1.5rem;
      border: 2px solid;
    }

    .compare-box.aggregate { border-color: var(--orange); }
    .compare-box.ipd { border-color: var(--blue); }

    .compare-box h4 {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.1rem;
      margin-bottom: 0.75rem;
    }

    .compare-box.aggregate h4 { color: var(--orange); }
    .compare-box.ipd h4 { color: var(--blue); }

    .compare-box ul {
      list-style: none;
      font-size: 0.85rem;
      line-height: 1.8;
    }

    .compare-box li::before {
      content: "â€¢ ";
      color: var(--gold);
    }

    /* Stats */
    .stats-grid {
      display: flex;
      gap: 1rem;
      margin: 1.5rem 0;
      flex-wrap: wrap;
      justify-content: center;
    }

    .stat-box {
      background: var(--navy);
      color: var(--cream);
      padding: 1rem 1.5rem;
      text-align: center;
      min-width: 130px;
      border-radius: 8px;
    }

    .stat-value {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(1.4rem, 3vw, 2rem);
      font-weight: 700;
    }

    .stat-label { font-size: 0.7rem; opacity: 0.8; margin-top: 0.25rem; }

    /* Death toll */
    .death-toll {
      background: linear-gradient(135deg, rgba(197,48,48,0.3), rgba(0,0,0,0.5));
      border: 2px solid var(--red);
      padding: 2rem;
      text-align: center;
      max-width: 400px;
      border-radius: 12px;
    }

    .death-toll .number {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 4rem;
      font-weight: 700;
      color: var(--red);
    }

    .death-toll .label {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.8);
      margin-top: 0.5rem;
    }

    /* Discovery box */
    .discovery-box {
      background: linear-gradient(135deg, rgba(59,130,246,0.3), rgba(0,0,0,0.5));
      border: 2px solid var(--blue);
      padding: 2rem;
      text-align: center;
      max-width: 450px;
      border-radius: 12px;
    }

    .discovery-box .insight {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 2rem;
      font-weight: 700;
      color: var(--blue);
    }

    .discovery-box .label {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.8);
      margin-top: 0.5rem;
    }

    /* Lesson items */
    .lesson-item {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      margin: 0.6rem 0;
      max-width: 800px;
      text-align: left;
    }

    .lesson-number {
      background: var(--gold);
      color: var(--navy);
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      flex-shrink: 0;
      border-radius: 4px;
    }

    .lesson-content h4 {
      font-size: 1rem;
      font-weight: 700;
      color: var(--cream);
      margin-bottom: 0.2rem;
    }

    .lesson-content p { font-size: 0.85rem; color: rgba(255,255,255,0.7); }

    /* Formula box */
    .formula-box {
      background: rgba(0,0,0,0.4);
      border: 1px solid var(--purple);
      border-radius: 8px;
      padding: 1rem 1.5rem;
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.2rem;
      text-align: center;
      max-width: 600px;
      margin: 1rem 0;
    }

    .formula-box .formula {
      color: var(--gold);
      margin: 0.5rem 0;
      font-size: 1.1rem;
    }

    .formula-box .label {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.6);
      font-family: 'Source Sans Pro', sans-serif;
    }

    /* Patient silhouettes */
    .patient-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      max-width: 400px;
      justify-content: center;
      padding: 1rem;
      background: rgba(0,0,0,0.3);
      border-radius: 12px;
    }

    .patient-icon {
      font-size: 1.2rem;
      opacity: 0.7;
    }

    .patient-icon.highlighted {
      opacity: 1;
      filter: drop-shadow(0 0 4px var(--gold));
    }

    .patient-icon.responder { color: var(--green); }
    .patient-icon.non-responder { color: var(--red); }
    .patient-icon.hidden { color: var(--orange); opacity: 0.4; }

    /* Timeline */
    .timeline {
      max-width: 600px;
      width: 100%;
    }

    .timeline-item {
      display: flex;
      gap: 1rem;
      margin: 1rem 0;
      padding-left: 1rem;
      border-left: 3px solid var(--gold);
    }

    .timeline-year {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--gold);
      min-width: 60px;
    }

    .timeline-content {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.8);
    }

    /* Gold line */
    .gold-line { width: 150px; height: 2px; background: var(--gold); margin: 1.5rem auto; }

    /* Content wrapper */
    .content {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 1000px;
    }

    /* Animation */
    .slide.active .animate { animation: fadeUp 0.6s ease-out forwards; }
    .slide.active .animate.delay-1 { animation-delay: 0.1s; }
    .slide.active .animate.delay-2 { animation-delay: 0.2s; }
    .slide.active .animate.delay-3 { animation-delay: 0.3s; }
    .slide.active .animate.delay-4 { animation-delay: 0.4s; }
    .slide.active .animate.delay-5 { animation-delay: 0.5s; }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate { opacity: 0; }

    /* Slide Nav */
    .slide-nav {
      position: absolute;
      bottom: 0; left: 0; right: 0;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      padding: 1rem 1rem 1.5rem 1rem;
      z-index: 100;
      pointer-events: none;
    }

    .nav-btn {
      background: rgba(0,0,0,0.5);
      border: 1px solid rgba(255,255,255,0.2);
      color: white;
      font-size: 1.25rem;
      cursor: pointer;
      opacity: 0.6;
      transition: all 0.2s;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      pointer-events: auto;
    }

    .nav-btn:hover { opacity: 1; background: rgba(0,0,0,0.7); border-color: var(--gold); }

    .nav-center {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      pointer-events: auto;
    }

    .slide-counter { color: rgba(255,255,255,0.6); font-size: 0.85rem; min-width: 50px; text-align: center; }
    .progress { display: flex; gap: 4px; flex-wrap: wrap; justify-content: center; max-width: 200px; }

    .progress-dot {
      width: 6px; height: 6px;
      border-radius: 50%;
      background: rgba(255,255,255,0.25);
      cursor: pointer;
      transition: all 0.2s;
    }

    .progress-dot.active { background: var(--gold); transform: scale(1.3); }
    .progress-dot:hover { background: rgba(255,255,255,0.6); }

    /* Quiz */
    .quiz-container {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(212,175,55,0.3);
      padding: 1.5rem;
      max-width: 700px;
      width: 100%;
      border-radius: 8px;
    }

    .quiz-question {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.2rem;
      margin-bottom: 1rem;
      color: var(--gold);
      line-height: 1.4;
    }

    .quiz-options { display: flex; flex-direction: column; gap: 0.5rem; }

    .quiz-option {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 0.75rem 1rem;
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
      border-radius: 6px;
      font-size: 0.9rem;
    }

    .quiz-option:hover { background: rgba(212,175,55,0.1); border-color: var(--gold); }
    .quiz-option.correct { background: rgba(34,197,94,0.2); border-color: var(--green); }
    .quiz-option.incorrect { background: rgba(197,48,48,0.2); border-color: var(--red); }

    .quiz-feedback {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 8px;
      display: none;
      font-size: 0.9rem;
    }

    .quiz-feedback.show { display: block; }
    .quiz-feedback.correct { background: rgba(34,197,94,0.2); border: 1px solid var(--green); }
    .quiz-feedback.incorrect { background: rgba(197,48,48,0.2); border: 1px solid var(--red); }

    /* Branching Scenario */
    .scenario-panel {
      background: rgba(0,0,0,0.3);
      border: 2px solid var(--purple);
      border-radius: 12px;
      padding: 1.5rem;
      max-width: 750px;
      width: 100%;
    }

    .scenario-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .scenario-icon { font-size: 1.5rem; }

    .scenario-title {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.3rem;
      color: var(--gold);
    }

    .scenario-situation {
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 1rem;
      color: rgba(255,255,255,0.9);
    }

    .scenario-question {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.1rem;
      color: var(--gold);
      margin-bottom: 1rem;
    }

    .scenario-choices {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .scenario-choice {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 0.75rem 1rem;
      cursor: pointer;
      transition: all 0.2s;
      border-radius: 6px;
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
    }

    .scenario-choice:hover { background: rgba(212,175,55,0.1); border-color: var(--gold); }
    .scenario-choice.answered { pointer-events: none; opacity: 0.6; }
    .scenario-choice.correct { background: rgba(34,197,94,0.2); border-color: var(--green); opacity: 1; }
    .scenario-choice.incorrect { background: rgba(197,48,48,0.2); border-color: var(--red); opacity: 1; }

    .choice-letter {
      background: var(--navy);
      color: var(--gold);
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      font-weight: 700;
      font-size: 0.8rem;
      flex-shrink: 0;
    }

    .choice-text { font-size: 0.9rem; line-height: 1.4; }

    .scenario-consequence {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 8px;
      display: none;
    }

    .scenario-consequence.visible { display: block; }
    .scenario-consequence.good { background: rgba(34,197,94,0.15); border: 1px solid var(--green); }
    .scenario-consequence.bad { background: rgba(197,48,48,0.15); border: 1px solid var(--red); }
    .scenario-consequence.neutral { background: rgba(249,115,22,0.15); border: 1px solid var(--orange); }

    .consequence-title {
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .scenario-consequence.good .consequence-title { color: var(--green); }
    .scenario-consequence.bad .consequence-title { color: var(--red); }
    .scenario-consequence.neutral .consequence-title { color: var(--orange); }

    .consequence-text { font-size: 0.9rem; line-height: 1.5; margin-bottom: 0.75rem; }
    .consequence-lesson { font-style: italic; color: var(--gold); font-size: 0.85rem; }

    /* References */
    .references {
      background: rgba(0,0,0,0.3);
      border: 1px solid rgba(212,175,55,0.3);
      border-radius: 8px;
      padding: 1.5rem;
      max-width: 700px;
      text-align: left;
      font-size: 0.75rem;
      line-height: 1.8;
    }

    .references h4 {
      color: var(--gold);
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .references ol { padding-left: 1.5rem; }
    .references li { margin-bottom: 0.5rem; color: rgba(255,255,255,0.8); }
    .references .journal { font-style: italic; }

    .text-center { text-align: center; }
    .mb-1 { margin-bottom: 1rem; }
    .mb-2 { margin-bottom: 2rem; }
    .mt-1 { margin-top: 1rem; }
    .mt-2 { margin-top: 2rem; }

    /* Interactive element focus states */
    .module-item:focus-visible {
      background: rgba(212,175,55,0.2);
      outline: 2px solid var(--gold);
      outline-offset: -2px;
    }
    .nav-btn:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
      opacity: 1;
    }
    .progress-dot:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
      transform: scale(1.5);
    }
    .quiz-option:focus-visible,
    .scenario-choice:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
      background: rgba(212,175,55,0.15);
    }

    /* High contrast mode support */
    @media (prefers-contrast: high) {
      :root {
        --gold: #FFD700;
        --cream: #FFFFFF;
        --text: #000000;
      }
      .btn { border-width: 2px; }
      .slide.dark, .slide.black { background: #000; }
    }

    /* Print stylesheet */
    @media print {
      .sidebar, .content-header, .slide-nav, .header-actions { display: none !important; }
      .course-container { display: block; height: auto; }
      .main-content { overflow: visible; }
      .content-body { overflow: visible; }
      .slides-container { overflow: visible; position: static; }
      .module-slides { display: block !important; }
      .slide {
        position: static !important;
        opacity: 1 !important;
        visibility: visible !important;
        page-break-inside: avoid;
        page-break-after: always;
        min-height: 100vh;
        background: white !important;
        color: black !important;
      }
      .slide * { color: black !important; }
      .title { color: #1E2761 !important; }
      .refrain, .gold-line { color: #8B7500 !important; }
      .simple-box, .story-card, .decision-tree, .compare-box {
        border: 2px solid #333 !important;
        background: #f5f5f5 !important;
      }
    }

    /* Light theme */
    body.light-theme {
      --deep-navy: #f5f5f5;
      --navy: #e8e8e8;
      --cream: #1a1a2e;
      --text: #2D3748;
      --light-text: #4a5568;
    }
    body.light-theme .sidebar {
      background: linear-gradient(180deg, #f0f0f0 0%, #e0e0e0 100%);
      border-right-color: rgba(30,39,97,0.2);
    }
    body.light-theme .sidebar-header h1 { color: var(--navy); }
    body.light-theme .module-item:hover { background: rgba(30,39,97,0.1); }
    body.light-theme .module-item.active { background: rgba(30,39,97,0.15); border-left-color: #1E2761; }
    body.light-theme .module-number { background: rgba(30,39,97,0.1); color: #1E2761; }
    body.light-theme .module-item.active .module-number { background: #1E2761; color: white; }
    body.light-theme .module-title { color: #1a1a2e; }
    body.light-theme .module-subtitle { color: #4a5568; }
    body.light-theme .content-header { background: rgba(0,0,0,0.05); border-bottom-color: rgba(30,39,97,0.2); }
    body.light-theme .breadcrumb { color: #4a5568; }
    body.light-theme .breadcrumb span { color: #1E2761; }
    body.light-theme .btn { background: rgba(30,39,97,0.05); color: #1a1a2e; border-color: rgba(30,39,97,0.3); }
    body.light-theme .btn:hover { background: rgba(30,39,97,0.15); }
    body.light-theme .btn.primary { background: #1E2761; color: white; }
    body.light-theme .slide.dark,
    body.light-theme .slide.black,
    body.light-theme .slide.gradient,
    body.light-theme .slide.blood,
    body.light-theme .slide.hope,
    body.light-theme .slide.ipd,
    body.light-theme .slide.precision {
      background: #fafafa;
      color: #1a1a2e;
    }
    body.light-theme .title.gold { color: #1E2761; }
    body.light-theme .title.cream { color: #1a1a2e; }
    body.light-theme .refrain { color: #1E2761; }
    body.light-theme .refrain.warning { color: #C53030; border-left-color: #C53030; }
    body.light-theme .refrain.hope { color: #166534; }
    body.light-theme .refrain.insight { color: #1E40AF; }
    body.light-theme .rhetorical { color: #1a1a2e; }
    body.light-theme .rhetorical em { color: #1E2761; }
    body.light-theme .simple-box { background: linear-gradient(135deg, rgba(0,212,170,0.1), rgba(240,240,240,0.8)); }
    body.light-theme .story-card { background: rgba(0,0,0,0.03); }
    body.light-theme .story-card .narrative { color: #2D3748; }
    body.light-theme .decision-tree { background: rgba(0,0,0,0.03); }
    body.light-theme .nav-btn { background: rgba(0,0,0,0.1); color: #1a1a2e; border-color: rgba(0,0,0,0.2); }
    body.light-theme .slide-counter { color: #4a5568; }
    body.light-theme .progress-dot { background: rgba(0,0,0,0.2); }
    body.light-theme .progress-dot.active { background: #1E2761; }
    body.light-theme .sidebar-footer { color: #4a5568; }
    body.light-theme .gold-line { background: #1E2761; }

    /* Certificate Modal */
    .certificate-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }
    .certificate-modal.visible { display: flex; }
    .certificate {
      background: linear-gradient(135deg, #faf8f5 0%, #fff 100%);
      border: 8px solid #D4AF37;
      border-radius: 12px;
      padding: 3rem;
      max-width: 700px;
      width: 90%;
      text-align: center;
      position: relative;
      box-shadow: 0 25px 50px rgba(0,0,0,0.3);
    }
    .certificate-header {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 2.5rem;
      color: #1E2761;
      margin-bottom: 0.5rem;
    }
    .certificate-subtitle {
      font-size: 1rem;
      color: #718096;
      margin-bottom: 2rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
    }
    .certificate-body {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.2rem;
      color: #2D3748;
      line-height: 1.8;
      margin-bottom: 2rem;
    }
    .certificate-name {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 2rem;
      font-weight: 700;
      color: #1E2761;
      border-bottom: 2px solid #D4AF37;
      display: inline-block;
      padding: 0 2rem 0.5rem;
      margin: 1rem 0;
    }
    .certificate-date {
      font-size: 0.9rem;
      color: #718096;
      margin-top: 1.5rem;
    }
    .certificate-seal {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #D4AF37, #B8860B);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 1.5rem auto 0;
      color: white;
      font-size: 2rem;
      box-shadow: 0 4px 15px rgba(212,175,55,0.4);
    }
    .certificate-actions {
      margin-top: 2rem;
      display: flex;
      gap: 1rem;
      justify-content: center;
    }
    .certificate-actions button {
      padding: 0.75rem 1.5rem;
      border: 2px solid #1E2761;
      border-radius: 6px;
      background: white;
      color: #1E2761;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .certificate-actions button:hover {
      background: #1E2761;
      color: white;
    }
    .certificate-actions button.primary {
      background: #1E2761;
      color: white;
    }
    .certificate-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #718096;
    }
    .certificate-close:hover { color: #1E2761; }

    /* Name input for certificate */
    .certificate-input {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.5rem;
      text-align: center;
      border: none;
      border-bottom: 2px solid #D4AF37;
      background: transparent;
      padding: 0.5rem 1rem;
      width: 80%;
      max-width: 300px;
      color: #1E2761;
    }
    .certificate-input:focus {
      outline: none;
      border-bottom-color: #1E2761;
    }
    .mobile-menu-toggle{display:none;position:fixed;top:12px;left:12px;z-index:1001;background:#1E2761;border:1px solid #D4AF37;color:#D4AF37;width:40px;height:40px;border-radius:8px;font-size:1.2rem;cursor:pointer;align-items:center;justify-content:center;}
    @media(max-width:768px){.mobile-menu-toggle{display:flex;}.sidebar{transform:translateX(-100%);transition:transform 0.3s ease;position:fixed;z-index:1000;height:100vh;}.sidebar.open{transform:translateX(0);}.sidebar-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:999;}.sidebar-overlay.show{display:block;}}
  </style>
</head>
<body>
<!-- Skip link for keyboard navigation -->
<a class="skip-link" href="#main-content">Skip to content</a>
<button aria-expanded="false" aria-label="Toggle navigation menu" class="mobile-menu-toggle" onclick="toggleSidebar()">â˜°</button>
<div class="sidebar-overlay" onclick="document.querySelector('.sidebar').classList.remove('open');this.classList.remove('show');"></div>
<!-- Live region for screen reader announcements -->
<div aria-atomic="true" aria-live="polite" class="aria-live-region" id="ariaLiveRegion"></div>
<!-- Certificate Modal -->
<div aria-labelledby="certTitle" aria-modal="true" class="certificate-modal" id="certificateModal" role="dialog">
<div class="certificate" id="certificateContent">
<button aria-label="ì¸ì¦ì„œ ë‹«ê¸°" class="certificate-close" onclick="closeCertificate()">Ã—</button>
<div class="certificate-header" id="certTitle">Certificate of Completion</div>
<div class="certificate-subtitle">ê°œë³„ ì°¸ê°€ì ë°ì´í„° ë©”íƒ€ ë¶„ì„</div>
<div class="certificate-body">
        ì´ëŠ”<br/>
<input aria-label="ì¸ì¦ì„œ ì´ë¦„" class="certificate-input" id="certName" placeholder="ì´ë¦„ ì…ë ¥" type="text"/>
<br/><br/>
        í•©ì„± ë°©ë²• ë° í•´ë‹¹ ì„ìƒ ê³¼ì •ì„<br/>
<strong>"The Hidden Patient: IPD Meta-Analysis"</strong><br/>
        demonstrating understanding of individual participant data<br/>
        ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí–ˆìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.
      </div>
<div class="certificate-date" id="certDate"></div>
<div class="certificate-seal">âœ“</div>
<div class="certificate-actions">
<button aria-label="ì¸ì¦ì„œ ì¸ì‡„" onclick="printCertificate()">ğŸ–¨ï¸ Print</button>
<button aria-label="ì¸ì¦ì„œë¥¼ ì´ë¯¸ì§€ë¡œ ë‹¤ìš´ë¡œë“œ" class="primary" onclick="downloadCertificate()">ğŸ“¥ Download</button>
</div>
</div>
</div>
<div aria-label="IPD ë©”íƒ€ ë¶„ì„ ê³¼ì •" class="course-container">
<!-- Sidebar Navigation -->
<nav aria-label="ê³¼ì • ëª¨ë“ˆ" class="sidebar" role="navigation">
<div class="sidebar-header">
<a href="index.html" onmouseout="this.style.color='rgba(212,175,55,0.7)'" onmouseover="this.style.color='#D4AF37'" style="display:block;font-size:0.7rem;color:rgba(212,175,55,0.7);text-decoration:none;margin-bottom:0.5rem;">â† Course Library</a>
<h1>ìˆ¨ê²¨ì§„ í™˜ì</h1>
<p>ê°œë³„ ì°¸ê°€ì ë°ì´í„° ë©”íƒ€ ë¶„ì„</p>
</div>
<div aria-label="ëª¨ë“ˆ ëª©ë¡" class="module-list" id="moduleList" role="list"></div>
<div class="sidebar-footer">
<div aria-live="polite" id="progressPercent" style="color:var(--gold);margin-bottom:0.5rem;font-weight:600;"></div>
        "ì´ì²´ì ìœ¼ë¡œ ê°œì¸ì€ ì‚¬ë¼ì§‘ë‹ˆë‹¤."
        <br/><br/>
        ëª¨ë“  í™˜ìì—ê²ŒëŠ” ì´ì•¼ê¸°ê°€ ìˆìŠµë‹ˆë‹¤. IPDë¥¼ ì‚¬ìš©í•˜ë©´ ë“¤ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        <br/><br/>
<details style="font-size:0.65rem;opacity:0.7;">
<summary style="cursor:pointer;">Keyboard shortcuts</summary>
<div style="margin-top:0.5rem;">
            â†’ / Space: Next slide<br/>
            â†: Previous slide<br/>
            í™ˆ: ì²« ë²ˆì§¸ ëª¨ë“ˆ<br/>
            ë: ë§ˆì§€ë§‰ ëª¨ë“ˆ
          </div>
</details>
</div>
</nav>
<!-- Main Content -->
<main class="main-content" role="main">
<header class="content-header">
<div class="breadcrumb">
          IPD Course &gt; <span id="currentModule">The Vanishing</span>
</div>
<div aria-label="ê³¼ì • ë™ì‘" class="header-actions" role="toolbar">
<button aria-label="Toggle theme" class="btn" id="themeToggle" onclick="toggleTheme()" title="Toggle light/dark mode">â˜€ï¸</button>
<button aria-label="ê³¼ì • ì§„í–‰ ìƒí™© ì¬ì„¤ì •" class="btn" onclick="resetProgress()" title="ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘">Reset</button>
<button aria-label="ì°¸ì¡° ëª¨ë“ˆë¡œ ì´ë™" class="btn" onclick="goToModule(16)">References</button>
<button aria-label="Continue to next slide" class="btn primary" onclick="nextSlide()">Continue</button>
</div>
</header>
<div class="content-body">
<div aria-label="ê³¼ì • ìŠ¬ë¼ì´ë“œ" class="slides-container" id="main-content" role="region" tabindex="-1">
 =========================== ëª¨ë“ˆ 1: ì†Œë©¸(IPDê°€ ì¤‘ìš”í•œ ì´ìœ ) ==================== 
<div class="module-slides active" data-module="1">
<!-- Slide 1.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  ì–´ë–»ê²Œ ì²œ ëª…ì˜ í™˜ìê°€<br/>
                  can be <em>reduced to a single number</em>,<br/>
                  ê·¸ ìˆ«ìì—ì„œ <em>ìƒëª…ì´ ì§€ì›Œì§€ëŠ”ì§€ ë³´ì§€ ëª»í•˜ì…¨ë‚˜ìš”</em>?
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 1.2: ì§‘ê³„ í™˜ìƒ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ì´í•© í™˜ìƒ</div>
<div class="story-card animate delay-1">
<div class="place">EVERY META-ANALYSIS YOU'VE EVER READ</div>
<div class="narrative">
                    A meta-analysis reports: "Treatment reduces mortality by 15%."
                    <br/><br/>
                    ê·¸ëŸ¬ë‚˜ ì–´ë–¤ í™˜ìê°€ í˜œíƒì„ ë°›ì•˜ìŠµë‹ˆê¹Œ? ì Šì€ì´ì¸ê°€, ëŠ™ì€ì´ì¸ê°€? ì§ˆë³‘ì´ ê²½ì¦ì´ê±°ë‚˜ ì¤‘ì¦ì¸ ê²½ìš°? ë‚¨ìì…ë‹ˆê¹Œ, ì—¬ìì…ë‹ˆê¹Œ?
                    <br/><br/>
<strong>ì „ì²´ê°€ ë‹µë³€í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</strong>
<br/><br/>
                    í‰ê· ì ìœ¼ë¡œ ì¼ë¶€ í™˜ìëŠ” ëª©ìˆ¨ì„ êµ¬í–ˆê³  ì¼ë¶€ëŠ” í”¼í•´ë¥¼ ì…ì—ˆìŠµë‹ˆë‹¤.
                  </div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 1.3: ìˆ¨ê²¨ì§„ ì´ì§ˆì„± 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">What Aggregates Hide</div>
<div class="patient-grid animate delay-1">
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
</div>
<p class="animate delay-2" style="margin-top:1rem;font-size:0.9rem;">
<span style="color:var(--green);">â— Responders</span> Â 
                  <span style="color:var(--red);">â— Non-responders</span>
</p>
<div class="simple-box animate delay-3">
<div class="simple-title">THE TRAGEDY</div>
<div class="simple-text">
                    "Overall benefit: 30%"<br/><br/>
                    But <strong>who</strong> 30%ì…ë‹ˆê¹Œ? ê°œë³„ ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ì‘ë‹µìì™€ ë¹„ì‘ë‹µìë¥¼ ì‹ë³„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” <strong>precision medicine</strong>.
                  </div>
</div>
</div>
</div>
<!-- Slide 1.4: The Breast Cancer Revelation -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Oxford, 1985</div>
<div class="story-card animate delay-1">
<div class="place">EARLY BREAST CANCER TRIALISTS' COLLABORATIVE GROUP</div>
<div class="narrative">
                    Richard Peto gathered something unprecedented: the <strong>raw data</strong>
                    on every woman in every tamoxifen trial.
                    <br/><br/>
                    ìš”ì•½ì„ ì—°ìŠµí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í‰ê· ì´ ì•„ë‹™ë‹ˆë‹¤. <strong>Each patient, each tumor, each outcome.</strong>
<br/><br/>
                    What he discovered changed breast cancer treatment forever.
                  </div>
<div class="source">Early Breast Cancer Trialists' Collaborative Group. Lancet 1988;2:61-72</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 1.5: ë°œê²¬ 
<div class="slide dark">
<div class="content text-center">
<div class="rhetorical animate">
                  ê²Œì‹œëœ ì‹œí—˜ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë§í–ˆìŠµë‹ˆë‹¤.<br/>
                  "Tamoxifen works."
                  <br/><br/>
                  But the <em>individual data</em> revealed:
                </div>
<div class="discovery-box animate delay-2">
<div class="insight">ER+ vs ERâˆ’</div>
<div class="label">Tamoxifen only worked in estrogen receptor positive tumors</div>
</div>
<div class="simple-box animate delay-3">
<div class="simple-title">ìˆ¨ê²¨ì§„ ë‚´ìš©</div>
<div class="simple-text">
                    ì´ ìƒí˜¸ ì‘ìš©ì„ ê°ì§€í•  ë§Œí¼ í° ë‹¨ì¼ ì‹œí—˜ì€ ì—†ìŠµë‹ˆë‹¤. ëª¨ë“  ì‹¤í—˜ì—ì„œ <strong>ê°œë³„ í™˜ì ë°ì´í„°</strong> ë¥¼ ê²°í•©í•´ì•¼ë§Œ ì§„ì‹¤ì´ ë“œëŸ¬ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br/><br/>
<strong>Giving tamoxifen to ERâˆ’ patients was useless.</strong>
</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 1.6: ìì œ 
<div class="slide black">
<div class="content text-center">
<div class="refrain insight animate">
                  "ì´ì²´ì ìœ¼ë¡œ, ê°œì¸ì€<br/>
                  ê°œì¸ì—ê²Œì„œ ì§„ì‹¤ì´ ë‚˜íƒ€ë‚œë‹¤.<br/>
                  ì´ê²ƒì´ ìš°ë¦¬ê°€ ìˆ¨ì€ í™˜ìë¥¼ ì°¾ëŠ” ì´ìœ ì´ë‹¤."
                </div>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="color:rgba(255,255,255,0.6);font-style:italic;">
                  ì´ê²ƒì´ ê°œì¸ ì°¸ê°€ì ë°ì´í„° ë©”íƒ€ë¶„ì„ì´ë‹¤.
                </p>
</div>
</div>
</div>
 ==================== ëª¨ë“ˆ 2: AGGREGATE VS IPD ==================== 
<div class="module-slides" data-module="2">
<!-- Slide 2.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  What is lost when we summarize?<br/>
                  What is found when we look closer?
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 2.2: ë‘ ê°€ì§€ ì ‘ê·¼ ë°©ì‹ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Two Ways to Synthesize</div>
<div class="compare-grid animate delay-1">
<div class="compare-box aggregate">
<h4>Aggregate Data (AD)</h4>
<ul>
<li>Study-level summaries</li>
<li>ì¶œíŒë¬¼ì˜ íš¨ê³¼ í¬ê¸°</li>
<li>Mean age, % male, etc.</li>
<li>ë¹ ë¥´ê³  ì•¡ì„¸ìŠ¤ ê°€ëŠ¥</li>
<li>Cannot see within-study variation</li>
</ul>
</div>
<div class="compare-box ipd">
<h4>ê°œë³„ ì°¸ê°€ì ë°ì´í„°(IPD)</h4>
<ul>
<li>í™˜ì ìˆ˜ì¤€ ì›ì‹œ ë°ì´í„°</li>
<li>Every participant's characteristics</li>
<li>Actual ages, actual outcomes</li>
<li>Time-intensive to obtain</li>
<li>Can see who responds and who doesn't</li>
</ul>
</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 2.3: ìƒíƒœí•™ì  ì˜¤ë¥˜ 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">ìƒíƒœí•™ì  ì˜¤ë¥˜</div>
<div class="story-card animate delay-1">
<div class="place">ì§‘í•©ì  ì‚¬ê³ ì˜ ìœ„í—˜</div>
<div class="narrative">
                    Imagine two trials of a drug for heart failure.
                    <br/><br/>
                    Trial A: Mean age 55 years, Effect size 0.70 (benefit)<br/>
                    Trial B: Mean age 75 years, Effect size 0.90 (less benefit)
                    <br/><br/>
<strong>Tempting conclusion:</strong> "The drug works better in younger patients."
                    <br/><br/>
<strong>But this could be completely wrong.</strong>
</div>
</div>
</div>
</div>
<!-- Slide 2.4: Why It's Wrong -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">The Trap</div>
<div class="simple-box animate delay-1">
<div class="simple-title">ECOLOGICAL FALLACY</div>
<div class="simple-text">
                    ê° ì‹œí—˜ ë‚´ì—ì„œ ì—°ë ¹ê³¼ ì¹˜ë£Œ íš¨ê³¼ì˜ ê´€ê³„ëŠ” <strong>completely different</strong> ì‹œí—˜ ê°„ ê´€ê³„ì—ì„œ ë¹„ë¡¯ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    <br/><br/>
                    Perhaps in Trial A, <em>older</em> patients within that trial responded better.
                    Perhaps in Trial B, <em>younger</em> patients within that trial responded better.
                    <br/><br/>
<strong>ê°œì¸ì´ ì—†ì´ëŠ” ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. data.</strong>
</div>
</div>
<div class="formula-box animate delay-2">
<div class="label">THE RULE</div>
<div class="formula">Between-study relationships â‰  Within-study relationships</div>
<div class="label">Aggregate data can only show between-study patterns</div>
</div>
</div>
</div>
<!-- Slide 2.5: What IPD Enables -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">What IPD Enables</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--blue);">1</div>
<div class="lesson-content">
<h4>True Effect Modification</h4>
<p>Test whether treatment effect varies by patient characteristics (age, biomarkers, disease severity)</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--blue);">2</div>
<div class="lesson-content">
<h4>Time-to-Event Analysis</h4>
<p>Use actual survival curves, not just hazard ratios. Handle censoring properly.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--blue);">3</div>
<div class="lesson-content">
<h4>Consistent Definitions</h4>
<p>Standardize outcome definitions, exposure timing, covariate categories across studies</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background:var(--blue);">4</div>
<div class="lesson-content">
<h4>Subgroup Credibility</h4>
<p>ìƒíƒœì  ì˜¤ë¥˜ë¥¼ í”¼í•˜ë©´ì„œ ì—°êµ¬ ë‚´ ìƒí˜¸ ì‘ìš© í…ŒìŠ¤íŠ¸</p>
</div>
</div>
</div>
</div>
<!-- Slide 2.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  "ì§‘ê³„ ë°ì´í„°ëŠ” ìˆ²ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.<br/>
                  Individual data shows each tree.<br/>
                  ì–´ë–¤ ë‚˜ë¬´ê°€ ë³‘ë“ ì§€ ì•Œì•„ì•¼ í•˜ëŠ” ê²½ìš°â€”<br/>
                  you must walk among them."
                </div>
</div>
</div>
</div>
 ==================== ëª¨ë“ˆ 3: CTT ê³„ì‹œ(STATINS) =================== 
<div class="module-slides" data-module="3">
<!-- Slide 3.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  ì–´ë–»ê²Œ ë³¸ ì  ì—†ë‚˜ìš”? <em>one collaboration</em><br/>
                  gathered data on <em>170,000 patients</em><br/>
                  and answered questions no single trial could ask?
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 3.2: CTT 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Oxford, 1994-Present</div>
<div class="story-card animate delay-1">
<div class="place">CHOLESTEROL TREATMENT TRIALISTS' COLLABORATION</div>
<div class="narrative">
                    CTTê°€ ê°œë³„ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ë°©ë²•ì„ ë³´ì§€ ëª»í•˜ì…¨ë‚˜ìš”? from <strong>every major statin trial</strong>.
                    <br/><br/>
                    27 trials. 174,149 patients. Every baseline characteristic.
                    Every cardiovascular event. Every death.
                    <br/><br/>
                    The published trials asked: "Do statins work?"
                    <br/><br/>
                    CTT ì§ˆë¬¸: <strong>"ìŠ¤íƒ€í‹´ì€ ëˆ„êµ¬ì—ê²Œ íš¨ê³¼ê°€ ìˆìŠµë‹ˆê¹Œ?"</strong>
</div>
<div class="source">CTT Collaboration. Lancet 2010;376:1670-81</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 3.3: ìˆ«ì 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">IPD ê·œëª¨</div>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value" style="color:var(--blue);">27</div>
<div class="stat-label">Trials Combined</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--gold);">174,149</div>
<div class="stat-label">Individual Patients</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--teal);">5</div>
<div class="stat-label">ë°ì´í„° ì—°ë„ ìˆ˜ì§‘</div>
</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">THE INVESTMENT</div>
<div class="simple-text">
                    IPDë¥¼ ìˆ˜ì§‘í•˜ë ¤ë©´ ìˆ˜ë…„ê°„ì˜ í˜‘ìƒ, ë°ì´í„° ì „ì†¡, ì •ë¦¬ ë° ì¡°í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤.
                    <br/><br/>
                    ê·¸ëŸ¬ë‚˜ ë‹µë³€í•  ìˆ˜ ìˆëŠ” ì§ˆë¬¸ì€ <strong>íˆ¬ìí•  ê°€ì¹˜ê°€ ìˆìŠµë‹ˆë‹¤</strong>.
                  </div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 3.4: Discovery 
<div class="slide precision">
<div class="content text-center">
<div class="title purple animate">What CTT Discovered</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>Benefit Proportional to LDL Reduction</h4>
<p>Every 1 mmol/L LDL reduction = 22% lower CV events. True across all subgroups.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>No Age Threshold</h4>
<p>Benefit continues even in patients &gt;75 years (contradicting earlier AD analyses)</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>Primary Prevention Works</h4>
<p>Patients without prior CVD benefit proportionally to their baseline risk</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background:var(--red);">âœ—</div>
<div class="lesson-content">
<h4>No Cancer Signal</h4>
<p>ì•”ì„ ìœ ë°œí•˜ëŠ” ìŠ¤íƒ€í‹´ì— ëŒ€í•œ ìš°ë ¤ëŠ” IPD í›„ì† ì¡°ì¹˜ë¥¼ í†µí•´ í™•ì‹¤í•˜ê²Œ ë°˜ë°•ë˜ì—ˆìŠµë‹ˆë‹¤</p>
</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 3.5: ADê°€ ì‘ë‹µí•  ìˆ˜ ì—†ëŠ” ì´ìœ  
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ë°ì´í„° ì§‘ê³„ì— ì‹¤íŒ¨í•œ ì´ìœ </div>
<div class="story-card animate delay-1">
<div class="place">THE LIMITATION</div>
<div class="narrative">
                    Published trials categorized patients differently.
                    <br/><br/>
                    Trial A: "High risk" = 10-year CVD risk &gt;20%<br/>
                    Trial B: "High risk" = Prior MI<br/>
                    Trial C: "High risk" = Diabetes
                    <br/><br/>
                    You cannot compare or combine what is defined differently.
                    <br/><br/>
<strong>IPD allowed the CTT to redefine everyone consistently.</strong>
</div>
</div>
</div>
</div>
<!-- Slide 3.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain hope animate">
                  "When trials speak different languages,<br/>
                  IPDëŠ”<br/>
                  What seemed contradictory becomes clear:<br/>
                  the same truth, measured differently."
                </div>
</div>
</div>
</div>
<!-- ==================== MODULE 4: WHEN TO PURSUE IPD (DECISION TREE) ==================== -->
<div class="module-slides" data-module="4">
<!-- Slide 4.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  IPD takes <em>years</em> to gather.<br/>
                  ë°ì´í„° ì§‘ê³„ì— ì†Œìš”ë˜ëŠ” ì‹œê°„ <em>weeks</em>.<br/>
<br/>
                  ì–¸ì œ íˆ¬ìí•  ê°€ì¹˜ê°€ ìˆìŠµë‹ˆê¹Œ?
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 4.2: ì˜ì‚¬ê²°ì • í”„ë ˆì„ì›Œí¬ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ê²°ì •ë‚˜ë¬´</div>
<div class="decision-tree animate delay-1">
<h4>IPDë¥¼ ì¶”êµ¬í•´ì•¼ í•©ë‹ˆê¹Œ?</h4>
<div class="tree-level">
<div class="tree-node root">ì¹˜ë£Œ íš¨ê³¼ ìˆ˜ì •ì— ëŒ€í•´ ì§ˆë¬¸ì´ ìˆìœ¼ì‹ ê°€ìš”?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 2rem;">
<div>
<div class="tree-node yes">YES</div>
<div class="tree-label">"Who benefits most?"</div>
</div>
<div>
<div class="tree-node no">NO</div>
<div class="tree-label">"Does it work overall?"</div>
</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 2rem;">
<div class="tree-node ipd">IPD likely needed</div>
<div class="tree-node aggregate">AD may suffice</div>
</div>
</div>
</div>
</div>
<!-- Slide 4.3: More Criteria -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">When IPD Is Essential</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Time-to-Event Outcomes</h4>
<p>ìµœì¢… ìœ„í—˜ ë¹„ìœ¨ë¿ë§Œ ì•„ë‹ˆë¼ ìƒì¡´ ê³¡ì„ ì´ ì¤‘ìš”í•œ ê²½ìš°. ê²€ì—´ì„ ì ì ˆí•˜ê²Œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ê²½ìš°.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Continuous Effect Modifiers</h4>
<p>Testing whether treatment effect varies by age, BMI, biomarker level (not just "high" vs "low")</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Outcome Definition Problems</h4>
<p>ì‹œí—˜ì—ì„œ ê²°ê³¼ë¥¼ ë‹¤ë¥´ê²Œ ì •ì˜í•˜ê³  í‘œì¤€í™”í•´ì•¼ í•˜ëŠ” ê²½ìš°</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Longer Follow-Up Available</h4>
<p>ì‹œí—˜ìê°€ ë°œí‘œí•˜ì§€ ì•Šì€ í›„ì† ë°ì´í„°ê°€ ìˆëŠ” ê²½ìš° include</p>
</div>
</div>
</div>
</div>
<!-- Slide 4.4: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-ipd-decision">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">ì—°êµ¬ ì „ëµ ê²°ì •</span>
</div>
<div class="scenario-situation">
                    ê·€ì‚¬ëŠ” ê³µê°œëœ ë°ì´í„°ê°€ í¬í•¨ëœ 10ê°œì˜ ì ê²© RCTë¥¼ ê³„íší•˜ê³  ìˆìŠµë‹ˆë‹¤. ë™ë£Œê°€ "IPDë¥¼ ì‹œë„í•´ì•¼ í• ê¹Œìš”, ì•„ë‹ˆë©´ ê·¸ëƒ¥ ì¢…í•© ë¶„ì„ì„ í•´ì•¼ í• ê¹Œìš”?"
                    <br/><br/>
                    í•µì‹¬ ì§ˆë¬¸ì…ë‹ˆë‹¤. "ì§ˆë³‘ì˜ ì‹¬ê°ë„ì™€ ì¹˜ë£Œ ì‹œê¸°ì— ë”°ë¼ í˜œíƒì´ ë‹¬ë¼ì§€ë‚˜ìš”?"
                  </div>
<div class="scenario-question">ë¬´ì—‡ì„ ì¶”ì²œí•˜ì‹œë‚˜ìš”?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('ipd-decision', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">ADë§Œ ìˆ˜í–‰í•˜ì„¸ìš”. ê²°ê³¼ëŠ” ë¹¨ë¦¬ í•„ìš”í•˜ê³  IPDëŠ” ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦½ë‹ˆë‹¤.</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('ipd-decision', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">IPDë¥¼ ì¶”êµ¬í•˜ì„¸ìš”. ìš°ë¦¬ì˜ ì§ˆë¬¸ì€ í™˜ì íŠ¹ì„±ì— ë”°ë¥¸ íš¨ê³¼ ìˆ˜ì •ì— ê´€í•œ ê²ƒì…ë‹ˆë‹¤.</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('ipd-decision', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">í•˜ìœ„êµ° ë¶„ì„ì„ ìˆ˜í–‰í•˜ì„¸ìš”. ì¶œíŒë¬¼ì˜ ì‹œí—˜ ìˆ˜ì¤€ ì‹¬ê°ë„ ë²”ì£¼ë³„</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-ipd-decision"></div>
</div>
</div>
</div>
<!-- Slide 4.5: When AD Is Enough -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ì§‘ê³„ëœ ë°ì´í„°ê°€ ì¶©ë¶„í•œ ê²½ìš°</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--orange);">âœ“</div>
<div class="lesson-content">
<h4>Overall Treatment Effect</h4>
<p>ìœ ì¼í•œ ì§ˆë¬¸ì´ "ì‘ë™í•©ë‹ˆê¹Œ?"ì¼ ë•Œ "ëˆ„êµ¬ë¥¼ ìœ„í•´?"ê°€ ì•„ë‹™ë‹ˆë‹¤.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--orange);">âœ“</div>
<div class="lesson-content">
<h4>Homogeneous Population</h4>
<p>When trials enrolled similar patients and effect modification is unlikely</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--orange);">âœ“</div>
<div class="lesson-content">
<h4>Binary Outcomes, Short Follow-up</h4>
<p>ê²€ì—´ì´ ë¬¸ì œê°€ ë˜ì§€ ì•Šê³  ê²°ê³¼ê°€ ë‹¨ìˆœí•œ ì˜ˆ/ì•„ë‹ˆì˜¤ì¸ ê²½ìš°</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background:var(--orange);">âœ“</div>
<div class="lesson-content">
<h4>IPD Unobtainable</h4>
<p>ì‹œí—˜ ì°¸ê°€ìê°€ ê³µìœ í•˜ì§€ ì•Šìœ¼ë©´ ë°ì´í„°ê°€ ì†ì‹¤ë˜ê±°ë‚˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²½ìš°</p>
</div>
</div>
</div>
</div>
<!-- Slide 4.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  "ëª¨ë“  ì§ˆë¬¸ì— ê°œì¸ì´ í•„ìš”í•œ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.<br/>
                  ê·¸ëŸ¬ë‚˜ ëª¨ë“  ì§ˆë¬¸ì— about <em>which</em> individuals<br/>
                  ë°ì´í„°ì— ì´ë“¤ì˜ ì¡´ì¬ë¥¼ ìš”êµ¬í•©ë‹ˆë‹¤."
                </div>
</div>
</div>
</div>
 ===================== ëª¨ë“ˆ 5: 1ë‹¨ê³„ VS 2ë‹¨ê³„ =================== 
<div class="module-slides" data-module="5">
<!-- Slide 5.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  ê°œë³„ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í–ˆìŠµë‹ˆë‹¤.<br/>
<br/>
                  ì´ì œ: ë‹¤ìŒê³¼ ê°™ì´ ë¶„ì„í•˜ì„¸ìš”. <em>one combined dataset</em><br/>
                  or <em>trial by trial, then combine</em>?
                </div>
</div>
</div>
<!-- Slide 5.2: Two Approaches -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Two Analytical Approaches</div>
<div class="compare-grid animate delay-1">
<div class="compare-box aggregate">
<h4>Two-Stage Approach</h4>
<ul>
<li>Stage 1: Analyze each trial separately</li>
<li>2ë‹¨ê³„: ê²°ê³¼ ë©”íƒ€ ë¶„ì„</li>
<li>Preserves trial structure</li>
<li>Familiar (like standard MA)</li>
<li>Cannot handle sparse data well</li>
</ul>
</div>
<div class="compare-box ipd">
<h4>One-Stage Approach</h4>
<ul>
<li>ëª¨ë“  ë°ì´í„°ë¥¼ ë™ì‹œì— ë¶„ì„</li>
<li>Mixed-effects regression model</li>
<li>í´ëŸ¬ìŠ¤í„°ë§</li>
<li>í¬ì†Œ ë°ì´í„°ì— ë” ì í•©</li>
<li>More flexible modeling</li>
</ul>
</div>
</div>
</div>
</div>
<!-- Slide 5.3: Two-Stage Explained -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">2ë‹¨ê³„: ìµìˆ™í•œ ê²½ë¡œ</div>
<div class="formula-box animate delay-1">
<div class="label">STAGE 1 (Within Each Trial)</div>
<div class="formula">Estimate treatment effect for trial k: Î¸<sub>k</sub></div>
<div class="label">í•´ë‹¹ ì‹œí—˜ì˜ ê°œë³„ í™˜ì ë°ì´í„° ì‚¬ìš©</div>
</div>
<div class="formula-box animate delay-2">
<div class="label">STAGE 2 (Across Trials)</div>
<div class="formula">Meta-analyze Î¸<sub>1</sub>, Î¸<sub>2</sub>, ... Î¸<sub>K</sub></div>
<div class="label">í‘œì¤€ ë¬´ì‘ìœ„ íš¨ê³¼ ì‚¬ìš© ë°©ë²•</div>
</div>
<div class="simple-box animate delay-3">
<div class="simple-title">ADVANTAGE</div>
<div class="simple-text">
                    Easy to understand. Easy to explain.
                    <br/>
                    Each trial's estimate is transparent.
                    <br/>
                    ìµìˆ™í•œ ì‚°ë¦¼ ê³„íšê³¼ I<sup>2</sup> statistics.
                  </div>
</div>
</div>
</div>
<!-- Slide 5.4: One-Stage Explained -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">1ë‹¨ê³„: ê°•ë ¥í•œ ê²½ë¡œ</div>
<div class="formula-box animate delay-1">
<div class="label">MIXED-EFFECTS MODEL</div>
<div class="formula">Y<sub>ij</sub> = Î²<sub>0</sub> + Î²<sub>1</sub>Treatment<sub>ij</sub> + u<sub>j</sub> + Îµ<sub>ij</sub></div>
<div class="label">i = patient, j = trial, u<sub>j</sub> = random trial effect</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">ADVANTAGES</div>
<div class="simple-text">
<strong>1.</strong> Handles trials with zero events (no continuity corrections)<br/>
<strong>2.</strong> More powerful for detecting interactions<br/>
<strong>3.</strong> Can model complex covariate relationships<br/>
<strong>4.</strong> Exact likelihood (no normal approximations)
                  </div>
</div>
</div>
</div>
<!-- Slide 5.5: Decision Tree -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ì ‘ê·¼ ë°©ì‹ ì„ íƒ</div>
<div class="decision-tree animate delay-1">
<h4>One-Stage or Two-Stage?</h4>
<div class="tree-level">
<div class="tree-node question">Do trials have sparse events (rare outcomes)?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 2rem;">
<div>
<div class="tree-node yes">YES (sparse)</div>
<div class="tree-arrow">â†“</div>
<div class="tree-node ipd">One-stage preferred</div>
<div class="tree-label">Avoids zero-cell problems</div>
</div>
<div>
<div class="tree-node no">NO (common events)</div>
<div class="tree-arrow">â†“</div>
<div class="tree-node aggregate">Either works</div>
<div class="tree-label">ê²°ê³¼ëŠ” ìœ ì‚¬í•´ì•¼ í•©ë‹ˆë‹¤</div>
</div>
</div>
</div>
</div>
</div>
<!-- Slide 5.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  "The two-stage preserves each trial's voice.<br/>
                  The one-stage hears all voices at once.<br/>
                  ë°ì´í„°ê°€ í¬ë°•í•˜ê³  ì´ë²¤íŠ¸ê°€ ë“œë¬¸ ê²½ìš°â€”<br/>
                  1ë‹¨ê³„ 2ë‹¨ê³„ì—ì„œ ë†“ì¹œ ë¶€ë¶„ì„ í¬ì°©í•©ë‹ˆë‹¤."
                </div>
</div>
</div>
</div>
 ==================== ëª¨ë“ˆ 6: ì½”ë¥´í‹°ì½”ìŠ¤í…Œë¡œì´ë“œ íƒ€ì´ë° ìŠ¤í† ë¦¬ =================== 
<div class="module-slides" data-module="6">
<!-- Slide 6.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  ì•„ê¸°ì˜ ìƒëª…ì„ êµ¬í•œ ì•½ë¬¼<br/>
                  â€”<br/>
<em>but only if given at the right time</em>?
                </div>
</div>
</div>
<!-- Slide 6.2: Preterm Birth -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">ë¯¸ìˆ™ì•„ì˜ ì—­ì„¤</div>
<div class="story-card animate delay-1">
<div class="place">NEONATAL INTENSIVE CARE UNITS WORLDWIDE</div>
<div class="narrative">
                    ì‚°ì „ ì½”ë¥´í‹°ì½”ìŠ¤í…Œë¡œì´ë“œëŠ” 1970ë…„ëŒ€ì— í™•ë¦½ë˜ì—ˆìŠµë‹ˆë‹¤.
                    <br/><br/>
                    But a puzzle remained: <strong>When should they be given?</strong>
<br/><br/>
                    24 hours before birth? 48 hours? A week?
                    <br/><br/>
                    Published trials couldn't answerâ€”they didn't report timing consistently.
                  </div>
<div class="source">Roberts D, et al. Cochrane Database Syst Rev 2017</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 6.3: IPD ì†”ë£¨ì…˜ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">IPDê°€ ê³µê°œí•œ ì°½</div>
<div class="stats-grid animate delay-1">
<div class="stat-box" style="border: 2px solid var(--green);">
<div class="stat-value" style="color:var(--green);">24h-7d</div>
<div class="stat-label">Optimal Window</div>
</div>
<div class="stat-box" style="border: 2px solid var(--red);">
<div class="stat-value" style="color:var(--red);">&gt;7 days</div>
<div class="stat-label">Benefit Wanes</div>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">THE DISCOVERY</div>
<div class="simple-text">
                    By examining each baby's exact time from steroid to delivery,
                    IPD meta-analysis showed:
                    <br/><br/>
<strong>Maximum benefit:</strong> 24 hours to 7 days before birth<br/>
<strong>Reduced benefit:</strong> &gt;7 days (lung maturity effect fades)<br/>
<strong>No benefit:</strong> &lt;24 hours (not enough time to work)
                  </div>
</div>
</div>
</div>
<!-- Slide 6.4: Clinical Impact -->
<div class="slide hope">
<div class="content text-center">
<div class="title green animate">Lives Saved, Practice Changed</div>
<div class="story-card animate delay-1">
<div class="place">ì„ìƒì  ì˜í–¥</div>
<div class="narrative">
                    IPD ì „: ì„ìƒì˜ëŠ” ìŠ¤í…Œë¡œì´ë“œë¥¼ íˆ¬ì—¬í•˜ê³  ìµœì„ ì˜ ê²°ê³¼ë¥¼ ë°”ëìŠµë‹ˆë‹¤.
                    <br/><br/>
                    After IPD: Guidelines now recommend <strong>repeat dosing</strong>
                    ì²˜ìŒ í›„ 7ì¼ ì´ë‚´ì— ë°°ì†¡ì´ ì´ë£¨ì–´ì§€ì§€ ì•Šì€ ê²½ìš° ë¬¼ë¡ ì…ë‹ˆë‹¤.
                    <br/><br/>
                    ê°œë³„ ë°ì´í„° ì—†ì´ëŠ” ë¶ˆê°€ëŠ¥í•œ ì´ ì •ë°€ë„ì—ëŠ” <strong>saved thousands of premature babies</strong>.
                  </div>
</div>
<div class="discovery-box animate delay-2">
<div class="insight">Timing is Treatment</div>
<div class="label">ë™ì¼í•œ ì•½ë¬¼ì´ ì˜ëª»ëœ ì‹œê¸°ì— íˆ¬ì—¬ë˜ë©´ ìœ„ì•½ì´ ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</div>
</div>
</div>
</div>
<!-- Slide 6.5: Why AD Failed -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ì§‘í•© ë°ì´í„°ê°€ ì´ë¥¼ í‘œì‹œí•  ìˆ˜ ì—†ëŠ” ì´ìœ </div>
<div class="simple-box animate delay-1">
<div class="simple-title">THE PROBLEM</div>
<div class="simple-text">
                    Trial A reported: "Steroid given within 48 hours"<br/>
                    Trial B reported: "Steroid given antenatally"<br/>
                    Trial C reported: "Steroid-to-delivery interval: median 3 days"
                    <br/><br/>
                    Different categories. Different definitions. <strong>Incompatible summaries.</strong>
<br/><br/>
                    Only by examining each baby's actual steroid-to-delivery time
                    could the optimal window be identified.
                  </div>
</div>
</div>
</div>
<!-- Slide 6.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain hope animate">
                  "ì´ ì•½ë¬¼ì€ ë‹¤ìŒê³¼ ê°™ì€ ê²ƒìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤. ì¼.<br/>
                  But <em>when</em> ê·¸ê²ƒì„ ì£¼ëŠ” ê²ƒì€ ì•Œ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.<br/>
                  IPDëŠ” 'ì–¸ì  ê°€'ë¥¼ 'ì ì ˆí•œ ë•Œ'ë¡œ ë°”ê¾¸ì—ˆìŠµë‹ˆë‹¤.<br/>
                  ê·¸ë¦¬ê³  ê·¸ ì •í™•ì„± ì†ì—ì„œ ì•„ì´ë“¤ì€ ì‚´ì•˜ìŠµë‹ˆë‹¤."
                </div>
</div>
</div>
</div>
 ===================== MODULE 7: IPD íšë“(í€˜ìŠ¤íŠ¸) ==================== 
<div class="module-slides" data-module="7">
<!-- Slide 7.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  ë°ì´í„°ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.<br/>
                  ì–´ë”˜ê°€ì˜ íŒŒì¼ê³¼ ë°ì´í„°ë² ì´ìŠ¤<br/>
<em>ê° í™˜ìì˜ ì´ì•¼ê¸°ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.</em>.<br/>
<br/>
                  ë¬¸ì œëŠ” í™˜ìê°€ ì´ë¥¼ ê³µìœ í•  ê²ƒì¸ê°€ì…ë‹ˆë‹¤.
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 7.2: í€˜ìŠ¤íŠ¸ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ë°ì´í„° íƒêµ¬</div>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value" style="color:var(--green);">60-80%</div>
<div class="stat-label">Typical IPD Retrieval Rate</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--red);">6-24</div>
<div class="stat-label">Months to Gather</div>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">REALITY CHECK</div>
<div class="simple-text">
                    ì•„ë§ˆë„ <strong>not</strong> get 100% of trials.
                    Some investigators will refuse. Some data is lost.
                    Some companies won't share.
                    <br/><br/>
<strong>This is expected.</strong> Plan for it.
                  </div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 7.3: ë°ì´í„° ì†ŒìŠ¤ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Where IPD Lives</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Trialist Collaboration</h4>
<p>Direct contact with trial investigators. Build relationships. Offer co-authorship.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>ë°ì´í„° ê³µìœ  í”Œë«í¼</h4>
<p>YODA Project, ClinicalStudyDataRequest.com, Vivli, ICPSR</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Regulatory Agencies</h4>
<p>EMA Policy 0070, FDA (limited), Health Canada</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Journal Requirements</h4>
<p>Many journals now require data sharing; check supplementary materials</p>
</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 7.4: í˜‘ì—… í¸ì§€ 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">The Approach</div>
<div class="story-card animate delay-1">
<div class="place">HOW TO ASK</div>
<div class="narrative">
<strong>1. ì§ˆë¬¸ì„ ì‹œì‘í•˜ì„¸ìš”</strong>â€”explain why IPD is essential
                    <br/><br/>
<strong>2. Offer co-authorship</strong>â€”make sharing worthwhile
                    <br/><br/>
<strong>3. ë°ì´í„° ë³´ì•ˆ ì„¤ëª…</strong>â€”how you'll protect their patients
                    <br/><br/>
<strong>4. ë°ì´í„° ì‚¬ì „ ì œê³µ</strong>â€”specify exactly what you need
                    <br/><br/>
<strong>5. Set clear timelines</strong>â€”respect their time
                  </div>
</div>
</div>
</div>
<!-- Slide 7.5: Missing IPD Problem -->
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">ê°€ìš©ì„± í¸í–¥ í•¨ì •</div>
<div class="simple-box animate delay-1">
<div class="simple-title">THE DANGER</div>
<div class="simple-text">
                    ì‹œí–‰ <strong>share data</strong> ì‹œìŠ¤í…œì ìœ¼ë¡œ ë‹¤ë¥¸ ì‹œë„ <strong>don't share</strong>?
                    <br/><br/>
                    Industry trials: less likely to share<br/>
                    Negative trials: less likely to share<br/>
                    Older trials: data may be lost
                    <br/><br/>
<strong>Your IPD sample may be biased.</strong>
</div>
</div>
<div class="formula-box animate delay-2">
<div class="label">THE RULE</div>
<div class="formula">Always compare: IPD trials vs. non-IPD trials</div>
<div class="label">Do they differ in effect size, sample size, funding source?</div>
</div>
</div>
</div>
<!-- Slide 7.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  "ë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°. ë¬¸ì œëŠ” ì‹ ë¢°ì…ë‹ˆë‹¤.<br/>
                  Will they share what they have guarded?<br/>
                  ë¸Œë¦¬ì§€ë¥¼ êµ¬ì¶•í•˜ì„¸ìš”. ì‹ ì¤‘í•˜ê²Œâ€”<br/>
                  ê·¸ ë‹¤ë¦¬ ìœ„ì—ì„œëŠ” í™˜ìì˜ ë¯¸ë˜ê°€ êµì°¨í•©ë‹ˆë‹¤."
                </div>
</div>
</div>
</div>
 ==================== ëª¨ë“ˆ 8: ë°ì´í„° ì¡°í™” =================== 
<div class="module-slides" data-module="8">
<!-- Slide 8.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  ëª¨ìœ¼ì…¨ìŠµë‹ˆë‹¤. ë°ì´í„°<br/>
                  from twelve trials, five countries, three decades.<br/>
<br/>
                  But Trial A calls it <em>"cardiovascular death"</em><br/>
                  ë° ì‹œí—˜ Bê°€ ì´ë¥¼ í˜¸ì¶œ <em>"cardiac mortality"</em>.<br/>
<br/>
                  ë™ì¼í•©ë‹ˆê¹Œ?
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 8.2: ì¡°í™” ê³¼ì œ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ë°”ë²¨íƒ‘ ë¬¸ì œ</div>
<div class="story-card animate delay-1">
<div class="place">EVERY IPD META-ANALYSIS</div>
<div class="narrative">
                    Trial from Japan: Age in years since 1900 (e.g., "54" = 1954 birth)<br/>
                    Trial from USA: Age in decimal years (e.g., 65.7)<br/>
                    ì˜êµ­ì˜ ì‹œí—˜: ì—°ë ¹ ë°´ë“œ ("65-74")<br/><br/>
                    Diabetes: HbA1c â‰¥ 6.5% vs. fasting glucose â‰¥ 126 vs. "physician diagnosis"<br/><br/>
                    Outcome: "Major adverse cardiac event" (one trial includes stroke, another doesn't)<br/><br/>
<strong>ë¶„ì„ ì „: ëª¨ë“  ê²ƒì„ ì¡°í™”ì‹œí‚¤ì„¸ìš”.</strong>
</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 8.3: í”„ë¡œì„¸ìŠ¤ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ì¡°í™” í”„ë¡œì„¸ìŠ¤</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>ë§ˆìŠ¤í„° ë°ì´í„° ìƒì„± ì‚¬ì „</h4>
<p>Define every variable you need: name, type, permitted values, derivation rules</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Map Each Trial's Variables</h4>
<p>Document how each trial's coding maps to your standardized definitions</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>ì‹œí—˜ ì°¸ê°€ìì—ê²Œ í™•ì¸</h4>
<p>í•´ì„ì„ í™•ì¸í•˜ì„¸ìš”. ê·¸ë“¤ì€ ë‹¹ì‹ ë³´ë‹¤ ìì‹ ì˜ ë°ì´í„°ë¥¼ ë” ì˜ ì•Œê³  ìˆìŠµë‹ˆë‹¤.</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Validate Transformations</h4>
<p>IPDì—ì„œ ê²Œì‹œëœ ê²°ê³¼ë¥¼ ì¬í˜„í•©ë‹ˆë‹¤. ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ì¡°ì‚¬í•˜ì‹­ì‹œì˜¤.</p>
</div>
</div>
</div>
</div>
<!-- Slide 8.4: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-harmonization">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">ì •ì˜ ë”œë ˆë§ˆ</span>
</div>
<div class="scenario-situation">
                    8ê°œì˜ ë‹¹ë‡¨ë³‘ ì„ìƒì‹œí—˜ì—ì„œ ì–»ì€ IPDë¥¼ ì¡°í™”ì‹œí‚¤ê³  ìˆìŠµë‹ˆë‹¤. ì£¼ìš” ê²°ê³¼ëŠ” "ì‹¬ì¥í˜ˆê´€ ì‚¬ë§"ì…ë‹ˆë‹¤.
                    <br/><br/>
                    6ê±´ì˜ ì„ìƒì‹œí—˜ì—ì„œëŠ” í‘œì¤€ ì •ì˜(ICD ì½”ë“œ)ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. 1990ë…„ëŒ€ ë‘ ê±´ì˜ ì„ìƒì‹œí—˜ì—ì„œëŠ” í‘œì¤€í™”ëœ ê¸°ì¤€ ì—†ì´ "ì‹œí—˜ìê°€ í‰ê°€í•œ ì‹¬ì¥ì‚¬"ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì´ ë‘ ê°€ì§€ ì‹¤í—˜ì€ ë” í° ì¹˜ë£Œ íš¨ê³¼ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.
                  </div>
<div class="scenario-question">ì´ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•©ë‹ˆê¹Œ?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('harmonization', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">8ê°œ ì‹¤í—˜ì„ ëª¨ë‘ í¬í•¨í•©ë‹ˆë‹¤. ë°ì´í„°ê°€ ë§ì„ìˆ˜ë¡ ë” ì¢‹ê³  ì •ì˜ê°€ "ì¶©ë¶„íˆ ê°€ê¹ìŠµë‹ˆë‹¤"</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('harmonization', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">Exclude the 2 non-standardized trials to maintain outcome consistency</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('harmonization', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">ì¼ê´€ëœ 6ê°œ ì‹¤í—˜ì„ ì‚¬ìš©í•œ 1ì°¨ ë¶„ì„ì…ë‹ˆë‹¤. ë‹¤ë¥¸ 2ê°œë¥¼ ì¶”ê°€í•˜ëŠ” ë¯¼ê°ë„ ë¶„ì„</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-harmonization"></div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 8.5: ê²€ì¦ ë‹¨ê³„ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ì¤‘ìš”í•œ ê²€ì¦</div>
<div class="simple-box animate delay-1">
<div class="simple-title">THE TEST</div>
<div class="simple-text">
<strong>ìƒˆ ë¶„ì„ ì „:</strong>
<br/><br/>
                    IPDì—ì„œ ê° ì‹œí—˜ì˜ ê²Œì‹œëœ ê²°ê³¼ë¥¼ ì¬í˜„í•©ë‹ˆë‹¤.
                    <br/><br/>
                    ë¶„ì„ì—ì„œ RR = 0.78ì´ì§€ë§Œ ì¶œíŒë¬¼ì—ëŠ” RR = 0.85ë¡œ ë‚˜ì™€ ìˆëŠ” ê²½ìš°
                    <br/>
<strong>something is wrong.</strong>
<br/><br/>
                    Find the discrepancy. Fix it. Then proceed.
                  </div>
</div>
</div>
</div>
<!-- Slide 8.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  "Different languages, different rulers,<br/>
                  different ways to name the same disease.<br/>
                  ìˆ˜í–‰í•˜ê¸° ì „ì— ê²°í•©í•˜ë ¤ë©´ ë²ˆì—­í•´ì•¼ í•©ë‹ˆë‹¤.<br/>
                  ë²ˆì—­í•˜ê¸° ì „ì— ë¨¼ì € ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤."
                </div>
</div>
</div>
</div>
 ===================== ëª¨ë“ˆ 9: ìƒí˜¸ ì‘ìš© í…ŒìŠ¤íŠ¸ =================== 
<div class="module-slides" data-module="9">
<!-- Slide 9.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  ì¹˜ë£Œ íš¨ê³¼ê°€ ìˆìŠµë‹ˆë‹¤ <em>on average</em>.<br/>
<br/>
                  ê·¸ëŸ°ë° ì–´ë¦°ì´ì™€ ë…¸ì¸ ëª¨ë‘ì—ê²Œ ë™ì¼í•˜ê²Œ íš¨ê³¼ê°€ ìˆë‚˜ìš”?<br/>
                  ê²½ì¦ í™˜ìì™€ ì¤‘ì¦ í™˜ìì—ê²Œ ì ìš©ë©ë‹ˆê¹Œ?<br/>
                  ë°”ì´ì˜¤ë§ˆì»¤ê°€ ìˆëŠ” ì‚¬ëŒê³¼ ì—†ì´?
                </div>
</div>
</div>
<!-- Slide 9.2: The Tamoxifen Discovery Revisited -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">ì¢…ì–‘í•™ì„ ë³€í™”ì‹œí‚¨ ìƒí˜¸ì‘ìš©</div>
<div class="story-card animate delay-1">
<div class="place">EBCTCG, 1985-1998</div>
<div class="narrative">
                    The Early Breast Cancer Trialists' Group didn't just ask "Does tamoxifen work?"
                    <br/><br/>
                    They asked: <strong>"Does the effect differ by estrogen receptor status?"</strong>
<br/><br/>
                    ìƒí˜¸ì‘ìš©ì€ ì—„ì²­ë‚¬ìŠµë‹ˆë‹¤:
                    <br/><br/>
                    ER-positive: 47% reduction in recurrence<br/>
                    ER-negative: <strong>No benefit at all</strong>
</div>
<div class="source">EBCTCG. Lancet 1998;351:1451-67</div>
</div>
<div class="discovery-box animate delay-2">
<div class="insight">p<sub>interaction</sub> &lt; 0.00001</div>
<div class="label">The most important interaction in cancer medicine</div>
</div>
</div>
</div>
<!-- Slide 9.3: How to Test Interactions -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Testing Treatment-Covariate Interactions</div>
<div class="formula-box animate delay-1">
<div class="label">THE MODEL</div>
<div class="formula">Outcome = Î²<sub>1</sub>Treatment + Î²<sub>2</sub>Covariate + Î²<sub>3</sub>(Treatment Ã— Covariate)</div>
<div class="label">Î²<sub>3</sub> is the interaction term - does treatment effect vary by covariate?</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">INTERPRETATION</div>
<div class="simple-text">
                    If Î²<sub>3</sub> is statistically significant:
                    <br/><br/>
                    ì¹˜ë£Œ íš¨ê³¼ <strong>differs</strong> between subgroups defined by the covariate.
                    <br/><br/>
                    ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°: ì¹˜ë£Œ íš¨ê³¼ëŠ” <strong>similar</strong> across subgroups
                    (or you lack power to detect a difference).
                  </div>
</div>
</div>
</div>
<!-- Slide 9.4: Within vs Between Study Interactions -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ì¤‘ìš”í•œ ì°¨ì´ì </div>
<div class="compare-grid animate delay-1">
<div class="compare-box aggregate">
<h4>Between-Study Interaction</h4>
<ul>
<li>Compares trial-level averages</li>
<li>Ecological fallacy risk</li>
<li>Confounded by trial design</li>
<li>Low statistical power</li>
<li>ì§‘í•©ìœ¼ë¡œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ ë°ì´í„°</li>
</ul>
</div>
<div class="compare-box ipd">
<h4>Within-Study Interaction</h4>
<ul>
<li>Compares patients within each trial</li>
<li>No ecological fallacy</li>
<li>Randomization preserved</li>
<li>Much higher power</li>
<li>Requires IPD</li>
</ul>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">ì£¼ìš” í†µì°°ë ¥</div>
<div class="simple-text">
                    IPDë¥¼ ì‚¬ìš©í•˜ë©´ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ <strong>within-study interactions</strong>,
                    where randomization ensures the comparison is fair.
                    <br/><br/>
                    ì´ê²ƒì€ íš¨ê³¼ ìˆ˜ì •ì— ëŒ€í•œ í‘œì¤€ì…ë‹ˆë‹¤.
                  </div>
</div>
</div>
</div>
<!-- Slide 9.5: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-interaction">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">ì—°ë ¹ ìƒí˜¸ ì‘ìš© ì§ˆë¬¸</span>
</div>
<div class="scenario-situation">
                    IPD ë©”íƒ€ ë¶„ì„ ì‹¬ë°©ì„¸ë™ì— ëŒ€í•œ í•­ì‘ê³ ì œì—ëŠ” 12,000ëª…ì˜ í™˜ìê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©° ì—°ë ¹ ìƒí˜¸ì‘ìš©ì„ í…ŒìŠ¤íŠ¸í•œ ê²°ê³¼ p=0.03ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. 75ì„¸ ì´ìƒ í™˜ì(RR 0.55)ê°€ 75ì„¸ ë¯¸ë§Œ í™˜ì(RR 0.72)ë³´ë‹¤ ë” í° ì´ì ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
                    <br/><br/>
                    ë¶„ì„ì—ì„œ 8ê°€ì§€ ì ì¬ì  íš¨ê³¼ ìˆ˜ì •ìë¥¼ í…ŒìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤.
                  </div>
<div class="scenario-question">í•´ì„ ë°©ë²• ì´ ê²°ê³¼ëŠ”ìš”?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('interaction', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">ë…¸ì¸ í™˜ìì—ê²Œ í•­ì‘ê³ ì œê°€ ë” íš¨ê³¼ì ì´ë¼ê³  ë³´ê³ í•©ë‹ˆë‹¤. ìƒí˜¸ ì‘ìš©ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('interaction', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">Apply multiple testing correction; with 8 tests, p=0.03 is likely a false positive</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('interaction', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">Report as hypothesis-generating, note the multiple comparisons, request external validation</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-interaction"></div>
</div>
</div>
</div>
<!-- Slide 9.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  "í‰ê· ì€ ìƒí˜¸ ì‘ìš©ì„ ìˆ¨ê¹ë‹ˆë‹¤.<br/>
                  The interaction reveals who benefits.<br/>
                  ì—°êµ¬ ì‚¬ì´ê°€ ì•„ë‹Œ ì—°êµ¬ ë‚´ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.<br/>
                  ì§„ì‹¤ì€ ì—¬ê¸°ì— ìˆìŠµë‹ˆë‹¤. "
                </div>
</div>
</div>
</div>
 ===================== ëª¨ë“ˆ 10: ì˜ˆí›„ ë° ì˜ˆì¸¡ ==================== 
<div class="module-slides" data-module="10">
<!-- Slide 10.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  IPDëŠ” ì¹˜ë£Œë§Œì„ ìœ„í•œ ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤.<br/>
<br/>
                  ì°¾ì„ ë•Œ <em>predict</em> who will die,<br/>
                  who will recover, who will relapseâ€”<br/>
<em>ê°œì¸ì´ ì „ë¶€ì…ë‹ˆë‹¤</em>.
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 10.2: IMPACT ì´ì•¼ê¸° 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Predicting Recovery After Brain Injury</div>
<div class="story-card animate delay-1">
<div class="place">IMPACT CONSORTIUM, 2005-PRESENT</div>
<div class="narrative">
                    ì™¸ìƒì„± ë‡Œ ì†ìƒ í›„ ê°€ì¡±ë“¤ì€ ì¶©ê²©ì ì¸ ì§ˆë¬¸ì„ í•©ë‹ˆë‹¤.
                    <br/><br/>
<strong>"Will they ever wake up?"</strong>
<br/><br/>
                    Individual trials were too small to develop accurate prediction models.
                    <br/><br/>
                    IMPACTëŠ” 11ê°œ ì—°êµ¬, 9,205ëª…ì˜ í™˜ìë¡œë¶€í„° IPDë¥¼ ìˆ˜ì§‘í–ˆìœ¼ë©°, ì´ˆê¸° ì„ìƒ íŠ¹ì§•ì—ì„œ 6ê°œì›” ê²°ê³¼ë¥¼ ì˜ˆì¸¡í•˜ëŠ” ëª¨ë¸ì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.
                  </div>
<div class="source">IMPACT Study Group. PLoS Med 2008;5:e165</div>
</div>
</div>
</div>
<!-- Slide 10.3: Why IPD for Prognosis -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Why Prognosis Demands IPD</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>External Validation Across Populations</h4>
<p>Develop in some studies, validate in others. True test of generalizability.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Non-linear Relationships</h4>
<p>Explore how predictors relate to outcome: linear? threshold? U-shaped?</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Multiple Predictor Interactions</h4>
<p>Age + GCS + pupil reactivity may interact in ways aggregate data cannot reveal</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Proper Handling of Missing Predictors</h4>
<p>ì—°êµ¬ ìˆ˜ì¤€ì´ ì•„ë‹Œ í™˜ì ìˆ˜ì¤€ì—ì„œ ë‹¤ì¤‘ ëŒ€ì¹˜</p>
</div>
</div>
</div>
</div>
<!-- Slide 10.4: The TRIPOD+PRISMA-IPD Framework -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Reporting Standards</div>
<div class="compare-grid animate delay-1">
<div class="compare-box aggregate">
<h4>TRIPOD</h4>
<ul>
<li>Prediction model reporting</li>
<li>ê°œë°œ ë° ê²€ì¦</li>
<li>ë³´ì • ë° ì°¨ë³„</li>
<li>22 item checklist</li>
</ul>
</div>
<div class="compare-box ipd">
<h4>PRISMA-IPD</h4>
<ul>
<li>IPD meta-analysis reporting</li>
<li>ë°ì´í„° íšë“ ì„¸ë¶€ ì •ë³´</li>
<li>Harmonization process</li>
<li>Integrity checking</li>
</ul>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">IPD ì˜ˆì¸¡ ëª¨ë¸ì˜ ê²½ìš°</div>
<div class="simple-text">
                    You need <strong>both</strong>: ëª¨ë¸ ìì²´ì˜ ê²½ìš° TRIPOD, ë°ì´í„° í•©ì„± í”„ë¡œì„¸ìŠ¤ì˜ ê²½ìš° PRISMA-IPD.
                  </div>
</div>
</div>
</div>
<!-- Slide 10.5: Clinical Impact -->
<div class="slide hope">
<div class="content text-center">
<div class="title green animate">When Prediction Saves Lives</div>
<div class="story-card animate delay-1">
<div class="place">ì„ìƒì  ì˜í–¥</div>
<div class="narrative">
                    The IMPACT model is now embedded in clinical decision support systems worldwide.
                    <br/><br/>
                    ì™¸ìƒì„± ë‡Œ ì†ìƒì„ ì…ì€ í™˜ìê°€ ë„ì°©í•˜ë©´ ëª¨ë¸ì€ <strong>probability of survival</strong>
                    and <strong>probability of favorable outcome</strong>.
                    <br/><br/>
                    ê°€ì¡±ê³¼ì˜ ëŒ€í™”ë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤. ì´ëŠ” ì¹˜ë£Œ ê°•ë„ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤. ì´ëŠ” ICU ë¦¬ì†ŒìŠ¤ë¥¼ í• ë‹¹í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.
                    <br/><br/>
<strong>ê°œë³„ ë°ì´í„°ë¡œ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤. ê°œë³„ í™˜ìì—ê²Œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</strong>
</div>
</div>
</div>
</div>
<!-- Slide 10.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain hope animate">
                  "To predict one patient's future,<br/>
                  ìˆ˜ì²œ ê°œì˜ ê³¼ê±°ë¡œë¶€í„° ë°°ì›Œì•¼ í•©ë‹ˆë‹¤.<br/>
                  IPDëŠ” ì´ëŸ¬í•œ ì´ì•¼ê¸°ë¥¼ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤.<br/>
                  each one a teacher, if you will listen."
                </div>
</div>
</div>
</div>
 =================== ëª¨ë“ˆ 11: ì•„ìŠ¤í”¼ë¦° ì—­ì„¤(ATT) ==================== 
<div class="module-slides" data-module="11">
<!-- Slide 11.1: Opening Sign -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  ì‘ì€ í°ìƒ‰ íƒœë¸”ë¦¿ì„ ê³ ë ¤í•˜ì§€ ì•Šìœ¼ì…¨ë‚˜ìš”?<br/>
                  ê·¸ë“¤ì˜ ë§ˆìŒì„ ìœ„í•´ ì£¼ì–´ì§„ ì‘ì€ í°ìƒ‰ íŒ <em>millions</em> ì„ ìƒê°í•´ ë³´ì§€ ì•Šìœ¼ì…¨ë‚˜ìš”?<br/>
<br/>
                  ê·¸ë“¤ì€ ë§í•¨: <em>"ì´ê²ƒì„ ê°€ì ¸ê°€ì„¸ìš”. ê·¸ëŸ¬ë©´ ë‹¹ì‹ ì€ ë³´í˜¸ë°›ì„ ê²ƒì…ë‹ˆë‹¤."</em><br/>
<br/>
                  But was every heart equally in need of protection?
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 11.2: Netflix ìƒ ì´ì•¼ê¸° 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Netflix ìƒ ì´ì•¼ê¸°</div>
<div class="story-card animate delay-1">
<div class="place">A TRUE STORY</div>
<div class="narrative">
                    In 2006, Netflix released 100 million "anonymized" movie ratings for a $1 million prize.
                    <br/><br/>
                    Researchers quickly re-identified users by matching ratings with public IMDb reviews.
                    <br/><br/>
                    One lawsuit alleged a closeted lesbian was outed through her viewing patterns.
                    <br/><br/>
<strong>The lesson: removing names isn't anonymization.</strong>
<br/><br/>
                    IPDì—ëŠ” ê³ ìœ í•˜ê²Œ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ì—°ë ¹, ì§„ë‹¨, ì¹˜ë£Œ ë°˜ì‘ ë° ë‚ ì§œì˜ ì¶©ë¶„í•œ ì¡°í•©ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ê°œì¸. ê°œì¸ ì •ë³´ ë³´í˜¸ì—ëŠ” ì´ë¦„ ì—´ì„ ì‚­ì œí•˜ëŠ” ê²ƒ ì´ìƒì´ í•„ìš”í•©ë‹ˆë‹¤. ì¦‰, ë°ì´í„° ì¡°í•©ì´ ì§€ë¬¸ì´ ë˜ëŠ” ë°©ì‹ì„ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.
                  </div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 11.3: ATT í˜‘ì—… 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Oxford, 2009</div>
<div class="story-card animate delay-1">
<div class="place">ANTITHROMBOTIC TRIALISTS' COLLABORATION</div>
<div class="narrative">
                    ATTëŠ” <strong>95,000 patients</strong>
                    across 6 primary prevention trials of aspirin.
                    <br/><br/>
                    The published trials said: "Aspirin prevents heart attacks."
                    <br/><br/>
                    ì—ì„œ ê°œë³„ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í–ˆì§€ë§Œ ATTëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê¸ˆì§€ëœ ì§ˆë¬¸ì„ í–ˆìŠµë‹ˆë‹¤.
                    <br/><br/>
<strong>"At ë¹„ìš©ì€ ì–¼ë§ˆì…ë‹ˆê¹Œ?"</strong>
</div>
<div class="source">ATT Collaboration. Lancet 2009;373:1849-60</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 11.4: ê³„ì‹œ 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">ë°í˜€ì§„ ìˆ«ì</div>
<div class="stats-grid animate delay-1">
<div class="stat-box" style="border: 2px solid var(--green);">
<div class="stat-value" style="color:var(--green);">-12%</div>
<div class="stat-label">Heart Attacks Prevented</div>
</div>
<div class="stat-box" style="border: 2px solid var(--red);">
<div class="stat-value" style="color:var(--red);">+32%</div>
<div class="stat-label">Major Bleeds Caused</div>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">THE BALANCE</div>
<div class="simple-text">
                    For every <strong>1,000 low-risk patients</strong> 5ë…„ê°„ ì•„ìŠ¤í”¼ë¦° ë³µìš©:
                    <br/><br/>
<span style="color:var(--green);">2-3 heart attacks prevented</span><br/>
<span style="color:var(--red);">2-3 major bleeds caused</span>
<br/><br/>
<strong>í˜œíƒê³¼ í•´ë¡œì›€ì´ ì‚¬ë¼ì§‘ë‹ˆë‹¤. out.</strong>
</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 11.5: ì˜ì‚¬ê²°ì •ë„ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ìœ„í—˜ ê¸°ë°˜ ê²°ì •</div>
<div class="decision-tree animate delay-1">
<h4>ì´ í™˜ìëŠ” 1ì°¨ ì˜ˆë°©ì„ ìœ„í•´ ì•„ìŠ¤í”¼ë¦°ì„ ë³µìš©í•´ì•¼ í•©ë‹ˆê¹Œ?</h4>
<div class="tree-level">
<div class="tree-node root">10-Year CVD Risk?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 1rem;">
<div>
<div class="tree-node yes" style="background:rgba(34,197,94,0.3);">&gt;20%</div>
<div class="tree-label">High Risk</div>
</div>
<div>
<div class="tree-node question">10-20%</div>
<div class="tree-label">Intermediate</div>
</div>
<div>
<div class="tree-node no" style="background:rgba(197,48,48,0.3);">&lt;10%</div>
<div class="tree-label">Low Risk</div>
</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 1rem;">
<div class="tree-node action">Consider aspirin<br/>(benefit &gt; harm)</div>
<div class="tree-node aggregate">Shared decision<br/>(benefit â‰ˆ harm)</div>
<div class="tree-node" style="background:rgba(197,48,48,0.5);border-color:var(--red);">Avoid aspirin<br/>(harm &gt; benefit)</div>
</div>
</div>
</div>
</div>
<!-- Slide 11.6: Why Aggregate Failed -->
<div class="slide dark">
<div class="content text-center">
<div class="rhetorical animate">
                  Why did published meta-analyses miss this?
                </div>
<div class="simple-box animate delay-1">
<div class="simple-title">ì§‘ê³„</div>
<div class="simple-text">
                    Published trials reported <strong>average benefits</strong>.
                    <br/><br/>
                    ê³ ìœ„í—˜ í™˜ìê°€<br/>
                    while low-risk patients lost.
                    <br/><br/>
                    Only by examining each patient's baseline risk,<br/>
                    each patient's outcomes,<br/>
                    could the <strong>interaction</strong> be revealed.
                  </div>
</div>
</div>
</div>
<!-- Slide 11.7: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-aspirin">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">1ì°¨ ì˜ˆë°© ë”œë ˆë§ˆ</span>
</div>
<div class="scenario-situation">
                    52ì„¸ ë‚¨ì„±ì´ ì‹¬ì¥ë§ˆë¹„ ì˜ˆë°©ì„ ìœ„í•œ ì•„ìŠ¤í”¼ë¦°ì— ëŒ€í•´ ë¬¸ì˜í–ˆìŠµë‹ˆë‹¤. ê·¸ëŠ” ì´ì „ì— CVD ë³‘ë ¥ì´ ì—†ì—ˆê³ , ì½œë ˆìŠ¤í…Œë¡¤ì€ ê²½ê³„ì„ ì— ìˆìœ¼ë©°, í˜ˆì••ì€ ì¡°ì ˆë˜ê³ , ë¹„í¡ì—°ìì…ë‹ˆë‹¤. ê·¸ì˜ 10ë…„ê°„ ì‹¬í˜ˆê´€ ì§ˆí™˜ ìœ„í—˜ì€ 8%ì…ë‹ˆë‹¤.
                    <br/><br/>
                    ê·¸ëŠ” ì˜¨ë¼ì¸ì—ì„œ "ì•„ìŠ¤í”¼ë¦°ì´ ì‹¬ì¥ë§ˆë¹„ë¥¼ ì˜ˆë°©í•œë‹¤"ëŠ” ë‚´ìš©ì„ ì½ê³  ì¡°ì–¸ì„ êµ¬í–ˆìŠµë‹ˆë‹¤.
                  </div>
<div class="scenario-question">ê·¸ì—ê²Œ ë¬´ì—‡ì„ ë§í•©ë‹ˆê¹Œ?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('aspirin', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">"Yes, take aspirin daily - it's proven to prevent heart attacks"</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('aspirin', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">"At your risk level, aspirin's bleeding risk roughly equals its heart benefit - I'd recommend against it"</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('aspirin', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">"Take baby aspirin - the lower dose is safer"</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-aspirin"></div>
</div>
</div>
</div>
<!-- Slide 11.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain warning animate">
                  "ë©¸ì¢… ìœ„ê¸°ì— ì²˜í•œ ì‚¬ëŒë“¤ì„ êµ¬í•˜ëŠ” ì•½ì€<br/>
                  ì•ˆì „í•©ë‹ˆë‹¤.<br/>
<br/>
                  ì²˜ë°©í•˜ê¸° ì „ì— í™˜ìì˜ ìœ„í—˜ì„ íŒŒì•…í•˜ì‹­ì‹œì˜¤.<br/>
                  ì´ê²ƒì´ ê°œë³„ ë°ì´í„°ê°€ ìš°ë¦¬ì—ê²Œ ê°€ë¥´ì³ ì¤€ ê²ƒì…ë‹ˆë‹¤."
                </div>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="color:rgba(255,255,255,0.6);font-style:italic;">
                  95,000 patients. One truth: risk determines benefit.
                </p>
</div>
</div>
</div>
 ====================== ëª¨ë“ˆ 12: í˜ˆì•• ê³„ì‹œ(BPLTTC) ==================== 
<div class="module-slides" data-module="12">
<!-- Slide 12.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  ê·¸ë“¤ì´ ìˆ˜ì‹­ ë…„ ë™ì•ˆ ì–´ë–»ê²Œ ë…¼ìŸí–ˆëŠ”ì§€ ë³´ì§€ ëª»í•˜ì…¨ìŠµë‹ˆê¹Œ?<br/>
<em>"ë…¸ì¸ì„ ì Šì€ì´ì™€ ë™ì¼í•˜ê²Œ ëŒ€ìš°í•´ì•¼ í•©ë‹ˆê¹Œ?"</em><br/>
<br/>
                  Some said: "Lower is always better."<br/>
                  ë‹¤ë¥¸ ì‚¬ëŒë“¤ì€ ë§í–ˆìŠµë‹ˆë‹¤: "ë…¸ì¸ì€ ì—°ì•½í•©ë‹ˆë‹¤. ì¡°ì‹¬í•˜ì„¸ìš”."<br/>
<br/>
                  ëˆ„ê°€ ë§ì•˜ë‚˜ìš”?
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 12.2: ë…¼ìŸ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">J ê³¡ì„  ë…¼ìŸ</div>
<div class="story-card animate delay-1">
<div class="place">CARDIOLOGY CONFERENCES, 1980s-2000s</div>
<div class="narrative">
                    ìˆ˜ë…„ ë™ì•ˆ ì˜ì‚¬ë“¤ì€ ë‹¤ìŒê³¼ ê°™ì´ ì£¼ì¥í–ˆìŠµë‹ˆë‹¤.
                    <br/><br/>
<strong>ê³µê²©ì  ì§„ì˜:</strong> "Every mmHg of BP reduction saves lives.<br/>
                    Treat everyone to target 120/80."
                    <br/><br/>
<strong>ë³´ìˆ˜ì£¼ì˜ì ìº í”„:</strong> "In the elderly, low BP causes falls, strokes, death.<br/>
                    There's a J-curveâ€”too low is dangerous."
                    <br/><br/>
                    Individual trials were too small to settle it.
                    <strong>BPLTTCê°€ ê°œë³„ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•  ë•Œê¹Œì§€.</strong>
</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 12.3: í˜‘ì—… 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">The Blood Pressure Lowering Treatment Trialists</div>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value" style="color:var(--blue);">48</div>
<div class="stat-label">Trials Combined</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--gold);">344,716</div>
<div class="stat-label">Individual Patients</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--teal);">15+</div>
<div class="stat-label">Years of Follow-up</div>
</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">THE QUESTION</div>
<div class="simple-text">
                    Does the benefit of BP lowering vary by age?
                    <br/>
                    Is there a J-curve at very low pressures?
                    <br/>
                    Do the very old (&gt;80 years) still benefit?
                  </div>
</div>
<div class="source animate delay-3" style="color:rgba(255,255,255,0.5);font-size:0.8rem;margin-top:1rem;">
                  BPLTTC. Lancet 2021;397:1625-36
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 12.4: ë‹µë³€ 
<div class="slide hope">
<div class="content text-center">
<div class="title green animate">ë‹µ, At ë§ˆì§€ë§‰</div>
<div class="discovery-box animate delay-1">
<div class="insight">Benefit at Every Age</div>
<div class="label">ë¹„ë¡€ì  ìœ„í—˜ ê°ì†ŒëŠ” 55ì„¸ë¶€í„° 85ì„¸ ì´ìƒê¹Œì§€ ì¼ê´€ë˜ê²Œ</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">WHAT IPD SHOWED</div>
<div class="simple-text">
<strong>Every 5 mmHg BP reduction:</strong>
<br/><br/>
                    Age 55-64: 10% lower major CV events<br/>
                    Age 65-74: 10% lower major CV events<br/>
                    Age 75-84: 10% lower major CV events<br/>
                    Age â‰¥85: <strong>Still 10% lower</strong>
<br/><br/>
<em>p</em><sub>interaction</sub> = 0.85ì˜€ìŠµë‹ˆë‹¤. ì—°ë ¹ ìˆ˜ì •ì— ëŒ€í•œ ì¦ê±°ê°€ ì—†ìŠµë‹ˆë‹¤.
                  </div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 12.5: J ê³¡ì„ ì— ëŒ€í•œ ì˜¤í•´ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">J ê³¡ì„ ì€ ì–´ë–»ìŠµë‹ˆê¹Œ?</div>
<div class="story-card animate delay-1">
<div class="place">THE RESOLUTION</div>
<div class="narrative">
                    í™˜ì ê²€ì‚¬ë¥¼ í†µí•´ J ê³¡ì„ ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸í•œ BPLTTC<br/>
                    who achieved very low blood pressures.
                    <br/><br/>
<strong>Result:</strong> No J-curve in randomized comparisons.
                    <br/><br/>
                    ëª…ë°±í•œ ì‚¬ì‹¤ ê´€ì°° ë°ì´í„°ì˜ J-ê³¡ì„ ì€ <em>reverse causation</em>â€”
                    sick patients have low BP because they're sick,
                    not sick because their BP is low.
                    <br/><br/>
<strong>RCTì˜ IPDë§Œì´ ì´ë¥¼ í’€ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</strong>
</div>
</div>
</div>
</div>
<!-- Slide 12.6: Decision Tree -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Treating Hypertension by Age</div>
<div class="decision-tree animate delay-1">
<h4>Should This Elderly Patient Get BP Treatment?</h4>
<div class="tree-level">
<div class="tree-node root">Patient Age?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 2rem;">
<div class="tree-node yes" style="min-width:80px;">55-74</div>
<div class="tree-node yes" style="min-width:80px;">75-84</div>
<div class="tree-node yes" style="min-width:80px;">85+</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level">
<div class="tree-node action" style="background:var(--green);min-width:300px;">
                      Treat if BP elevated<br/>
<span style="font-size:0.75rem;">Proportional benefit maintained across all ages</span>
</div>
</div>
</div>
<div class="simple-box animate delay-2" style="margin-top:1.5rem;">
<div class="simple-title">THE LESSON</div>
<div class="simple-text">
                    Age alone is not a reason to withhold treatment.
                    <br/>
                    Consider frailty, life expectancy, patient preferenceâ€”but not age.
                  </div>
</div>
</div>
</div>
<!-- Slide 12.7: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-elderly-bp">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">82ì„¸ ë…¸ì¸ì˜ í˜ˆì••</span>
</div>
<div class="scenario-situation">
                    82ì„¸ ì—¬ì„±ì˜ í˜ˆì••ì€ 158/88ì…ë‹ˆë‹¤. ê·¸ë…€ëŠ” ë…ë¦½ì ì´ê³  ì¸ì§€ì ìœ¼ë¡œ ì†ìƒë˜ì§€ ì•Šì•˜ìœ¼ë©° ë‚™ìƒ ì´ë ¥ì´ ì—†ìŠµë‹ˆë‹¤. ë™ë£Œì˜ ë§: "ê·¸ë…€ëŠ” ê³µê²©ì ì¸ í˜ˆì•• ì¹˜ë£Œë¥¼ í•˜ê¸°ì—ëŠ” ë„ˆë¬´ ëŠ™ì—ˆìŠµë‹ˆë‹¤. J-ê³¡ì„ , ì•„ì‹œì£ ."
                    <br/><br/>
                    BPLTTC IPD ë©”íƒ€ ë¶„ì„ì„ ê¸°ì–µí•˜ì‹œë‚˜ìš”?
                  </div>
<div class="scenario-question">What do you do?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('elderly-bp', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">ë™ë£Œì˜ ì˜ê²¬ì— ë™ì˜í•˜ì„¸ìš”. ë…¸ì¸ì„ ìœ„í•œ ë” ë†’ì€ í˜ˆì•• ëª©í‘œë¥¼ ë°›ì•„ë“¤ì…ë‹ˆë‹¤.</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('elderly-bp', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">í˜œíƒì´ ê³„ì†ëœë‹¤ëŠ” BPLTTC ì¦ê±°ë¥¼ ì¸ìš©í•˜ì„¸ìš”. ë§¤ìš° ë…¸ì¸ì˜ ê²½ìš° ì¹˜ë£Œë¥¼ ì‹œì‘í•©ë‹ˆë‹¤</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('elderly-bp', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">Wait for a cardiovascular event before treating</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-elderly-bp"></div>
</div>
</div>
</div>
<!-- Slide 12.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain hope animate">
                  "ê·¸ë“¤ì€ ë…¸ì¸ë“¤ì´ ì•½ì„ ë¨¹ê¸°ì—ëŠ” ë„ˆë¬´ ì·¨ì•½í•˜ë‹¤ê³  ë§í–ˆìŠµë‹ˆë‹¤.<br/>
                  ê·¸ëŸ¬ë‚˜ ê°œë³„ ë°ì´í„°ëŠ” ê·¸ë ‡ì§€ ì•Šì€ ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.<br/>
<br/>
                  At every age, the benefit endures.<br/>
                  Do not let age alone deny protection."
                </div>
</div>
</div>
</div>
 ==================== ëª¨ë“ˆ 13: ìŠ¤íŠ¸ë¡œí¬ ì‹œê°„ ì°½ ==================== 
<div class="module-slides" data-module="13">
<!-- Slide 13.1: Opening Sign -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  ì‹œê°„ê³¼ì˜ ê²½ìŸì„ ëª©ê²©í•˜ì§€ ì•Šìœ¼ì…¨ìŠµë‹ˆê¹Œ?<br/>
                  when a clot blocks the brain?<br/>
<br/>
                  Every minute, <em>two million neurons die</em>.<br/>
<br/>
                  But when does the window close?<br/>
                  When is it too late to intervene?
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 13.2: ìœ„í—˜ 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">Time Is Brain</div>
<div class="stats-grid animate delay-1">
<div class="stat-box" style="border: 2px solid var(--red);">
<div class="stat-value" style="color:var(--red);">1.9M</div>
<div class="stat-label">Neurons Lost Per Minute</div>
</div>
<div class="stat-box" style="border: 2px solid var(--orange);">
<div class="stat-value" style="color:var(--orange);">14B</div>
<div class="stat-label">Synapses Lost Per Minute</div>
</div>
</div>
<div class="story-card animate delay-2">
<div class="place">THE QUESTION</div>
<div class="narrative">
                    í˜ˆì „ ìš©í•´ì œëŠ” í˜ˆì „ì„ ìš©í•´ì‹œí‚¤ê³  í˜ˆì•¡ì„ íšŒë³µì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤ flow.
                    <br/><br/>
                    But given too late, it causes bleeding into dying brain tissue.
                    <br/><br/>
<strong>What is the time window? 3 hours? 4.5 hours? 6 hours?</strong>
<br/><br/>
                    Individual trials disagreed. Guidelines were uncertain.
                  </div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 13.3: IPD ì†”ë£¨ì…˜ 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">ë‡Œì¡¸ì¤‘ í˜ˆì „ìš©í•´ ì„ìƒ ì‹œí—˜ì</div>
<div class="story-card animate delay-1">
<div class="place">STT COLLABORATIVE GROUP, 2014</div>
<div class="narrative">
                    STTëŠ” <strong>6,756 patients</strong>
                    across 9 major alteplase trials.
                    <br/><br/>
                    They knew <em>exactly</em> when each patient's stroke began.
                    They knew <em>exactly</em> when thrombolysis was given.
                    They knew <em>exactly</em> who lived, who died, who recovered.
                    <br/><br/>
<strong>They could map benefit against time, minute by minute.</strong>
</div>
<div class="source">STT Collaborative Group. Lancet 2014;384:1929-35</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 13.4: ì‹œê°„ì—ì„œ ê°œë³„ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í–ˆìŠµë‹ˆë‹¤. ê³¡ì„  
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">í˜ì´ë”© ì°½</div>
<div class="stats-grid animate delay-1">
<div class="stat-box" style="border: 2px solid var(--green);">
<div class="stat-value" style="color:var(--green);">0-3h</div>
<div class="stat-label">ë˜ëŠ” ì¢‹ì€ ê²°ê³¼ë¥¼ ìœ„í•œ 1.75</div>
</div>
<div class="stat-box" style="border: 2px solid var(--teal);">
<div class="stat-value" style="color:var(--teal);">3-4.5h</div>
<div class="stat-label">ë˜ëŠ” ì¢‹ì€ ê²°ê³¼ë¥¼ ìœ„í•œ 1.26</div>
</div>
<div class="stat-box" style="border: 2px solid var(--orange);">
<div class="stat-value" style="color:var(--orange);">4.5-6h</div>
<div class="stat-label">OR 1.15 (not significant)</div>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">í˜œíƒì˜ ê°ì†Œ</div>
<div class="simple-text">
                    Every 15 minutes of delay reduced the benefit.
                    <br/><br/>
                    Treated at 90 min: <strong>1 in 4</strong> achieve excellent outcome<br/>
                    Treated at 180 min: <strong>1 in 7</strong> achieve excellent outcome<br/>
                    Treated at 270 min: <strong>1 in 14</strong> achieve excellent outcome
                  </div>
</div>
</div>
</div>
<!-- Slide 13.5: Decision Tree -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">í˜ˆì „ìš©í•´ ê²°ì •</div>
<div class="decision-tree animate delay-1">
<h4>Acute Ischemic Stroke: Give Thrombolysis?</h4>
<div class="tree-level">
<div class="tree-node root">Time Since Symptom Onset?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 0.75rem;">
<div>
<div class="tree-node yes" style="background:rgba(34,197,94,0.5);min-width:90px;">0-3h</div>
<div class="tree-label">Strong benefit</div>
</div>
<div>
<div class="tree-node yes" style="background:rgba(0,212,170,0.4);min-width:90px;">3-4.5h</div>
<div class="tree-label">Moderate benefit</div>
</div>
<div>
<div class="tree-node question" style="min-width:90px;">4.5-6h</div>
<div class="tree-label">Uncertain</div>
</div>
<div>
<div class="tree-node no" style="background:rgba(197,48,48,0.5);min-width:90px;">&gt;6h</div>
<div class="tree-label">Harm likely</div>
</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 0.75rem;">
<div class="tree-node action" style="font-size:0.7rem;padding:0.5rem;">TREAT<br/>URGENTLY</div>
<div class="tree-node action" style="font-size:0.7rem;padding:0.5rem;">TREAT<br/>if eligible</div>
<div class="tree-node aggregate" style="font-size:0.7rem;padding:0.5rem;">Consider<br/>imaging</div>
<div class="tree-node" style="background:rgba(197,48,48,0.5);font-size:0.7rem;padding:0.5rem;">Generally<br/>avoid</div>
</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 13.6: ADê°€ ì‘ë‹µí•  ìˆ˜ ì—†ëŠ” ì´ìœ  
<div class="slide dark">
<div class="content text-center">
<div class="rhetorical animate">
                  Why did we need individual data?
                </div>
<div class="simple-box animate delay-1">
<div class="simple-title">í‰ê· ì˜ í•œê³„</div>
<div class="simple-text">
                    Trial A: "Patients treated within 3 hours" (average: 2.1 hours)<br/>
                    Trial B: "Patients treated within 6 hours" (average: 4.2 hours)
                    <br/><br/>
                    These <em>overlapping, inconsistent windows</em> couldn't be compared.
                    <br/><br/>
                    Only by knowing <strong>each patient's exact time</strong><br/>
                    could the continuous decay of benefit be mapped.
                  </div>
</div>
</div>
</div>
<!-- Slide 13.7: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-stroke">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">4ì‹œê°„ ë‡Œì¡¸ì¤‘</span>
</div>
<div class="scenario-situation">
                    68ì„¸ ë…¸ì¸ì´ ê¸‰ì„± ë‡Œì¡¸ì¤‘ ì¦ìƒì„ ë³´ì˜€ìŠµë‹ˆë‹¤. ë°œë³‘ì€ 4ì‹œê°„ ì „ì´ì—ˆìŠµë‹ˆë‹¤. CTì—ì„œëŠ” ì¶œí˜ˆì´ ì—†ì—ˆê³ , NIHSS ì ìˆ˜ëŠ” 12(ì¤‘ë“±ë„)ì˜€ìŠµë‹ˆë‹¤. ê°€ì¡±ì€ "í˜ˆì „ ìš©í•´ì œë¥¼ íˆ¬ì—¬í•˜ê¸°ì—ëŠ” ë„ˆë¬´ ëŠ¦ì—ˆë‚˜ìš”?"ë¼ê³  ë¬»ìŠµë‹ˆë‹¤.
                    <br/><br/>
                    Door-to-needle time will add 30 minutes, making total time ~4.5 hours.
                  </div>
<div class="scenario-question">What do you do?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('stroke', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">"It's too late - the 3-hour window has passed"</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('stroke', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">"ì•„ì§ 4.5ì‹œê°„ ì´ë‚´ì…ë‹ˆë‹¤. ê¸´ê¸‰í•˜ê²Œ í˜ˆì „ìš©í•´ìˆ ì„ ì§„í–‰í•˜ì„¸ìš”."</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('stroke', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">"Wait for MRI to see if there's salvageable tissue"</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-stroke"></div>
</div>
</div>
</div>
<!-- Slide 13.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain warning animate">
                  "Every minute the clot remains,<br/>
                  two million neurons perish.<br/>
<br/>
                  IPDëŠ” ìš°ë¦¬ì—ê²Œ í˜ì´ë”© ìœˆë„ìš°ë¥¼ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤.<br/>
                  Act quickly, or the window closes forever."
                </div>
</div>
</div>
</div>
 ===================== ëª¨ë“ˆ 14: IPDì˜ ë°ì´í„° ëˆ„ë½ ===================== 
<div class="module-slides" data-module="14">
<!-- Slide 14.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  ê°œë³„ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í–ˆìŠµë‹ˆë‹¤.<br/>
                  ë‹¹ì‹ ì€ í¬ë§ì„ ê°€ì§€ê³  íŒŒì¼ì„ ì—½ë‹ˆë‹¤.<br/>
<br/>
                  ê·¸ëŸ¬ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì…ë‹ˆë‹¤. <em>empty cells</em>.<br/>
<br/>
                  Age: 67. Sex: Male. Smoking status: <em>missing</em>.<br/>
                  Outcome at 1 year: <em>missing</em>.<br/>
<br/>
                  What now?
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 14.2: ì„¸ ê°€ì§€ ìœ í˜• 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ì„¸ ê°€ì§€ ì¢…ë¥˜ì˜ ì‹¤ì¢…</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--green);">1</div>
<div class="lesson-content">
<h4>Missing Completely at Random (MCAR)</h4>
<p>Lab machine broke randomly. No relation to patient characteristics. <strong>Safe to ignore (but wasteful).</strong></p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--orange);">2</div>
<div class="lesson-content">
<h4>Missing at Random (MAR)</h4>
<p>Older patients more likely to miss follow-up. Missingness related to <em>observed</em> variables. <strong>Imputation can help.</strong></p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--red);">3</div>
<div class="lesson-content">
<h4>ë¬´ì‘ìœ„ë¡œ ëˆ„ë½ë˜ì§€ ì•ŠìŒ(MNAR)</h4>
<p>ê²°ê³¼ê°€ ì¢‹ì§€ ì•Šì€ í™˜ìëŠ” íƒˆë½í•©ë‹ˆë‹¤. ê´€ë ¨ ëˆ„ë½ <em>missing value itself</em>. <strong>ìœ„í—˜í•œ. ë¯¼ê°ë„ ë¶„ì„ì´ í•„ìš”í•©ë‹ˆë‹¤.</strong></p>
</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 14.3: ì˜ì‚¬ê²°ì •ë‚˜ë¬´ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ëˆ„ë½ëœ ë°ì´í„° ì²˜ë¦¬</div>
<div class="decision-tree animate delay-1">
<h4>ëˆ„ë½ëœ ê°’ìœ¼ë¡œ ë¬´ì—‡ì„ í•´ì•¼ í•©ë‹ˆê¹Œ?</h4>
<div class="tree-level">
<div class="tree-node root">How much is missing?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 1.5rem;">
<div>
<div class="tree-node yes" style="background:rgba(34,197,94,0.3);">&lt;5%</div>
<div class="tree-label">Minor</div>
</div>
<div>
<div class="tree-node question">5-20%</div>
<div class="tree-label">Moderate</div>
</div>
<div>
<div class="tree-node no" style="background:rgba(197,48,48,0.3);">&gt;20%</div>
<div class="tree-label">Substantial</div>
</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 1.5rem;">
<div class="tree-node action" style="font-size:0.75rem;">Complete case<br/>may suffice</div>
<div class="tree-node ipd" style="font-size:0.75rem;">Multiple<br/>imputation</div>
<div class="tree-node aggregate" style="font-size:0.75rem;">Impute +<br/>sensitivity</div>
</div>
</div>
</div>
</div>
<!-- Slide 14.4: Multiple Imputation -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">ë‹¤ì¤‘ ëŒ€ì¹˜: í‘œì¤€</div>
<div class="formula-box animate delay-1">
<div class="label">THE PROCESS</div>
<div class="formula">1. Impute â†’ 2. Analyze â†’ 3. Pool</div>
<div class="label">Create M imputed datasets, analyze each, combine using Rubin's rules</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">WHY MULTIPLE?</div>
<div class="simple-text">
                    ë‹¨ì¼ ëŒ€ì²´ëŠ” ëˆ„ë½ëœ ê°’ì„ ì•Œê³  ìˆëŠ” ê²ƒì²˜ëŸ¼ ê°€ì¥í•©ë‹ˆë‹¤.
                    <br/><br/>
                    Multiple imputation (M=20-50 datasets) reflects <strong>uncertainty</strong>
                    ëˆ„ë½ëœ ê°’ì´ ë¬´ì—‡ì¸ì§€ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.
                    <br/><br/>
                    ì´ëŠ” ìœ íš¨í•œ í‘œì¤€ ì˜¤ë¥˜ì™€ p-ê°’ì„ ìœ ì§€í•©ë‹ˆë‹¤.
                  </div>
</div>
</div>
</div>
<!-- Slide 14.5: IPD-Specific Issues -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">IPD ê´€ë ¨ ëˆ„ë½ ë°ì´í„° ë¬¸ì œ</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Systematically Missing Variables</h4>
<p>Trial A measured biomarker X. Trial B didn't. Can't impute what was never collected.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Multilevel Structure</h4>
<p>Patients nested within trials. Imputation model must account for clustering.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Different Follow-up Durations</h4>
<p>ì¬íŒ AëŠ” 2ë…„ ë™ì•ˆ ì´ì–´ì¡ŒìŠµë‹ˆë‹¤. 5ë…„ ë™ì•ˆ í‰ê°€íŒ B. ìƒì¡´ ë¶„ì„ì—ëŠ”ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p>
</div>
</div>
</div>
</div>
<!-- Slide 14.6: Decision Tree for Systematically Missing -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">When a Variable Is Missing Entirely</div>
<div class="decision-tree animate delay-1">
<h4>Trial Didn't Collect Your Key Covariate</h4>
<div class="tree-level">
<div class="tree-node root">Is it an effect modifier or confounder?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 2rem;">
<div>
<div class="tree-node question">Effect Modifier</div>
<div class="tree-arrow">â†“</div>
<div class="tree-node aggregate" style="font-size:0.75rem;">Restrict interaction<br/>analysis to trials<br/>ë³€ìˆ˜ì™€ í•¨ê»˜</div>
</div>
<div>
<div class="tree-node question">Confounder</div>
<div class="tree-arrow">â†“</div>
<div class="tree-node ipd" style="font-size:0.75rem;">Sensitivity analysis<br/>varying assumptions<br/>about unmeasured</div>
</div>
</div>
</div>
</div>
</div>
<!-- Slide 14.7: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-missing">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">ì‚¬ë¼ì§„ ë°”ì´ì˜¤ë§ˆì»¤</span>
</div>
<div class="scenario-situation">
                    IPD-MAëŠ” ë°”ì´ì˜¤ë§ˆì»¤ ì–‘ì„± í™˜ìì—ê²Œ ìƒˆë¡œìš´ í•­ì•”ì œê°€ ë” ì˜ ì‘ë™í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤. 8ë²ˆì˜ ì‹œë„ì—ì„œ IPDê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ 3ê±´ì˜ ì„ìƒì‹œí—˜(í™˜ìì˜ 40%)ì—ì„œëŠ” ë°”ì´ì˜¤ë§ˆì»¤ë¥¼ ì „í˜€ ì¸¡ì •í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.
                    <br/><br/>
                    ì´ 3ê°€ì§€ ì‹œí—˜ì€ ì˜¤ë˜ë˜ê³  ê·œëª¨ê°€ ì‘ì€ ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤.
                  </div>
<div class="scenario-question">ìƒí˜¸ì‘ìš©ì„ ì–´ë–»ê²Œ ë¶„ì„í•˜ë‚˜ìš”?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('missing', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">Impute the biomarker status based on other patient characteristics</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('missing', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">ë°”ì´ì˜¤ë§ˆì»¤ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ 5ê°œ ì‹œí—˜ì—ì„œë§Œ ìƒí˜¸ì‘ìš©ì„ ë¶„ì„í•©ë‹ˆë‹¤. ì „ë°˜ì ì¸ íš¨ê³¼ì— ëŒ€í•œ ëª¨ë“  ì‹œí—˜ì„ í¬í•¨í•œ ë¯¼ê°ë„ ë¶„ì„</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('missing', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">3ê°œì˜ ì„ìƒì‹œí—˜ì„ ë©”íƒ€ë¶„ì„ì—ì„œ ì™„ì „íˆ ì œì™¸</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-missing"></div>
</div>
</div>
</div>
<!-- Slide 14.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  "ë¹ˆ ì…€ì€ ì•„ë¬´ê²ƒë„ ì•„ë‹ˆë‹¤.<br/>
                  It is a question: <em>ì´ê²ƒì´ ì™œ ì•Œë ¤ì§€ì§€ ì•Šì•˜ìŠµë‹ˆê¹Œ?</em><br/>
<br/>
                  ê³µë°±ì„ ë©”ìš°ê¸° ì „ì— ê·¸ ì§ˆë¬¸ì— ëŒ€ë‹µí•˜ì„¸ìš”.<br/>
                  ë¶€ì¬ì˜ ì´ìœ ê°€ í•´ê²°ì±…ì„ ê²°ì •í•˜ê¸° ë•Œë¬¸ì´ë‹¤."
                </div>
</div>
</div>
</div>
 ===================== ëª¨ë“ˆ 15: ê°€ìš©ì„± í•¨ì • ===================== 
<div class="module-slides" data-module="15">
<!-- Slide 15.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  ì—°êµ¬ì›ì„ ë³¸ ì  ì—†ë‚˜ìš”?<br/>
                  ëˆ„ê°€ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í–ˆëŠ”ê°€ <em>willing</em> trialists<br/>
                  ê·¸ë¦¬ê³  ìŠ¹ë¦¬ë¥¼ ì„ ì–¸í–ˆëŠ”ê°€?<br/>
<br/>
                  But the <em>unwilling</em> held secrets.<br/>
                  ê·¸ë¦¬ê³  ê·¸ ë¹„ë°€ì´ ëª¨ë“  ê²ƒì„ ë°”ê¾¸ì—ˆìŠµë‹ˆë‹¤.
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 15.2: íƒ€ë¯¸í”Œë£¨ ì´ì•¼ê¸° 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">íƒ€ë¯¸í”Œë£¨ ì´ì•¼ê¸°</div>
<div class="story-card animate delay-1">
<div class="place">A TRUE STORY</div>
<div class="narrative">
                    ìˆ˜ë…„ ë™ì•ˆ ì •ë¶€ëŠ” ìœ í–‰ì„± ë…ê°ì„ ìœ„í•´ íƒ€ë¯¸í”Œë£¨ë¥¼ ë¹„ì¶•í•˜ê³  ìˆ˜ì‹­ì–µ ë‹¬ëŸ¬ë¥¼ ì§€ì¶œí–ˆìŠµë‹ˆë‹¤.
                    <br/><br/>
                    Cochrane reviewers requested trial data to verify efficacy. Roche refused, citing confidentiality.
                    <br/><br/>
                    5ë…„ ë™ì•ˆ BMJëŠ” íˆ¬ëª…ì„±ì„ ìœ„í•œ ìº í˜ì¸ì„ ë²Œì˜€ìŠµë‹ˆë‹¤. 2014ë…„ì— ë§ˆì¹¨ë‚´ ì „ì²´ ì„ìƒ ì—°êµ¬ ë³´ê³ ì„œê°€ ë°œí‘œë˜ì—ˆì„ ë•Œ ìƒí™©ì´ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤. íƒ€ë¯¸í”Œë£¨ëŠ” ì¦ìƒ ê¸°ê°„ì„ í•˜ë£¨ ë¯¸ë§Œìœ¼ë¡œ ì¤„ì˜€ê³  í•©ë³‘ì¦ì„ ì˜ˆë°©í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.
                    <br/><br/>
<strong>ì™„ì „í•œ ì¦ê±°ê°€ ìˆ¨ê²¨ì ¸ ìˆëŠ” ì•½ë¬¼ì— ìˆ˜ì‹­ì–µ ë‹¬ëŸ¬ë¥¼ ì§€ì¶œí–ˆìŠµë‹ˆë‹¤.</strong>
<br/><br/>
                    íƒ€ë¯¸í”Œë£¨ ì‚¬ê±´ì€ ê¸°ëŒ€ë¥¼ ë³€í™”ì‹œì¼°ìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ë‚  ì„ìƒ ì‹œí—˜ íˆ¬ëª…ì„±ì€ ì˜ˆì™¸ê°€ ì•„ë‹Œ í‘œì¤€ì´ ë˜ê³  ìˆìŠµë‹ˆë‹¤.
                  </div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 15.3: ì¦ê±° 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">When IPD Is Selectively Available</div>
<div class="simple-box animate delay-1">
<div class="simple-title">ê²½í—˜ì  ì¡°ì‚¬</div>
<div class="simple-text">
                    ì—°êµ¬ì—ì„œëŠ” IPDë¥¼ ê³µìœ í•˜ëŠ” ì„ìƒì‹œí—˜ê³¼ IPDë¥¼ ê³µìœ í•˜ëŠ” ì„ìƒì‹œí—˜ì„ ë¹„êµí–ˆìŠµë‹ˆë‹¤. í•˜ì§€ ë§ˆì„¸ìš”:
                    <br/><br/>
<strong>Industry-sponsored trials:</strong> Less likely to share<br/>
<strong>ë¶€ì •ì ì¸ ê²°ê³¼ê°€ ìˆëŠ” ì‹œí—˜:</strong> Less likely to share<br/>
<strong>Older trials:</strong> ë°ì´í„°ê°€ ìì£¼ ì†ì‹¤ë©ë‹ˆë‹¤
                    <br/><br/>
                    If these trials systematically differ in effect size,<br/>
<strong>IPD-MAê°€ í¸í–¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</strong>
</div>
</div>
<div class="source animate delay-2" style="color:rgba(255,255,255,0.5);font-size:0.8rem;margin-top:1rem;">
                  Ahmed I, et al. BMJ 2012;344:d7762
                </div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 15.4: ë¹„êµ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Always Compare: IPD vs. Non-IPD Trials</div>
<div class="decision-tree animate delay-1">
<h4>Assessing Availability Bias</h4>
<div class="tree-level">
<div class="tree-node root">Compare AD effects: trials with IPD vs. without</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 2rem;">
<div>
<div class="tree-node yes">Similar Effects</div>
<div class="tree-arrow">â†“</div>
<div class="tree-node action" style="font-size:0.75rem;">Low concern<br/>for bias</div>
</div>
<div>
<div class="tree-node no">Different Effects</div>
<div class="tree-arrow">â†“</div>
<div class="tree-node" style="background:rgba(197,48,48,0.5);font-size:0.75rem;">High concern<br/>ë¯¼ê°ë„ ë¶„ì„ í•„ìš”</div>
</div>
</div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 15.5: ì²´í¬ë¦¬ìŠ¤íŠ¸ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ê°€ìš©ì„± í¸í–¥ ì²´í¬ë¦¬ìŠ¤íŠ¸</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>Report IPD retrieval rate</h4>
<p>"12/15 ì‹œí—˜ì—ì„œ IPDë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤. (80%)"</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>Compare IPD vs. non-IPD trial characteristics</h4>
<p>ì´ê³„ ë°ì´í„°ì˜ í‘œë³¸ í¬ê¸°, ìê¸ˆ, ì¶œíŒ ë‚ ì§œ, íš¨ê³¼ í¬ê¸°</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>Sensitivity analysis including non-IPD trials</h4>
<p>ë¹„ê³µìœ  ì‹œí—˜ì˜ IPDì™€ ADë¥¼ ê²°í•©í•œ 2ë‹¨ê³„ ë¶„ì„</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>ë¹„ê³µìœ  ì´ìœ  ë…¼ì˜</h4>
<p>Data lost? Refused? Never requested? Each has different implications.</p>
</div>
</div>
</div>
</div>
<!-- Slide 15.6: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-availability">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">The Reluctant ì„ìƒ ì‹œí—˜ì</span>
</div>
<div class="scenario-situation">
                    ì™¸ê³¼ì  ì¤‘ì¬ì— ëŒ€í•œ IPD-MAëŠ” 12ê°œ ì ê²© ì„ìƒì‹œí—˜ ì¤‘ 8ê°œ(67%)ì—ì„œ ë°ì´í„°ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤. 4ê°œì˜ ë¹„ê³µìœ  ì„ìƒì‹œí—˜ì€ ëª¨ë‘ ì—…ê³„ ìê¸ˆì„ ì§€ì›ë°›ì•˜ìœ¼ë©° 8ê°œì˜ IPD ì„ìƒì‹œí—˜(í•©ë™ OR 0.72)ì— ë¹„í•´ ì¶œíŒë¬¼ì—ì„œ ë” ì‘ì€ ì´ì (í•©ë™ OR 0.95)ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
                    <br/><br/>
                    ê·€í•˜ì˜ IPD ë¶„ì„ì—ì„œëŠ” OR 0.70ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
                  </div>
<div class="scenario-question">ë³´ê³  ë°©ë²• ì´ê²ƒì€?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('availability', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">Report IPD result (OR 0.70) as the main finding - IPD is gold standard</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('availability', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">ë¹„ê³µìœ  ì‹œë„ì˜ ADë¥¼ í¬í•¨í•˜ì—¬ ê°€ìš©ì„± í¸í–¥ ë° ë¯¼ê°ë„ ë¶„ì„ì— ëŒ€í•œ ëˆˆì— ë„ëŠ” ê²½ê³ ì™€ í•¨ê»˜ IPD ê²°ê³¼ë¥¼ ë³´ê³ í•©ë‹ˆë‹¤.</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('availability', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">Wait until you get 100% IPD before publishing</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-availability"></div>
</div>
</div>
</div>
 ìŠ¬ë¼ì´ë“œ 15.7: ê²°í•©ëœ ì ‘ê·¼ ë°©ì‹ 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">ë¹„IPDì˜ 2ë‹¨ê³„ í•˜ì´ë¸Œë¦¬ë“œ ì†”ë£¨ì…˜</div>
<div class="formula-box animate delay-1">
<div class="label">COMBINING IPD + AD</div>
<div class="formula">Stage 1: Analyze IPD trials â†’ get Î¸<sub>IPD</sub></div>
<div class="formula">Stage 2: Meta-analyze Î¸<sub>IPD</sub> + Î¸<sub>AD</sub> ì‹œë„</div>
<div class="label">Uses all available evidence, even when IPD incomplete</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">THE PRINCIPLE</div>
<div class="simple-text">
<strong>IPDëŠ” ì „ë¶€ ì•„ë‹ˆë©´ ì „ë¬´ê°€ ì•„ë‹™ë‹ˆë‹¤.</strong>
<br/><br/>
                    IPDê°€ ìˆëŠ” ê³³ì—ì„œ ì‚¬ìš©í•˜ì„¸ìš”(ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸ìš©).<br/>
                    ì „ì²´ íš¨ê³¼ ì¶”ì •ì„ ìœ„í•´ ADë¥¼ ë³´ì™„í•˜ì„¸ìš”.<br/>
                    ê²°ê³¼ì— ëŒ€í•œ íˆ¬ëª…ì„± where.
                  </div>
</div>
</div>
</div>
<!-- Slide 15.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain warning animate">
                  "ì˜ì§€ê°€ ì „ì²´ë¥¼ ëŒ€í‘œí•  ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤.<br/>
                  ì—´ë¦° ë¬¸ì€ ì ê¸´ ë¬¸ ë’¤ì— ì§„ì‹¤ì„ ìˆ¨ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br/>
<br/>
                  Always ask: Who refused to share?<br/>
                  And what might they be hiding?"
                </div>
</div>
</div>
</div>
 ==================== ëª¨ë“ˆ 16: í€´ì¦ˆ ë° ì°¸ì¡° =================== 
<div class="module-slides" data-module="16">
<!-- Slide 11.1: Quiz 1 -->
<div class="slide dark active">
<div class="content text-center">
<div class="quiz-container animate">
<div class="quiz-question">ì´ˆê¸° ìœ ë°©ì•” ì‹œí—˜ì ê·¸ë£¹ì€ ê°œë³„ ì‹œí—˜ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì„ ë¬´ì—‡ìœ¼ë¡œ ë°œê²¬í–ˆìŠµë‹ˆê¹Œ?</div>
<div class="quiz-options">
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Tamoxifen works better than placebo</div>
<div class="quiz-option" onclick="checkAnswer(this, true)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Tamoxifen only works in estrogen receptor positive tumors</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Tamoxifen has significant side effects</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Tamoxifen works better in younger women</div>
</div>
<div class="quiz-feedback"></div>
</div>
</div>
</div>
<!-- Slide 11.2: Quiz 2 -->
<div class="slide dark">
<div class="content text-center">
<div class="quiz-container animate">
<div class="quiz-question">What is the "ecological fallacy" in meta-analysis?</div>
<div class="quiz-options">
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Assuming environmental factors don't affect treatment</div>
<div class="quiz-option" onclick="checkAnswer(this, true)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Assuming between-study relationships apply to within-study (individual) relationships</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">ë‹¤ì–‘í•œ ìƒíƒœí•™ì  ì§€ì—­ì˜ í†µí•© ì—°êµ¬</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Using outdated trials in modern meta-analyses</div>
</div>
<div class="quiz-feedback"></div>
</div>
</div>
</div>
<!-- Slide 11.3: Quiz 3 -->
<div class="slide dark">
<div class="content text-center">
<div class="quiz-container animate">
<div class="quiz-question">1ë‹¨ê³„ IPD ë¶„ì„ì´ ë” ì„ í˜¸ë˜ëŠ” ë•ŒëŠ” ì–¸ì œì…ë‹ˆê¹Œ? 2ë‹¨ê³„?</div>
<div class="quiz-options">
<div class="quiz-option" onclick="checkAnswer(this, true)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">When trials have sparse events or rare outcomes</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">When you have many large trials</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">When you want to create forest plots</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">ê²°ê³¼ê°€ ê³µí†µì ì´ê³  í›„ì† ì¡°ì¹˜ê°€ ì§§ì€ ê²½ìš°</div>
</div>
<div class="quiz-feedback"></div>
</div>
</div>
</div>
<!-- Slide 11.4: Quiz 4 -->
<div class="slide dark">
<div class="content text-center">
<div class="quiz-container animate">
<div class="quiz-question">ì—¬ëŸ¬ ì‹œí—˜ì—ì„œ IPDë¥¼ ë¶„ì„í•˜ê¸° ì „ì— ë¬´ì—‡ì„ í•´ì•¼ í•©ë‹ˆê¹Œ?</div>
<div class="quiz-options">
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">ì¦‰ì‹œ ëª¨ë“  ë°ì´í„°ë¥¼ ëª¨ìœ¼ê³  ì£¼ìš” ë¶„ì„ì„ ì‹¤í–‰</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Exclude trials with missing variables</div>
<div class="quiz-option" onclick="checkAnswer(this, true)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">ë°ì´í„° ê²€ì¦ì„ ìœ„í•´ IPDì—ì„œ ê° ì‹œí—˜ì˜ ê²Œì‹œëœ ê²°ê³¼ë¥¼ ì¬í˜„í•©ë‹ˆë‹¤. ë¬´ê²°ì„±</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Convert all continuous variables to categorical</div>
</div>
<div class="quiz-feedback"></div>
</div>
</div>
</div>
<!-- Slide 11.5: References -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">References</div>
<div class="references animate delay-1">
<h4>ì—¬ê¸°ì— ì¸ìš©ëœ ì£¼ìš” ì¶œì²˜ ê³¼ì •</h4>
<ol>
<li>Riley RD, et al. <span class="journal">ê°œë³„ ì°¸ê°€ì ë°ì´í„° ë©”íƒ€ ë¶„ì„: ì˜ë£Œ ì—°êµ¬ë¥¼ ìœ„í•œ í•¸ë“œë¶</span> Wiley, 2021.</li>
<li>Stewart LA, et al. PRISMA-IPD: ê°œë³„ ì°¸ê°€ì ë°ì´í„°ì˜ ì²´ê³„ì ì¸ ê²€í†  ë° ë©”íƒ€ ë¶„ì„ì„ ìœ„í•´ ì„ í˜¸ë˜ëŠ” ë³´ê³  í•­ëª©ì…ë‹ˆë‹¤. <span class="journal">JAMA</span> 2015;313:1657-65.</li>
<li>Early Breast Cancer Trialists' Collaborative Group. Tamoxifen for early breast cancer. <span class="journal">Cochrane Database Syst Rev</span> 2001.</li>
<li>Cholesterol Treatment Trialists' Collaboration. Efficacy and safety of LDL-lowering therapy. <span class="journal">Lancet</span> 2010;376:1670-81.</li>
<li>Roberts D, et al. Antenatal corticosteroids for accelerating fetal lung maturation. <span class="journal">Cochrane Database Syst Rev</span> 2017.</li>
<li>IMPACT Study Group. Predicting outcome after traumatic brain injury. <span class="journal">PLoS Med</span> 2008;5:e165.</li>
<li>Debray TPA, et al. Get real in individual participant data meta-analysis. <span class="journal">Int J Epidemiol</span> 2015;44:1287-97.</li>
<li>Burke DL, et al. Meta-analysis using individual participant data. <span class="journal">Stat Med</span> 2017;36:320-38.</li>
</ol>
</div>
</div>
</div>
<!-- Slide 11.6: Completion -->
<div class="slide hope">
<div class="content text-center">
<div class="big-number green animate" style="font-size:5rem;">âœ”</div>
<div class="title green animate delay-1">Course Complete</div>
<div class="gold-line animate delay-2"></div>
<div class="refrain hope animate delay-3">
                  "ì´ì²´ì ìœ¼ë¡œ, ê°œì¸ì€<br/>
                  But you have learned to find them.<br/>
                  You have learned to ask: Who benefits? Who is harmed?<br/>
<br/>
                  ì´ì œ ì‹œì‘í•˜ì„¸ìš”. í‰ê· ì—ì„œ í™˜ìê°€ ì‚¬ë¼ì§€ì§€ ì•Šë„ë¡ í•˜ì„¸ìš”."
                </div>
<p class="animate delay-4" style="color:var(--gold);font-family:'Cormorant Garamond',serif;font-size:1.2rem;margin-top:1.5rem;">
                  ìˆ¨ê²¨ì§„ í™˜ì â€” ì´ì œ ê·¸ë“¤ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
<button aria-label="ìˆ˜ë£Œì¦ì„ ë°›ìœ¼ì„¸ìš”" class="btn primary animate delay-5" onclick="showCertificate()" style="margin-top:2rem;padding:1rem 2rem;font-size:1.1rem;">
                  ğŸ“ ì¸ì¦ì„œ ë°›ê¸°
                </button>
</div>
</div>
</div>
<!-- Navigation -->
<nav aria-label="Slide navigation" class="slide-nav" role="navigation">
<button aria-label="Previous slide" class="nav-btn" onclick="prevSlide()" title="Previous slide (Left arrow)">â†</button>
<div class="nav-center">
<div aria-atomic="true" aria-live="polite" class="slide-counter" id="slideCounter">1 / 6</div>
<div aria-label="Slide indicators" class="progress" id="progressDots" role="tablist"></div>
</div>
<button aria-label="Next slide" class="nav-btn" onclick="nextSlide()" title="Next slide (Right arrow or Space)">â†’</button>
</nav>
</div>
</div>
</main>
</div>
<script>
    function toggleSidebar() {
      document.querySelector('.sidebar').classList.toggle('open');
      var overlay = document.querySelector('.sidebar-overlay');
      if (overlay) overlay.classList.toggle('show');
      var btn = document.querySelector('.mobile-menu-toggle, .sidebar-toggle, .hamburger');
      if (btn) btn.setAttribute('aria-expanded', btn.getAttribute('aria-expanded') === 'true' ? 'false' : 'true');
    }

    const modules = [
      { id: 1, title: "The Vanishing", subtitle: "Why IPD matters", slides: 6 },
      { id: 2, title: "Aggregate vs IPD", subtitle: "ìƒíƒœí•™ì  ì˜¤ë¥˜", slides: 6 },
      { id: 3, title: "CTT í­ë¡œ", subtitle: "Statins for 170,000", slides: 6 },
      { id: 4, title: "When to Pursue IPD", subtitle: "ì˜ì‚¬ê²°ì • íŠ¸ë¦¬", slides: 6 },
      { id: 5, title: "One-Stage vs Two-Stage", subtitle: "Analysis approaches", slides: 6 },
      { id: 6, title: "íƒ€ì´ë° ë°œê²¬", subtitle: "Corticosteroids & preterm birth", slides: 6 },
      { id: 7, title: "Obtaining IPD", subtitle: "ë°ì´í„° íƒêµ¬", slides: 6 },
      { id: 8, title: "Data Harmonization", subtitle: "Speaking one language", slides: 6 },
      { id: 9, title: "Testing Interactions", subtitle: "Who benefits most?", slides: 6 },
      { id: 10, title: "Prognosis & Prediction", subtitle: "IMPACT ë° ë„ˆë¨¸", slides: 6 },
      { id: 11, title: "ì•„ìŠ¤í”¼ë¦° ì—­ì„¤", subtitle: "ATT: Risk determines benefit", slides: 8 },
      { id: 12, title: "The BP Revelation", subtitle: "BPLTTC: ë‚˜ì´ëŠ” ì¥ë²½ì´ ì•„ë‹™ë‹ˆë‹¤", slides: 8 },
      { id: 13, title: "íš ì°½", subtitle: "Time is brain", slides: 8 },
      { id: 14, title: "Missing Data", subtitle: "ë¹ˆ ì…€", slides: 8 },
      { id: 15, title: "ê°€ìš©ì„± í•¨ì •", subtitle: "Who refused to share?", slides: 8 },
      { id: 16, title: "Quiz & Sources", subtitle: "ì§€ì‹ í…ŒìŠ¤íŠ¸", slides: 6 }
    ];

    // State management with localStorage persistence
    const STORAGE_KEY = 'ipd-course-progress';

    function loadProgress() {
      try {
        const saved = localStorage.getItem(STORAGE_KEY);
        if (saved) {
          const data = JSON.parse(saved);
          return {
            currentModule: Math.min(Math.max(1, data.currentModule || 1), modules.length),
            currentSlide: Math.max(1, data.currentSlide || 1),
            completedModules: new Set(data.completedModules || [])
          };
        }
      } catch (e) {
        console.warn('Could not load progress:', e);
      }
      return { currentModule: 1, currentSlide: 1, completedModules: new Set() };
    }

    function saveProgress() {
      try {
        const data = {
          currentModule,
          currentSlide,
          completedModules: Array.from(completedModules)
        };
        localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
      } catch (e) {
        console.warn('Could not save progress:', e);
      }
    }

    // Initialize state from localStorage or defaults
    const savedState = loadProgress();
    let currentModule = savedState.currentModule;
    let currentSlide = savedState.currentSlide;
    const completedModules = savedState.completedModules;

    // Branching scenarios
    const scenarios = {
      'ipd-decision': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'ìœ„í—˜í•œ ì§€ë¦„ê¸¸! WHO REACT ì‹¤ë¬´ ê·¸ë£¹ì€ ì½”ë¡œë‚˜19 ìŠ¤í…Œë¡œì´ë“œì— ëŒ€í•œ IPDë¥¼ ì¶”êµ¬í•˜ê³  ì¤‘ìš”í•œ ìƒí˜¸ ì‘ìš©ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ì‚°ì†Œê°€ í•„ìš”í•œ í™˜ìì—ê²Œì„œ ì´ì ì´ ê°€ì¥ ë¶„ëª…í–ˆìŠµë‹ˆë‹¤. ì¢…í•© ë¶„ì„ì—ì„œëŠ” ì„ìƒ ì‹¤ìŠµì„ í˜•ì„±í•˜ëŠ” ì´ëŸ¬í•œ ë¯¸ë¬˜í•œ ì°¨ì´ë¥¼ ë†“ì³¤ì„ ê²ƒì…ë‹ˆë‹¤.', lesson: 'ì§ˆë¬¸ì´ "ëˆ„ê°€ í˜œíƒì„ ë°›ëŠ”ê°€"ì— ê´€í•œ ê²½ìš° IPDëŠ” ì„ íƒ ì‚¬í•­ì´ ì•„ë‹™ë‹ˆë‹¤.' },
          'b': { type: 'good', text: 'ë§ìŠµë‹ˆë‹¤! ì‹¬ê°ë„ ë° ì‹œê¸°ì— ë”°ë¥¸ íš¨ê³¼ ìˆ˜ì •ì— ëŒ€í•œ ê·€í•˜ì˜ ì§ˆë¬¸ì—ëŠ” í™˜ì ìˆ˜ì¤€ì˜ ë°ì´í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤. REACT ê·¸ë£¹ì˜ IPD ë¶„ì„ì— ë”°ë¥´ë©´ ë±ì‚¬ë©”íƒ€ì† í˜œíƒì€ ì‚°ì†Œì— ì§‘ì¤‘ëœ í™˜ìì—ê²Œ ì§‘ì¤‘ë˜ì–´ í‘œì  ì¹˜ë£Œë¥¼ ìœ ë„í•˜ëŠ” ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.' , lesson: 'IPD is essential when testing treatment-covariate interactions.' },
          'c': { type: 'neutral', text: 'ë§¤í˜¹ì ì´ì§€ë§Œ ê²°í•¨ì´ ìˆìŠµë‹ˆë‹¤. ì‹œí—˜ ìˆ˜ì¤€ ë²”ì£¼ëŠ” ë‹¤ë¦…ë‹ˆë‹¤. ì‹œí—˜ Aì˜ "ì‹¬ê°í•¨"ì€ ì‹œí—˜ Bì˜ "ë³´í†µ"ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì€ ì‚¬ê³¼ì™€ ì˜¤ë Œì§€ë¥¼ ë¹„êµí•˜ê³  ìˆì„ ê²ƒì…ë‹ˆë‹¤. IPDë§Œì´ ëª¨ë“  í™˜ìì— ëŒ€í•´ ì¼ê´€ëœ ì‹¬ê°ë„ ì •ì˜ë¥¼ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', lesson: 'ì „ì²´ í•˜ìœ„ ê·¸ë£¹ ë¶„ì„ì€ ìƒíƒœí•™ì  ì˜¤ë¥˜ë¡œ ì¸í•´ ì–´ë ¤ì›€ì„ ê²ªìŠµë‹ˆë‹¤.' }
        }
      },
      'harmonization': {
        correct: 'c',
        consequences: {
          'a': { type: 'bad', text: 'ìœ„í—˜í•©ë‹ˆë‹¤! ë‹¤ì–‘í•œ ê²°ê³¼ ì •ì˜ëŠ” í•´ë‹¹ ì‹œí—˜ì—ì„œ ë” í° íš¨ê³¼ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ëŠìŠ¨í•œ ì •ì˜ëŠ” ë” ë§ì€ ì´ë²¤íŠ¸ë¥¼ í¬ì°©í•©ë‹ˆë‹¤). ìŠ¹ì¸ ì—†ì´ í¬í•¨í•˜ë©´ í†µí•© ì¶”ì •ì¹˜ê°€ ë¶€í’€ë ¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.', lesson: 'Definition heterogeneity is a form of bias. Acknowledge it.' },
          'b': { type: 'neutral', text: 'ë³´ìˆ˜ì ì´ì§€ë§Œ ê·€ì¤‘í•œ ì •ë³´ê°€ ì†ì‹¤ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 1990ë…„ëŒ€ ì‹¤í—˜ì—ëŠ” ì—°êµ¬í•  ê°€ì¹˜ê°€ ìˆëŠ” ë‹¤ì–‘í•œ ëª¨ì§‘ë‹¨ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì™„ì „í•œ ë°°ì œëŠ” ë°˜ì‚¬ì ì¸ ê²ƒì´ ì•„ë‹ˆë¼ ì •ë‹¹í™”ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.', lesson: 'ì œì™¸ëŠ” ê²°ê³¼ê°€ ë”°ë¥´ëŠ” ê²°ì •ì…ë‹ˆë‹¤. ì¶”ë¡ ì„ ë¬¸ì„œë¡œ ê¸°ë¡í•˜ì„¸ìš”.' },
          'c': { type: 'good', text: 'ë§ìŠµë‹ˆë‹¤! ì´ ì ‘ê·¼ ë°©ì‹ì€ ê²¬ê³ ì„±ì„ íƒìƒ‰í•˜ë©´ì„œ ê¹¨ë—í•œ ê¸°ë³¸ ì¶”ì •ì¹˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ë¹„í‘œì¤€ ì‹œí—˜ìœ¼ë¡œ ê²°ê³¼ê°€ í¬ê²Œ ë³€í•˜ëŠ” ê²½ìš° ì´ëŠ” ê²°ê³¼ ì •ì˜ì— ëŒ€í•œ ë¯¼ê°ë„ì— ëŒ€í•œ ì¤‘ìš”í•œ ì •ë³´ì…ë‹ˆë‹¤.', lesson: 'Sensitivity analyses reveal what depends on your assumptions.' }
        }
      },
      'interaction': {
        correct: 'c',
        consequences: {
          'a': { type: 'bad', text: 'Overinterpretation! With 8 tests at alpha=0.05, you expect ~0.4 false positives by chance. A single p=0.03 after multiple testing is not compelling evidence of true effect modification.', lesson: 'Multiple testing inflates false positive risk. Adjust or acknowledge.' },
          'b': { type: 'neutral', text: 'Statistically appropriate (Bonferroni: 0.05/8 = 0.006 threshold) but perhaps too rigid. Biological plausibility matters too - older patients have higher stroke risk, so larger relative benefit is mechanistically sensible.', lesson: 'Statistics and biology should inform each other.' },
          'c': { type: 'good', text: 'ë§ìŠµë‹ˆë‹¤! íƒìƒ‰ì  ì„±ê²©ì— ëŒ€í•œ íˆ¬ëª…í•œ ë³´ê³ , ë‹¤ì–‘í•œ í…ŒìŠ¤íŠ¸ ì¸ì •, ì™¸ë¶€ ê²€ì¦ ìš”êµ¬ëŠ” ê³¼í•™ì  ì ‘ê·¼ ë°©ì‹ì…ë‹ˆë‹¤. ì´ ê²°ê³¼ëŠ” í¥ë¯¸ë¡­ì§€ë§Œ í™•ì •ì ì´ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.', lesson: 'Subgroup findings require replication before changing practice.' }
        }
      },
      'aspirin': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'ê³¼ë„í•œ ë‹¨ìˆœí™”ëŠ” ìœ„í—˜í•©ë‹ˆë‹¤! 95,000ëª…ì˜ í™˜ìë¥¼ ëŒ€ìƒìœ¼ë¡œ í•œ ATT IPD ë¶„ì„ì—ì„œëŠ” ìœ„í—˜ì´ ë‚®ì€ ê°œì¸(ì˜ˆ: 10ë…„ ìœ„í—˜ì´ 8%ì¸ ì´ í™˜ì)ì˜ ê²½ìš° ì¶œí˜ˆ ìœ„í—˜ì´ ì‹¬í˜ˆê´€ í˜œíƒê³¼ ê±°ì˜ ë™ì¼í•˜ë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì€ ê·¸ ì‚¬ëŒì„ ì¶œí˜ˆ ìœ„í—˜ì— ë…¸ì¶œì‹œí‚¤ì§€ë§Œ ìˆœ ì´ìµì€ ë¯¸ë¯¸í•  ê²ƒì…ë‹ˆë‹¤.', lesson: 'Average benefit masks risk-stratified truth. Not everyone benefits equally.' },
          'b': { type: 'good', text: 'ë§ìŠµë‹ˆë‹¤! ATT IPD-MAëŠ” ì•„ìŠ¤í”¼ë¦°ì˜ ìœ ìµ-í•´ë¡œì›€ ê· í˜•ì´ ê¸°ë³¸ CVD ìœ„í—˜ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤. 8%ì˜ 10ë…„ ìœ„í—˜ì—ì„œëŠ” ì¹˜ë£Œì— í•„ìš”í•œ ìˆ«ìì™€ í”¼í•´ì— í•„ìš”í•œ ìˆ«ìê°€ ë¹„ìŠ·í•©ë‹ˆë‹¤. í˜„ì¬ ì§€ì¹¨(AHA 2019)ì€ ì €ìœ„í—˜ ì¼ì°¨ ì˜ˆë°©ì—ì„œ ì¼ë°˜ ì•„ìŠ¤í”¼ë¦° ì‚¬ìš©ì„ ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.', lesson: 'IPDëŠ” ìˆ¨ê²¨ì§„ ìœ„í—˜-ì´ìµ ìƒí˜¸ì‘ìš©ì„ ë°í˜€ëƒˆìŠµë‹ˆë‹¤.' },
          'c': { type: 'bad', text: 'ë³µìš©ëŸ‰ì€ ê·¼ë³¸ì ì¸ ë¬¸ì œë¥¼ ë°”ê¾¸ì§€ ì•ŠìŠµë‹ˆë‹¤. ì €ìš©ëŸ‰ ì•„ìŠ¤í”¼ë¦°ì€ ì—¬ì „íˆ â€‹â€‹ì¶œí˜ˆì„ ì¦ê°€ì‹œí‚µë‹ˆë‹¤. ATTëŠ” ìœ ìµì„±-ìœ„í•´ì„± ê· í˜•ì´ ë³µìš©ëŸ‰ì´ ì•„ë‹Œ ê¸°ë³¸ ìœ„í—˜ì— ë‹¬ë ¤ ìˆìŒì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤. CVD ìœ„í—˜ì´ ë‚®ì€ ê²½ìš° ìœ ì•„ìš© ì•„ìŠ¤í”¼ë¦°ë„ ë“ë³´ë‹¤ ì‹¤ì´ ë” ë§ìŠµë‹ˆë‹¤.', lesson: 'Changing the dose doesn\'t fix an indication problem.' }
        }
      },
      'elderly-bp': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'J ê³¡ì„  ì‹ í™”ëŠ” IPD ì¦ê±°ì— ì˜í•´ ê±°ì§“ì„ì´ ë“œëŸ¬ë‚¬ìŠµë‹ˆë‹¤. 344,716ëª…ì˜ í™˜ìë¥¼ ëŒ€ìƒìœ¼ë¡œ í•œ BPLTTC ë©”íƒ€ ë¶„ì„ì—ì„œëŠ” 85ì„¸ ì´ìƒì˜ í™˜ìì—ì„œë„ í˜ˆì•• ê°•í•˜ì˜ ë¹„ë¡€ì  ì´ì ì´ ìœ ì§€ë˜ëŠ” ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤. ì—°ë ¹ ê¸°ë°˜ ì¹˜ë£Œ í—ˆë¬´ì£¼ì˜ëŠ” ê°€ì¥ ë§ì€ í˜œíƒì„ ë°›ì„ ìˆ˜ ìˆëŠ” ì‚¬ëŒë“¤ì—ê²Œ íš¨ê³¼ì ì¸ ì˜ˆë°©ì„ ê±°ë¶€í•©ë‹ˆë‹¤(ì ˆëŒ€ ìœ„í—˜ì´ ë” ë†’ìŒ).', lesson: 'ê´€ì°° ë°ì´í„°ì˜ J ê³¡ì„ ì€ ì¹˜ë£Œ í”¼í•´ê°€ ì•„ë‹Œ ì—­ì¸ê³¼ê´€ê³„ì˜€ìŠµë‹ˆë‹¤.' },
          'b': { type: 'good', text: 'Correct! The BPLTTC IPD-MA found no interaction between age and treatment benefit (p=0.85). A fit 82-year-old with elevated BP stands to gain from treatment. Consider frailty and life expectancy, but not age alone.', lesson: 'RCTì˜ IPDëŠ” ê´€ì°° ì—°êµ¬ì˜ ìƒíƒœí•™ì  ì—°ê´€ì„±ë³´ë‹¤ ìš°ì„ í•©ë‹ˆë‹¤.' },
          'c': { type: 'bad', text: 'ì¹˜ë£Œí•˜ê¸° ì „ì— ë‡Œì¡¸ì¤‘ì´ë‚˜ MIë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì€ ì˜ˆë°© ëª©ì ì„ ë¬´ë„ˆëœ¨ë¦¬ëŠ” ê²ƒì…ë‹ˆë‹¤. BPLTTCëŠ” ëª¨ë“  ì—°ë ¹ì¸µì—ì„œ 1ì°¨ ì˜ˆë°© í™œë™ì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤. ëª…í™•í•œ ì§•í›„ê°€ ìˆëŠ” í™˜ìë¥¼ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì€ í•´ë¡­ìŠµë‹ˆë‹¤.', lesson: 'ì˜ˆë°©ì€ ì‚¬ê±´ ì´í›„ê°€ ì•„ë‹ˆë¼ ì‚¬ê±´ ì´ì „ì— ì¹˜ë£Œí•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.' }
        }
      },
      'stroke': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'Outdated thinking! The STT IPD analysis showed benefit extends to 4.5 hours, and the 2018 guidelines expanded the window. The 3-hour cutoff was from earlier, smaller trials. Every minute counts, but 4 hours is not too late.', lesson: 'IPD allowed continuous modeling of time-benefit relationship.' },
          'b': { type: 'good', text: 'ë§ìŠµë‹ˆë‹¤! STT IPD-MAëŠ” í˜ˆì „ìš©í•´ íš¨ê³¼ê°€ ê°ì†Œí•˜ê¸°ëŠ” í•˜ì§€ë§Œ ìµœëŒ€ 4.5ì‹œê°„ê¹Œì§€ ì§€ì†ëœë‹¤ëŠ” ì‚¬ì‹¤ì„ ì…ì¦í–ˆìŠµë‹ˆë‹¤. 4~4.5ì‹œê°„ì—ì„œ ì¢‹ì€ ê²°ê³¼ì— ëŒ€í•œ ORì€ ì—¬ì „íˆ â€‹â€‹~1.26ì…ë‹ˆë‹¤. ê¸´ê¸‰í•˜ê²Œ ì§„í–‰í•˜ì„¸ìš”. 1ë¶„ì´ ë” ì§€ì—°ë  ë•Œë§ˆë‹¤ ì´ì ì´ ì¤„ì–´ë“­ë‹ˆë‹¤.', lesson: 'IPDëŠ” ê°œë³„ ì‹œí—˜ ê¸°ê°„ì´ ëª¨í˜¸í•œ ë¶•ê´´ ê³¡ì„ ì„ ê³µê°œí–ˆìŠµë‹ˆë‹¤.' },
          'c': { type: 'bad', text: 'Dangerous delay! MRI takes time you don\'t have. The STT showed benefit declines continuously with time. At 4 hours, you\'re already in the diminishing returns zone. Standard CT to rule out hemorrhage is sufficient; adding MRI delays treatment when every minute costs neurons.', lesson: 'Perfect is the enemy of good when time is brain.' }
        }
      },
      'missing': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'ìœ„í—˜í•œ ì „ê°€! ë‹¤ë¥¸ íŠ¹ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ë²ˆë„ ì¸¡ì •ë˜ì§€ ì•Šì€ ë°”ì´ì˜¤ë§ˆì»¤ëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆê²Œ ê·€ì†ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ëŠ” "ì²´ê³„ì ìœ¼ë¡œ ëˆ„ë½ëœ" ë°ì´í„°ì…ë‹ˆë‹¤. ì „ê°€ëŠ” ë¶„ì„ìœ¼ë¡œ ìœ„ì¥í•œ ì¶”ì¸¡ì´ ë©ë‹ˆë‹¤. ëˆ„ë½ ë©”ì»¤ë‹ˆì¦˜ì€ MNARì…ë‹ˆë‹¤(ì¸¡ì •í•˜ì§€ ì•Šì€ ì‹œë„ì—ëŠ” ì´ìœ ê°€ ìˆì„ ìˆ˜ ìˆìŒ).', lesson: 'ìˆ˜ì§‘ë˜ì§€ ì•Šì€ ë‚´ìš©ì€ ê·€ì†ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê·¸ê²ƒì€ ì „ê°€ê°€ ì•„ë‹ˆë¼ ì¡°ì‘ì…ë‹ˆë‹¤.' },
          'b': { type: 'good', text: 'Correct! Interaction analysis should be restricted to trials with the data. For the overall effect, you can include all trials (two-stage: IPD from 5 trials + AD from 3 trials). This maximizes appropriate use of available data while maintaining validity for each analysis type.', lesson: 'ë‹¤ë¥¸ ì§ˆë¬¸ì€ ë°ì´í„°ì˜ ë‹¤ë¥¸ í•˜ìœ„ ì§‘í•©ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
          'c': { type: 'neutral', text: 'ë„ˆë¬´ ê³µê²©ì ì…ë‹ˆë‹¤! ì´ 3ê°€ì§€ ì‹œí—˜ì€ ë°”ì´ì˜¤ë§ˆì»¤ ìƒí˜¸ì‘ìš©ì„ ì•Œ ìˆ˜ ì—†ë”ë¼ë„ ì „ë°˜ì ì¸ ì¹˜ë£Œ íš¨ê³¼ì— ëŒ€í•œ ìœ íš¨í•œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ë“¤ì„ ì œì™¸í•˜ëŠ” ê²ƒì€ ì¦ê±°ë¥¼ ì™„ì „íˆ ë‚­ë¹„í•˜ëŠ” ê²ƒì´ë©° ì²´ê³„ì ìœ¼ë¡œ ë‹¤ë¥¼ ê²½ìš° ì„ íƒ í¸í–¥ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', lesson: 'Exclusion should be proportionate to the problem.' }
        }
      },
      'availability': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'ê°€ìš©ì„± í¸í–¥ ê²½ê³ ! ë¹„ê³µìœ  ì‹œí—˜ì—ì„œëŠ” íš¨ê³¼ê°€ í›¨ì”¬ ë” ì‘ìŠµë‹ˆë‹¤(OR 0.95 ëŒ€ 0.70). ì´ëŸ¬í•œ ë¶ˆì¼ì¹˜ë¥¼ ì¸ì •í•˜ì§€ ì•Šê³  IPD ê²°ê³¼ë§Œ ë³´ê³ í•˜ëŠ” ê²ƒì€ ì¹˜ë£Œ íš¨ê³¼ë¥¼ ê³¼ì¥í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì—…ê³„ ì‹œí—˜ì—ì„œëŠ” ë¶€ì •ì ì¸ ë°ì´í„°ë¥¼ ê³µìœ í•˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.', lesson: 'Available IPD may be a biased sample of all evidence.' },
          'b': { type: 'good', text: 'Correct! Transparent reporting includes: (1) IPD retrieval rate, (2) comparison of IPD vs non-IPD trial characteristics and effects, (3) sensitivity analysis combining IPD + AD. This lets readers judge the impact of availability bias.', lesson: 'IPD quality cannot compensate for selection bias in which trials share.' },
          'c': { type: 'neutral', text: '100% IPDê°€ ì´ìƒì ì´ì§€ë§Œ ê±°ì˜ ë‹¬ì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¬´ê¸°í•œ ëŒ€ê¸°í•œë‹¤ëŠ” ê²ƒì€ ì¦ê±°ê°€ ê²°ì½” í•©ì„±ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì™„ë²½í•¨ì„ ì„ ì˜ ì ìœ¼ë¡œ ë‘ëŠ” ê²ƒë³´ë‹¤ ì ì ˆí•œ ì£¼ì˜ ì‚¬í•­ê³¼ ë¯¼ê°ë„ ë¶„ì„ì„ ì§„í–‰í•˜ëŠ” ê²ƒì´ ë” ì¢‹ìŠµë‹ˆë‹¤.', lesson: 'Some IPD with caveats beats no synthesis at all.' }
        }
      }
    };

    let scenarioState = {};

    function selectScenarioChoice(scenarioId, choice) {
      if (scenarioState[scenarioId]) return;

      scenarioState[scenarioId] = choice;
      const scenario = scenarios[scenarioId];
      const consequence = scenario.consequences[choice];
      const isCorrect = choice === scenario.correct;

      // Update choice styling
      const panel = document.getElementById(`scenario-${scenarioId}`);
      const choices = panel.querySelectorAll('.scenario-choice');
      choices.forEach(c => {
        c.classList.add('answered');
        const letter = c.querySelector('.choice-letter').textContent.toLowerCase();
        if (letter === scenario.correct) c.classList.add('correct');
        if (letter === choice && !isCorrect) c.classList.add('incorrect');
      });

      // Show consequence
      const conseqDiv = document.getElementById(`consequence-${scenarioId}`);
      conseqDiv.innerHTML = `
        <div class="consequence-title">${isCorrect ? '&#10003; Good decision!' : '&#10007; Problematic decision'}</div>
        <div class="consequence-text">${consequence.text}</div>
        <div class="consequence-lesson">"${consequence.lesson}"</div>
      `;
      conseqDiv.classList.add('visible', consequence.type);
    }

    function init() {
      // Restore saved progress - activate correct module and slide
      if (currentModule > 1 || currentSlide > 1) {
        // Deactivate default first module
        document.querySelectorAll('.module-slides').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.slide').forEach(el => el.classList.remove('active'));

        // Activate saved module
        const targetModuleEl = document.querySelector(`.module-slides[data-module="${currentModule}"]`);
        if (targetModuleEl) {
          targetModuleEl.classList.add('active');

          // Activate saved slide within module
          const slides = targetModuleEl.querySelectorAll('.slide');
          const targetSlideIndex = Math.min(currentSlide - 1, slides.length - 1);
          if (slides[targetSlideIndex]) {
            slides[targetSlideIndex].classList.add('active');
          }
        }

        // Update breadcrumb
        const moduleTitle = modules[currentModule - 1];
        if (moduleTitle) {
          document.getElementById('currentModule').textContent = moduleTitle.title;
        }

        // Progress restored: Module ${currentModule}, Slide ${currentSlide}
      }

      renderModuleList();
      updateSlideNav();

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        // Don't intercept if user is in an input/interactive field
        if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' ||
            e.target.tagName === 'SELECT' || e.target.tagName === 'BUTTON' ||
            e.target.tagName === 'A' ||
            (e.target.getAttribute && e.target.getAttribute('role') === 'button')) return;

        if (e.key === 'ArrowRight' || e.key === ' ') {
          e.preventDefault();
          nextSlide();
        } else if (e.key === 'ArrowLeft') {
          e.preventDefault();
          prevSlide();
        } else if (e.key === 'Home') {
          e.preventDefault();
          goToModule(1);
        } else if (e.key === 'End') {
          e.preventDefault();
          goToModule(modules.length);
        }
      });

      // Touch swipe support for mobile
      let touchStartX = 0;
      let touchEndX = 0;
      const slidesContainer = document.getElementById('main-content');

      if (slidesContainer) {
        slidesContainer.addEventListener('touchstart', (e) => {
          touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        slidesContainer.addEventListener('touchend', (e) => {
          touchEndX = e.changedTouches[0].screenX;
          handleSwipe();
        }, { passive: true });
      }

      function handleSwipe() {
        const swipeThreshold = 50;
        const diff = touchStartX - touchEndX;
        if (Math.abs(diff) > swipeThreshold) {
          if (diff > 0) {
            nextSlide(); // Swipe left = next
          } else {
            prevSlide(); // Swipe right = prev
          }
        }
      }

      // Save progress before user leaves
      window.addEventListener('beforeunload', saveProgress);

      // Announce initial slide to screen readers
      announceSlide();

      // Show initial progress percentage
      updateProgressPercent();
    }

    // Accessibility: Announce slide changes to screen readers
    function announceSlide() {
      const module = modules[currentModule - 1];
      if (!module) return;

      const announcement = `Module ${currentModule}: ${module.title}. Slide ${currentSlide} of ${module.slides}.`;
      const liveRegion = document.getElementById('ariaLiveRegion');
      if (liveRegion) {
        liveRegion.textContent = announcement;
      }

      updateProgressPercent();
    }

    // Update completion percentage display
    function updateProgressPercent() {
      const totalSlides = modules.reduce((sum, m) => sum + m.slides, 0);
      let completedSlides = 0;

      // Count slides in completed modules
      completedModules.forEach(moduleId => {
        const mod = modules.find(m => m.id === moduleId);
        if (mod) completedSlides += mod.slides;
      });

      // Add current progress in current module
      completedSlides += currentSlide - 1;

      const percent = Math.round((completedSlides / totalSlides) * 100);
      const progressEl = document.getElementById('progressPercent');
      if (progressEl) {
        progressEl.textContent = `Progress: ${percent}%`;
      }
    }

    function renderModuleList() {
      const list = document.getElementById('moduleList');
      list.innerHTML = modules.map(m => `
        <div class="module-item ${m.id === currentModule ? 'active' : ''} ${completedModules.has(m.id) ? 'completed' : ''}"
             onclick="goToModule(${m.id})"
             onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();event.stopPropagation();goToModule(${m.id});}"
             role="listitem"
             tabindex="0"
             aria-label="Module ${m.id}: ${m.title}. ${m.subtitle}. ${completedModules.has(m.id) ? 'Completed.' : ''} ${m.id === currentModule ? 'Current module.' : ''}"
             aria-current="${m.id === currentModule ? 'true' : 'false'}">
          <div class="module-number" aria-hidden="true">${completedModules.has(m.id) ? '&#10003;' : m.id}</div>
          <div class="module-info">
            <div class="module-title">${m.title}</div>
            <div class="module-subtitle">${m.subtitle}</div>
          </div>
        </div>
      `).join('');
    }

    function goToModule(moduleId) {
      // Bounds checking
      if (moduleId < 1 || moduleId > modules.length) {
        console.warn(`Invalid module ID: ${moduleId}. Must be between 1 and ${modules.length}.`);
        return;
      }

      if (moduleId > currentModule) completedModules.add(currentModule);
      currentModule = moduleId;

      // Ensure slide is within bounds for new module
      const targetModule = modules[moduleId - 1];
      currentSlide = Math.min(Math.max(1, currentSlide), targetModule.slides);
      currentSlide = 1; // Start at first slide of new module

      document.querySelectorAll('.module-slides').forEach(el => el.classList.remove('active'));
      const targetModuleEl = document.querySelector(`.module-slides[data-module="${moduleId}"]`);
      if (targetModuleEl) {
        targetModuleEl.classList.add('active');
      }

      updateSlideVisibility();
      updateSlideNav();
      renderModuleList();

      const moduleTitle = modules[moduleId - 1];
      if (moduleTitle) {
        document.getElementById('currentModule').textContent = moduleTitle.title;
      }

      saveProgress();
      announceSlide();
    }

    function updateSlideVisibility() {
      const moduleSlides = document.querySelector(`.module-slides[data-module="${currentModule}"]`);
      if (!moduleSlides) {
        console.warn(`Module slides not found for module ${currentModule}`);
        return;
      }
      const slides = moduleSlides.querySelectorAll('.slide');
      slides.forEach((slide, index) => slide.classList.toggle('active', index + 1 === currentSlide));
    }

    function updateSlideNav() {
      const module = modules[currentModule - 1];
      if (!module) {
        console.warn(`Module data not found for index ${currentModule - 1}`);
        return;
      }
      const slideCounter = document.getElementById('slideCounter');
      const progressDots = document.getElementById('progressDots');
      if (slideCounter) {
        slideCounter.textContent = `${currentSlide} / ${module.slides}`;
      }
      if (progressDots) {
        progressDots.innerHTML = Array.from({ length: module.slides }, (_, i) =>
          `<div class="progress-dot ${i + 1 === currentSlide ? 'active' : ''}"
                onclick="goToSlide(${i + 1})"
                onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();event.stopPropagation();goToSlide(${i + 1});}"
                role="tab"
                tabindex="${i + 1 === currentSlide ? '0' : '-1'}"
                aria-selected="${i + 1 === currentSlide ? 'true' : 'false'}"
                aria-label="Go to slide ${i + 1}"></div>`
        ).join('');
      }
    }

    // Reset progress function (can be called from console or UI)
    function resetProgress() {
      try {
        localStorage.removeItem(STORAGE_KEY);
        currentModule = 1;
        currentSlide = 1;
        completedModules.clear();

        // Reset UI
        document.querySelectorAll('.module-slides').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.slide').forEach(el => el.classList.remove('active'));

        const firstModule = document.querySelector('.module-slides[data-module="1"]');
        if (firstModule) {
          firstModule.classList.add('active');
          const firstSlide = firstModule.querySelector('.slide');
          if (firstSlide) firstSlide.classList.add('active');
        }

        document.getElementById('currentModule').textContent = modules[0].title;
        renderModuleList();
        updateSlideNav();
        updateProgressPercent();
        announceSlide();

        // Progress reset successfully
      } catch (e) {
        console.error('Failed to reset progress:', e);
      }
    }

    function goToSlide(slideNum) {
      // Bounds checking
      const module = modules[currentModule - 1];
      if (!module || slideNum < 1 || slideNum > module.slides) {
        console.warn(`Invalid slide number: ${slideNum}. Must be between 1 and ${module ? module.slides : '?'}.`);
        return;
      }

      currentSlide = slideNum;
      updateSlideVisibility();
      updateSlideNav();
      saveProgress();
      announceSlide();
    }

    function nextSlide() {
      // Bounds checking
      if (currentModule < 1 || currentModule > modules.length) {
        console.warn('Invalid current module state');
        currentModule = 1;
        currentSlide = 1;
        saveProgress();
        return;
      }

      const module = modules[currentModule - 1];
      if (!module) return;

      if (currentSlide < module.slides) {
        currentSlide++;
        updateSlideVisibility();
        updateSlideNav();
        saveProgress();
        announceSlide();
      } else if (currentModule < modules.length) {
        goToModule(currentModule + 1);
      }
      // If at last slide of last module, do nothing (already handled)
    }

    function prevSlide() {
      // Bounds checking
      if (currentModule < 1 || currentModule > modules.length) {
        console.warn('Invalid current module state');
        currentModule = 1;
        currentSlide = 1;
        saveProgress();
        return;
      }

      if (currentSlide > 1) {
        currentSlide--;
        updateSlideVisibility();
        updateSlideNav();
        saveProgress();
        announceSlide();
      } else if (currentModule > 1) {
        // Bounds check for previous module
        const prevModuleIndex = currentModule - 2;
        if (prevModuleIndex < 0 || prevModuleIndex >= modules.length) {
          console.warn('Invalid previous module index');
          return;
        }

        const prevModuleSlides = modules[prevModuleIndex].slides;
        currentModule--;
        currentSlide = prevModuleSlides;

        document.querySelectorAll('.module-slides').forEach(el => el.classList.remove('active'));
        const targetModuleEl = document.querySelector(`.module-slides[data-module="${currentModule}"]`);
        if (targetModuleEl) {
          targetModuleEl.classList.add('active');
        }

        updateSlideVisibility();
        updateSlideNav();
        renderModuleList();

        const moduleTitle = modules[currentModule - 1];
        if (moduleTitle) {
          document.getElementById('currentModule').textContent = moduleTitle.title;
        }

        saveProgress();
        announceSlide();
      }
      // If at first slide of first module, do nothing (already handled)
    }

    function checkAnswer(element, isCorrect) {
      const container = element.closest('.quiz-container');
      const options = container.querySelectorAll('.quiz-option');
      const feedback = container.querySelector('.quiz-feedback');

      options.forEach(opt => {
        opt.style.pointerEvents = 'none';
        if (opt === element) opt.classList.add(isCorrect ? 'correct' : 'incorrect');
      });

      feedback.classList.add('show', isCorrect ? 'correct' : 'incorrect');
      feedback.innerHTML = isCorrect
        ? '<strong>Correct!</strong> You understand the key concept.'
        : '<strong>Not quite.</strong> Review the module to understand why.';
    }

    // ==================== THEME TOGGLE ====================
    function toggleTheme() {
      const body = document.body;
      const themeBtn = document.getElementById('themeToggle');
      const isLight = body.classList.toggle('light-theme');

      // Update button icon
      if (themeBtn) {
        themeBtn.textContent = isLight ? 'ğŸŒ™' : 'â˜€ï¸';
        themeBtn.setAttribute('aria-label', isLight ? 'Switch to dark mode' : 'Switch to light mode');
      }

      // Save preference
      try {
        localStorage.setItem('ipd-course-theme', isLight ? 'light' : 'dark');
      } catch (e) {
        console.warn('Could not save theme preference');
      }
    }

    function loadTheme() {
      try {
        const savedTheme = localStorage.getItem('ipd-course-theme');
        const themeBtn = document.getElementById('themeToggle');

        if (savedTheme === 'light') {
          document.body.classList.add('light-theme');
          if (themeBtn) {
            themeBtn.textContent = 'ğŸŒ™';
            themeBtn.setAttribute('aria-label', 'Switch to dark mode');
          }
        }
      } catch (e) {
        console.warn('Could not load theme preference');
      }
    }

    // ==================== CERTIFICATE ====================
    function showCertificate() {
      const modal = document.getElementById('certificateModal');
      const dateEl = document.getElementById('certDate');

      if (modal) {
        modal.classList.add('visible');

        // Set current date
        if (dateEl) {
          const now = new Date();
          const options = { year: 'numeric', month: 'long', day: 'numeric' };
          dateEl.textContent = `Completed on ${now.toLocaleDateString('en-US', options)}`;
        }

        // Focus the name input
        const nameInput = document.getElementById('certName');
        if (nameInput) {
          setTimeout(() => nameInput.focus(), 100);
        }
      }
    }

    function closeCertificate() {
      const modal = document.getElementById('certificateModal');
      if (modal) {
        modal.classList.remove('visible');
      }
    }

    function printCertificate() {
      const name = document.getElementById('certName')?.value || 'Course Participant';
      const certContent = document.getElementById('certificateContent');

      if (!certContent) return;

      // Temporarily replace input with name text
      const nameInput = document.getElementById('certName');
      const originalHTML = nameInput?.outerHTML;
      if (nameInput) {
        const nameSpan = document.createElement('span');
        nameSpan.className = 'certificate-name';
        nameSpan.textContent = name;
        nameInput.replaceWith(nameSpan);
      }

      // Hide action buttons for print
      const actions = certContent.querySelector('.certificate-actions');
      const closeBtn = certContent.querySelector('.certificate-close');
      if (actions) actions.style.display = 'none';
      if (closeBtn) closeBtn.style.display = 'none';

      // Print
      const printWindow = window.open('', '_blank');
      printWindow.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Certificate - IPD Meta-Analysis Course</title>
          <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet">
          <style>
            body { margin: 0; padding: 2rem; font-family: 'Cormorant Garamond', Georgia, serif; }
            .certificate {
              background: linear-gradient(135deg, #faf8f5 0%, #fff 100%);
              border: 8px solid #D4AF37;
              border-radius: 12px;
              padding: 3rem;
              max-width: 700px;
              margin: 0 auto;
              text-align: center;
            }
            .certificate-header { font-size: 2.5rem; color: #1E2761; margin-bottom: 0.5rem; }
            .certificate-subtitle { font-size: 1rem; color: #718096; margin-bottom: 2rem; letter-spacing: 0.2em; text-transform: uppercase; }
            .certificate-body { font-size: 1.2rem; color: #2D3748; line-height: 1.8; margin-bottom: 2rem; }
            .certificate-name { font-size: 2rem; font-weight: 700; color: #1E2761; border-bottom: 2px solid #D4AF37; display: inline-block; padding: 0 2rem 0.5rem; margin: 1rem 0; }
            .certificate-date { font-size: 0.9rem; color: #718096; margin-top: 1.5rem; }
            .certificate-seal { width: 80px; height: 80px; background: linear-gradient(135deg, #D4AF37, #B8860B); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 1.5rem auto 0; color: white; font-size: 2rem; }
          </style>
        </head>
        <body>
          ${certContent.innerHTML}
        </body>
        </html>
      `);
      printWindow.document.close();
      printWindow.print();

      // Restore original state
      if (actions) actions.style.display = '';
      if (closeBtn) closeBtn.style.display = '';
      const nameSpan = certContent.querySelector('.certificate-name');
      if (nameSpan && originalHTML) {
        nameSpan.outerHTML = originalHTML;
      }
    }

    function downloadCertificate() {
      const name = document.getElementById('certName')?.value || 'Course Participant';
      const dateEl = document.getElementById('certDate')?.textContent || '';

      // Create a canvas-based certificate image
      const canvas = document.createElement('canvas');
      canvas.width = 1000;
      canvas.height = 700;
      const ctx = canvas.getContext('2d');

      // Background gradient
      const gradient = ctx.createLinearGradient(0, 0, 1000, 700);
      gradient.addColorStop(0, '#faf8f5');
      gradient.addColorStop(1, '#ffffff');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, 1000, 700);

      // Border
      ctx.strokeStyle = '#D4AF37';
      ctx.lineWidth = 16;
      ctx.strokeRect(20, 20, 960, 660);

      // Inner border
      ctx.strokeStyle = '#1E2761';
      ctx.lineWidth = 2;
      ctx.strokeRect(40, 40, 920, 620);

      // Header
      ctx.fillStyle = '#1E2761';
      ctx.font = 'bold 48px Georgia, serif';
      ctx.textAlign = 'center';
      ctx.fillText('Certificate of Completion', 500, 120);

      // Subtitle
      ctx.fillStyle = '#718096';
      ctx.font = '18px Arial, sans-serif';
      ctx.letterSpacing = '0.2em';
      ctx.fillText('INDIVIDUAL PARTICIPANT DATA META-ANALYSIS', 500, 160);

      // Body text
      ctx.fillStyle = '#2D3748';
      ctx.font = '22px Georgia, serif';
      ctx.fillText('This certifies that', 500, 240);

      // Name
      ctx.fillStyle = '#1E2761';
      ctx.font = 'bold 36px Georgia, serif';
      ctx.fillText(name, 500, 300);

      // Name underline
      const nameWidth = ctx.measureText(name).width;
      ctx.strokeStyle = '#D4AF37';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(500 - nameWidth/2 - 20, 315);
      ctx.lineTo(500 + nameWidth/2 + 20, 315);
      ctx.stroke();

      // More body text
      ctx.fillStyle = '#2D3748';
      ctx.font = '22px Georgia, serif';
      ctx.fillText('has successfully completed the course', 500, 380);
      ctx.font = 'bold 24px Georgia, serif';
      ctx.fillText('"The Hidden Patient: IPD Meta-Analysis"', 500, 420);
      ctx.font = '18px Georgia, serif';
      ctx.fillText('demonstrating understanding of individual participant data', 500, 460);
      ctx.fillText('synthesis methods and their clinical applications.', 500, 485);

      // Date
      ctx.fillStyle = '#718096';
      ctx.font = '16px Arial, sans-serif';
      ctx.fillText(dateEl, 500, 540);

      // Seal
      ctx.fillStyle = '#D4AF37';
      ctx.beginPath();
      ctx.arc(500, 610, 40, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = 'white';
      ctx.font = 'bold 36px Arial, sans-serif';
      ctx.fillText('âœ“', 500, 625);

      // Download
      const link = document.createElement('a');
      link.download = `IPD-Certificate-${name.replace(/[^a-zA-Z0-9\s-]/g, '').replace(/\s+/g, '-')}.png`;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    // Close certificate with Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeCertificate();
      }
    });

    // Close certificate when clicking outside
    document.getElementById('certificateModal')?.addEventListener('click', (e) => {
      if (e.target.id === 'certificateModal') {
        closeCertificate();
      }
    });

    // ==================== INIT ====================
    init();
    loadTheme();
  </script>
</body>
</html>
