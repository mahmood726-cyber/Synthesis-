<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>éš ã‚ŒãŸæ‚£è€…: å€‹ã€…ã®å‚åŠ è€…ãƒ‡ãƒ¼ã‚¿ã®ãƒ¡ã‚¿åˆ†æã«é–¢ã™ã‚‹ã‚³ãƒ¼ã‚¹</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&amp;family=Source+Sans+Pro:wght@300;400;600;700&amp;display=swap" rel="stylesheet"/>
<style>
    /* Fallback fonts for offline use */
    @font-face {
      font-family: 'Cormorant Garamond';
      src: local('Cormorant Garamond'), local('Georgia'), local('Times New Roman');
      font-display: swap;
    }
    @font-face {
      font-family: 'Source Sans Pro';
      src: local('Source Sans Pro'), local('Segoe UI'), local('Arial');
      font-display: swap;
    }

    :root {
      --navy: #1E2761;
      --deep-navy: #141B3D;
      --gold: #D4AF37;
      --cream: #FAF8F5;
      --light-cream: #FFFFFF;
      --text: #2D3748;
      --light-text: #718096;
      --red: #C53030;
      --green: #22c55e;
      --teal: #00D4AA;
      --purple: #A855F7;
      --orange: #F97316;
      --blue: #3B82F6;
      --blood-red: #8B0000;
      --transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* Accessibility: Skip link */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--gold);
      color: var(--navy);
      padding: 8px 16px;
      z-index: 1000;
      font-weight: 600;
      text-decoration: none;
      border-radius: 0 0 4px 0;
    }
    .skip-link:focus {
      top: 0;
    }

    /* Accessibility: Focus indicators */
    *:focus {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
    }
    *:focus:not(:focus-visible) {
      outline: none;
    }
    *:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
    }

    /* Accessibility: Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
      .slide { transition: none; }
    }

    /* Accessibility: Screen reader only */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* Accessibility: Live region for announcements */
    .aria-live-region {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    html, body {
      height: 100%;
      font-family: 'Source Sans Pro', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--deep-navy);
      color: var(--cream);
    }

    .course-container {
      display: flex;
      height: 100vh;
      overflow: hidden;
    }

    /* Sidebar */
    .sidebar {
      width: 300px;
      background: linear-gradient(180deg, var(--deep-navy) 0%, #0a0f1a 100%);
      border-right: 1px solid rgba(212,175,55,0.2);
      display: flex;
      flex-direction: column;
      flex-shrink: 0;
    }

    /* mobile sidebar handled by hamburger toggle below */

    .sidebar-header {
      padding: 1.5rem;
      border-bottom: 1px solid rgba(212,175,55,0.2);
    }

    .sidebar-header h1 {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--gold);
      margin-bottom: 0.25rem;
    }

    .sidebar-header p {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.6);
    }

    .module-list {
      flex: 1;
      overflow-y: auto;
      padding: 1rem 0;
    }

    .module-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      transition: all 0.2s;
      border-left: 3px solid transparent;
    }

    .module-item:hover { background: rgba(212,175,55,0.1); }
    .module-item.active { background: rgba(212,175,55,0.15); border-left-color: var(--gold); }
    .module-item.completed .module-number { background: var(--green); color: white; }

    .module-number {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 700;
      flex-shrink: 0;
    }

    .module-item.active .module-number { background: var(--gold); color: var(--navy); }

    .module-info { flex: 1; min-width: 0; }
    .module-title { font-size: 0.85rem; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .module-subtitle { font-size: 0.7rem; color: rgba(255,255,255,0.7); }

    .sidebar-footer {
      padding: 1rem 1.5rem;
      border-top: 1px solid rgba(212,175,55,0.2);
      font-size: 0.7rem;
      color: rgba(255,255,255,0.4);
      line-height: 1.4;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .content-header {
      padding: 1rem 2rem;
      background: rgba(0,0,0,0.3);
      border-bottom: 1px solid rgba(212,175,55,0.2);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .breadcrumb { font-size: 0.85rem; color: rgba(255,255,255,0.6); }
    .breadcrumb span { color: var(--gold); }

    .header-actions { display: flex; gap: 0.5rem; }

    .btn {
      padding: 0.5rem 1rem;
      border: 1px solid rgba(212,175,55,0.3);
      border-radius: 6px;
      background: rgba(255,255,255,0.05);
      color: var(--cream);
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn:hover { background: rgba(212,175,55,0.2); border-color: var(--gold); }
    .btn:focus-visible { box-shadow: 0 0 0 3px rgba(212,175,55,0.5); }
    .btn.primary { background: var(--gold); color: var(--navy); border-color: var(--gold); font-weight: 600; }
    .btn.primary:focus-visible { box-shadow: 0 0 0 3px rgba(212,175,55,0.7); }

    .content-body { flex: 1; overflow: hidden; display: flex; }

    /* Slides */
    .slides-container { flex: 1; position: relative; overflow: hidden; }

    .module-slides { display: none; width: 100%; height: 100%; }
    .module-slides.active { display: block; }

    .slide {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      padding: 2rem 2rem 4rem 2rem;
      padding-top: 3rem;
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--transition), visibility var(--transition);
      overflow-y: auto;
      overflow-x: hidden;
    }

    .slide .content { margin-top: auto; margin-bottom: auto; }
    .slide > * { max-width: 100%; word-wrap: break-word; }
    .slide.active { opacity: 1; visibility: visible; }

    .slide.dark { background: var(--deep-navy); color: var(--cream); }
    .slide.light { background: var(--cream); color: var(--text); }
    .slide.black { background: #000; color: var(--cream); }
    .slide.gradient { background: linear-gradient(135deg, var(--deep-navy) 0%, #2a1a4a 100%); color: var(--cream); }
    .slide.blood { background: linear-gradient(135deg, #1a0a0a 0%, #2d1515 100%); color: var(--cream); }
    .slide.hope { background: linear-gradient(135deg, #0a1a0a 0%, #152d15 100%); color: var(--cream); }
    .slide.ipd { background: linear-gradient(135deg, #0a1a2d 0%, #152d3d 100%); color: var(--cream); }
    .slide.precision { background: linear-gradient(135deg, #1a0a2d 0%, #2d153d 100%); color: var(--cream); }

    /* Typography */
    .serif { font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif; }

    .title {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(1.8rem, 5vw, 3.5rem);
      font-weight: 700;
      margin-bottom: 1rem;
      line-height: 1.2;
    }

    .title.navy { color: var(--navy); }
    .title.gold { color: var(--gold); }
    .title.cream { color: var(--cream); }
    .title.red { color: var(--red); }
    .title.green { color: var(--green); }
    .title.blue { color: var(--blue); }
    .title.purple { color: var(--purple); }

    .subtitle {
      font-size: clamp(1rem, 2vw, 1.5rem);
      color: var(--light-text);
      margin-bottom: 2rem;
    }

    .slide.dark .subtitle { color: rgba(255,255,255,0.7); }

    .big-number {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(4rem, 15vw, 10rem);
      font-weight: 700;
      line-height: 1;
    }

    .big-number.navy { color: var(--navy); }
    .big-number.gold { color: var(--gold); }
    .big-number.red { color: var(--red); }
    .big-number.green { color: var(--green); }
    .big-number.blue { color: var(--blue); }

    /* Refrain */
    .refrain {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(1.4rem, 4vw, 2.5rem);
      font-style: italic;
      color: var(--gold);
      text-align: center;
      max-width: 800px;
      line-height: 1.4;
    }

    .refrain.warning {
      color: var(--red);
      border-left: 4px solid var(--red);
      padding-left: 1.5rem;
      text-align: left;
    }

    .refrain.hope { color: var(--green); }
    .refrain.insight { color: var(--blue); }

    /* Rhetorical */
    .rhetorical {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(1.2rem, 3vw, 2rem);
      color: rgba(255,255,255,0.9);
      text-align: center;
      max-width: 700px;
      line-height: 1.5;
    }

    .rhetorical em { color: var(--gold); font-style: normal; }

    /* Simple explanation box */
    .simple-box {
      background: linear-gradient(135deg, rgba(0,212,170,0.1), rgba(0,0,0,0.2));
      border: 2px solid var(--teal);
      border-radius: 12px;
      padding: 1.5rem;
      max-width: 600px;
      margin: 1rem 0;
    }

    .simple-box.blue {
      background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(0,0,0,0.2));
      border-color: var(--blue);
    }

    .simple-box.purple {
      background: linear-gradient(135deg, rgba(168,85,247,0.1), rgba(0,0,0,0.2));
      border-color: var(--purple);
    }

    .simple-box .simple-title {
      color: var(--teal);
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.1em;
      margin-bottom: 0.75rem;
    }

    .simple-box.blue .simple-title { color: var(--blue); }
    .simple-box.purple .simple-title { color: var(--purple); }

    .simple-box .simple-text {
      font-size: 1.1rem;
      line-height: 1.6;
    }

    .simple-box .simple-text strong { color: var(--gold); }

    /* Story card */
    .story-card {
      background: rgba(0,0,0,0.3);
      border-left: 4px solid var(--gold);
      padding: 1.5rem 2rem;
      max-width: 700px;
      margin: 1rem 0;
    }

    .story-card .place {
      font-size: 0.75rem;
      color: var(--gold);
      letter-spacing: 0.1em;
      margin-bottom: 0.5rem;
    }

    .story-card .narrative {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.1rem;
      line-height: 1.6;
      color: rgba(255,255,255,0.9);
    }

    .story-card .source {
      font-size: 0.7rem;
      color: rgba(255,255,255,0.5);
      margin-top: 1rem;
      font-style: italic;
    }

    /* Decision Tree */
    .decision-tree {
      background: rgba(0,0,0,0.3);
      border: 2px solid var(--gold);
      border-radius: 12px;
      padding: 1.5rem;
      max-width: 800px;
      width: 100%;
    }

    .decision-tree h4 {
      color: var(--gold);
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.1rem;
      margin-bottom: 1rem;
      text-align: center;
    }

    .tree-level {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin: 0.5rem 0;
      position: relative;
      flex-wrap: wrap;
    }

    .tree-node {
      background: var(--navy);
      border: 2px solid var(--gold);
      border-radius: 8px;
      padding: 0.75rem 1rem;
      text-align: center;
      min-width: 120px;
      font-size: 0.8rem;
    }

    .tree-node.root { background: var(--gold); color: var(--navy); font-weight: 700; }
    .tree-node.question { background: rgba(168,85,247,0.3); border-color: var(--purple); }
    .tree-node.yes { background: rgba(34,197,94,0.3); border-color: var(--green); }
    .tree-node.no { background: rgba(197,48,48,0.3); border-color: var(--red); }
    .tree-node.ipd { background: rgba(59,130,246,0.3); border-color: var(--blue); }
    .tree-node.aggregate { background: rgba(249,115,22,0.3); border-color: var(--orange); }
    .tree-node.action { background: var(--teal); color: var(--navy); font-weight: 600; }

    .tree-arrow {
      color: var(--gold);
      font-size: 1.5rem;
      text-align: center;
    }

    .tree-label {
      font-size: 0.7rem;
      color: rgba(255,255,255,0.7);
      text-align: center;
      margin-top: 0.25rem;
    }

    /* Comparison boxes */
    .compare-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      max-width: 800px;
      width: 100%;
    }

    @media (max-width: 600px) { .compare-grid { grid-template-columns: 1fr; } }

    .compare-box {
      background: rgba(0,0,0,0.3);
      border-radius: 12px;
      padding: 1.5rem;
      border: 2px solid;
    }

    .compare-box.aggregate { border-color: var(--orange); }
    .compare-box.ipd { border-color: var(--blue); }

    .compare-box h4 {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.1rem;
      margin-bottom: 0.75rem;
    }

    .compare-box.aggregate h4 { color: var(--orange); }
    .compare-box.ipd h4 { color: var(--blue); }

    .compare-box ul {
      list-style: none;
      font-size: 0.85rem;
      line-height: 1.8;
    }

    .compare-box li::before {
      content: "â€¢ ";
      color: var(--gold);
    }

    /* Stats */
    .stats-grid {
      display: flex;
      gap: 1rem;
      margin: 1.5rem 0;
      flex-wrap: wrap;
      justify-content: center;
    }

    .stat-box {
      background: var(--navy);
      color: var(--cream);
      padding: 1rem 1.5rem;
      text-align: center;
      min-width: 130px;
      border-radius: 8px;
    }

    .stat-value {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: clamp(1.4rem, 3vw, 2rem);
      font-weight: 700;
    }

    .stat-label { font-size: 0.7rem; opacity: 0.8; margin-top: 0.25rem; }

    /* Death toll */
    .death-toll {
      background: linear-gradient(135deg, rgba(197,48,48,0.3), rgba(0,0,0,0.5));
      border: 2px solid var(--red);
      padding: 2rem;
      text-align: center;
      max-width: 400px;
      border-radius: 12px;
    }

    .death-toll .number {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 4rem;
      font-weight: 700;
      color: var(--red);
    }

    .death-toll .label {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.8);
      margin-top: 0.5rem;
    }

    /* Discovery box */
    .discovery-box {
      background: linear-gradient(135deg, rgba(59,130,246,0.3), rgba(0,0,0,0.5));
      border: 2px solid var(--blue);
      padding: 2rem;
      text-align: center;
      max-width: 450px;
      border-radius: 12px;
    }

    .discovery-box .insight {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 2rem;
      font-weight: 700;
      color: var(--blue);
    }

    .discovery-box .label {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.8);
      margin-top: 0.5rem;
    }

    /* Lesson items */
    .lesson-item {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      margin: 0.6rem 0;
      max-width: 800px;
      text-align: left;
    }

    .lesson-number {
      background: var(--gold);
      color: var(--navy);
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      flex-shrink: 0;
      border-radius: 4px;
    }

    .lesson-content h4 {
      font-size: 1rem;
      font-weight: 700;
      color: var(--cream);
      margin-bottom: 0.2rem;
    }

    .lesson-content p { font-size: 0.85rem; color: rgba(255,255,255,0.7); }

    /* Formula box */
    .formula-box {
      background: rgba(0,0,0,0.4);
      border: 1px solid var(--purple);
      border-radius: 8px;
      padding: 1rem 1.5rem;
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.2rem;
      text-align: center;
      max-width: 600px;
      margin: 1rem 0;
    }

    .formula-box .formula {
      color: var(--gold);
      margin: 0.5rem 0;
      font-size: 1.1rem;
    }

    .formula-box .label {
      font-size: 0.8rem;
      color: rgba(255,255,255,0.6);
      font-family: 'Source Sans Pro', sans-serif;
    }

    /* Patient silhouettes */
    .patient-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      max-width: 400px;
      justify-content: center;
      padding: 1rem;
      background: rgba(0,0,0,0.3);
      border-radius: 12px;
    }

    .patient-icon {
      font-size: 1.2rem;
      opacity: 0.7;
    }

    .patient-icon.highlighted {
      opacity: 1;
      filter: drop-shadow(0 0 4px var(--gold));
    }

    .patient-icon.responder { color: var(--green); }
    .patient-icon.non-responder { color: var(--red); }
    .patient-icon.hidden { color: var(--orange); opacity: 0.4; }

    /* Timeline */
    .timeline {
      max-width: 600px;
      width: 100%;
    }

    .timeline-item {
      display: flex;
      gap: 1rem;
      margin: 1rem 0;
      padding-left: 1rem;
      border-left: 3px solid var(--gold);
    }

    .timeline-year {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--gold);
      min-width: 60px;
    }

    .timeline-content {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.8);
    }

    /* Gold line */
    .gold-line { width: 150px; height: 2px; background: var(--gold); margin: 1.5rem auto; }

    /* Content wrapper */
    .content {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 1000px;
    }

    /* Animation */
    .slide.active .animate { animation: fadeUp 0.6s ease-out forwards; }
    .slide.active .animate.delay-1 { animation-delay: 0.1s; }
    .slide.active .animate.delay-2 { animation-delay: 0.2s; }
    .slide.active .animate.delay-3 { animation-delay: 0.3s; }
    .slide.active .animate.delay-4 { animation-delay: 0.4s; }
    .slide.active .animate.delay-5 { animation-delay: 0.5s; }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate { opacity: 0; }

    /* Slide Nav */
    .slide-nav {
      position: absolute;
      bottom: 0; left: 0; right: 0;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      padding: 1rem 1rem 1.5rem 1rem;
      z-index: 100;
      pointer-events: none;
    }

    .nav-btn {
      background: rgba(0,0,0,0.5);
      border: 1px solid rgba(255,255,255,0.2);
      color: white;
      font-size: 1.25rem;
      cursor: pointer;
      opacity: 0.6;
      transition: all 0.2s;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      pointer-events: auto;
    }

    .nav-btn:hover { opacity: 1; background: rgba(0,0,0,0.7); border-color: var(--gold); }

    .nav-center {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      pointer-events: auto;
    }

    .slide-counter { color: rgba(255,255,255,0.6); font-size: 0.85rem; min-width: 50px; text-align: center; }
    .progress { display: flex; gap: 4px; flex-wrap: wrap; justify-content: center; max-width: 200px; }

    .progress-dot {
      width: 6px; height: 6px;
      border-radius: 50%;
      background: rgba(255,255,255,0.25);
      cursor: pointer;
      transition: all 0.2s;
    }

    .progress-dot.active { background: var(--gold); transform: scale(1.3); }
    .progress-dot:hover { background: rgba(255,255,255,0.6); }

    /* Quiz */
    .quiz-container {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(212,175,55,0.3);
      padding: 1.5rem;
      max-width: 700px;
      width: 100%;
      border-radius: 8px;
    }

    .quiz-question {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.2rem;
      margin-bottom: 1rem;
      color: var(--gold);
      line-height: 1.4;
    }

    .quiz-options { display: flex; flex-direction: column; gap: 0.5rem; }

    .quiz-option {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 0.75rem 1rem;
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
      border-radius: 6px;
      font-size: 0.9rem;
    }

    .quiz-option:hover { background: rgba(212,175,55,0.1); border-color: var(--gold); }
    .quiz-option.correct { background: rgba(34,197,94,0.2); border-color: var(--green); }
    .quiz-option.incorrect { background: rgba(197,48,48,0.2); border-color: var(--red); }

    .quiz-feedback {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 8px;
      display: none;
      font-size: 0.9rem;
    }

    .quiz-feedback.show { display: block; }
    .quiz-feedback.correct { background: rgba(34,197,94,0.2); border: 1px solid var(--green); }
    .quiz-feedback.incorrect { background: rgba(197,48,48,0.2); border: 1px solid var(--red); }

    /* Branching Scenario */
    .scenario-panel {
      background: rgba(0,0,0,0.3);
      border: 2px solid var(--purple);
      border-radius: 12px;
      padding: 1.5rem;
      max-width: 750px;
      width: 100%;
    }

    .scenario-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .scenario-icon { font-size: 1.5rem; }

    .scenario-title {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.3rem;
      color: var(--gold);
    }

    .scenario-situation {
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 1rem;
      color: rgba(255,255,255,0.9);
    }

    .scenario-question {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.1rem;
      color: var(--gold);
      margin-bottom: 1rem;
    }

    .scenario-choices {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .scenario-choice {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 0.75rem 1rem;
      cursor: pointer;
      transition: all 0.2s;
      border-radius: 6px;
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
    }

    .scenario-choice:hover { background: rgba(212,175,55,0.1); border-color: var(--gold); }
    .scenario-choice.answered { pointer-events: none; opacity: 0.6; }
    .scenario-choice.correct { background: rgba(34,197,94,0.2); border-color: var(--green); opacity: 1; }
    .scenario-choice.incorrect { background: rgba(197,48,48,0.2); border-color: var(--red); opacity: 1; }

    .choice-letter {
      background: var(--navy);
      color: var(--gold);
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      font-weight: 700;
      font-size: 0.8rem;
      flex-shrink: 0;
    }

    .choice-text { font-size: 0.9rem; line-height: 1.4; }

    .scenario-consequence {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 8px;
      display: none;
    }

    .scenario-consequence.visible { display: block; }
    .scenario-consequence.good { background: rgba(34,197,94,0.15); border: 1px solid var(--green); }
    .scenario-consequence.bad { background: rgba(197,48,48,0.15); border: 1px solid var(--red); }
    .scenario-consequence.neutral { background: rgba(249,115,22,0.15); border: 1px solid var(--orange); }

    .consequence-title {
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .scenario-consequence.good .consequence-title { color: var(--green); }
    .scenario-consequence.bad .consequence-title { color: var(--red); }
    .scenario-consequence.neutral .consequence-title { color: var(--orange); }

    .consequence-text { font-size: 0.9rem; line-height: 1.5; margin-bottom: 0.75rem; }
    .consequence-lesson { font-style: italic; color: var(--gold); font-size: 0.85rem; }

    /* References */
    .references {
      background: rgba(0,0,0,0.3);
      border: 1px solid rgba(212,175,55,0.3);
      border-radius: 8px;
      padding: 1.5rem;
      max-width: 700px;
      text-align: left;
      font-size: 0.75rem;
      line-height: 1.8;
    }

    .references h4 {
      color: var(--gold);
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .references ol { padding-left: 1.5rem; }
    .references li { margin-bottom: 0.5rem; color: rgba(255,255,255,0.8); }
    .references .journal { font-style: italic; }

    .text-center { text-align: center; }
    .mb-1 { margin-bottom: 1rem; }
    .mb-2 { margin-bottom: 2rem; }
    .mt-1 { margin-top: 1rem; }
    .mt-2 { margin-top: 2rem; }

    /* Interactive element focus states */
    .module-item:focus-visible {
      background: rgba(212,175,55,0.2);
      outline: 2px solid var(--gold);
      outline-offset: -2px;
    }
    .nav-btn:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
      opacity: 1;
    }
    .progress-dot:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
      transform: scale(1.5);
    }
    .quiz-option:focus-visible,
    .scenario-choice:focus-visible {
      outline: 2px solid var(--gold);
      outline-offset: 2px;
      background: rgba(212,175,55,0.15);
    }

    /* High contrast mode support */
    @media (prefers-contrast: high) {
      :root {
        --gold: #FFD700;
        --cream: #FFFFFF;
        --text: #000000;
      }
      .btn { border-width: 2px; }
      .slide.dark, .slide.black { background: #000; }
    }

    /* Print stylesheet */
    @media print {
      .sidebar, .content-header, .slide-nav, .header-actions { display: none !important; }
      .course-container { display: block; height: auto; }
      .main-content { overflow: visible; }
      .content-body { overflow: visible; }
      .slides-container { overflow: visible; position: static; }
      .module-slides { display: block !important; }
      .slide {
        position: static !important;
        opacity: 1 !important;
        visibility: visible !important;
        page-break-inside: avoid;
        page-break-after: always;
        min-height: 100vh;
        background: white !important;
        color: black !important;
      }
      .slide * { color: black !important; }
      .title { color: #1E2761 !important; }
      .refrain, .gold-line { color: #8B7500 !important; }
      .simple-box, .story-card, .decision-tree, .compare-box {
        border: 2px solid #333 !important;
        background: #f5f5f5 !important;
      }
    }

    /* Light theme */
    body.light-theme {
      --deep-navy: #f5f5f5;
      --navy: #e8e8e8;
      --cream: #1a1a2e;
      --text: #2D3748;
      --light-text: #4a5568;
    }
    body.light-theme .sidebar {
      background: linear-gradient(180deg, #f0f0f0 0%, #e0e0e0 100%);
      border-right-color: rgba(30,39,97,0.2);
    }
    body.light-theme .sidebar-header h1 { color: var(--navy); }
    body.light-theme .module-item:hover { background: rgba(30,39,97,0.1); }
    body.light-theme .module-item.active { background: rgba(30,39,97,0.15); border-left-color: #1E2761; }
    body.light-theme .module-number { background: rgba(30,39,97,0.1); color: #1E2761; }
    body.light-theme .module-item.active .module-number { background: #1E2761; color: white; }
    body.light-theme .module-title { color: #1a1a2e; }
    body.light-theme .module-subtitle { color: #4a5568; }
    body.light-theme .content-header { background: rgba(0,0,0,0.05); border-bottom-color: rgba(30,39,97,0.2); }
    body.light-theme .breadcrumb { color: #4a5568; }
    body.light-theme .breadcrumb span { color: #1E2761; }
    body.light-theme .btn { background: rgba(30,39,97,0.05); color: #1a1a2e; border-color: rgba(30,39,97,0.3); }
    body.light-theme .btn:hover { background: rgba(30,39,97,0.15); }
    body.light-theme .btn.primary { background: #1E2761; color: white; }
    body.light-theme .slide.dark,
    body.light-theme .slide.black,
    body.light-theme .slide.gradient,
    body.light-theme .slide.blood,
    body.light-theme .slide.hope,
    body.light-theme .slide.ipd,
    body.light-theme .slide.precision {
      background: #fafafa;
      color: #1a1a2e;
    }
    body.light-theme .title.gold { color: #1E2761; }
    body.light-theme .title.cream { color: #1a1a2e; }
    body.light-theme .refrain { color: #1E2761; }
    body.light-theme .refrain.warning { color: #C53030; border-left-color: #C53030; }
    body.light-theme .refrain.hope { color: #166534; }
    body.light-theme .refrain.insight { color: #1E40AF; }
    body.light-theme .rhetorical { color: #1a1a2e; }
    body.light-theme .rhetorical em { color: #1E2761; }
    body.light-theme .simple-box { background: linear-gradient(135deg, rgba(0,212,170,0.1), rgba(240,240,240,0.8)); }
    body.light-theme .story-card { background: rgba(0,0,0,0.03); }
    body.light-theme .story-card .narrative { color: #2D3748; }
    body.light-theme .decision-tree { background: rgba(0,0,0,0.03); }
    body.light-theme .nav-btn { background: rgba(0,0,0,0.1); color: #1a1a2e; border-color: rgba(0,0,0,0.2); }
    body.light-theme .slide-counter { color: #4a5568; }
    body.light-theme .progress-dot { background: rgba(0,0,0,0.2); }
    body.light-theme .progress-dot.active { background: #1E2761; }
    body.light-theme .sidebar-footer { color: #4a5568; }
    body.light-theme .gold-line { background: #1E2761; }

    /* Certificate Modal */
    .certificate-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }
    .certificate-modal.visible { display: flex; }
    .certificate {
      background: linear-gradient(135deg, #faf8f5 0%, #fff 100%);
      border: 8px solid #D4AF37;
      border-radius: 12px;
      padding: 3rem;
      max-width: 700px;
      width: 90%;
      text-align: center;
      position: relative;
      box-shadow: 0 25px 50px rgba(0,0,0,0.3);
    }
    .certificate-header {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 2.5rem;
      color: #1E2761;
      margin-bottom: 0.5rem;
    }
    .certificate-subtitle {
      font-size: 1rem;
      color: #718096;
      margin-bottom: 2rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
    }
    .certificate-body {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.2rem;
      color: #2D3748;
      line-height: 1.8;
      margin-bottom: 2rem;
    }
    .certificate-name {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 2rem;
      font-weight: 700;
      color: #1E2761;
      border-bottom: 2px solid #D4AF37;
      display: inline-block;
      padding: 0 2rem 0.5rem;
      margin: 1rem 0;
    }
    .certificate-date {
      font-size: 0.9rem;
      color: #718096;
      margin-top: 1.5rem;
    }
    .certificate-seal {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #D4AF37, #B8860B);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 1.5rem auto 0;
      color: white;
      font-size: 2rem;
      box-shadow: 0 4px 15px rgba(212,175,55,0.4);
    }
    .certificate-actions {
      margin-top: 2rem;
      display: flex;
      gap: 1rem;
      justify-content: center;
    }
    .certificate-actions button {
      padding: 0.75rem 1.5rem;
      border: 2px solid #1E2761;
      border-radius: 6px;
      background: white;
      color: #1E2761;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .certificate-actions button:hover {
      background: #1E2761;
      color: white;
    }
    .certificate-actions button.primary {
      background: #1E2761;
      color: white;
    }
    .certificate-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #718096;
    }
    .certificate-close:hover { color: #1E2761; }

    /* Name input for certificate */
    .certificate-input {
      font-family: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;
      font-size: 1.5rem;
      text-align: center;
      border: none;
      border-bottom: 2px solid #D4AF37;
      background: transparent;
      padding: 0.5rem 1rem;
      width: 80%;
      max-width: 300px;
      color: #1E2761;
    }
    .certificate-input:focus {
      outline: none;
      border-bottom-color: #1E2761;
    }
    .mobile-menu-toggle{display:none;position:fixed;top:12px;left:12px;z-index:1001;background:#1E2761;border:1px solid #D4AF37;color:#D4AF37;width:40px;height:40px;border-radius:8px;font-size:1.2rem;cursor:pointer;align-items:center;justify-content:center;}
    @media(max-width:768px){.mobile-menu-toggle{display:flex;}.sidebar{transform:translateX(-100%);transition:transform 0.3s ease;position:fixed;z-index:1000;height:100vh;}.sidebar.open{transform:translateX(0);}.sidebar-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:999;}.sidebar-overlay.show{display:block;}}
  </style>
</head>
<body>
<!-- Skip link for keyboard navigation -->
<a class="skip-link" href="#main-content">Skip to content</a>
<button aria-expanded="false" aria-label="Toggle navigation menu" class="mobile-menu-toggle" onclick="toggleSidebar()">â˜°</button>
<div class="sidebar-overlay" onclick="document.querySelector('.sidebar').classList.remove('open');this.classList.remove('show');"></div>
<!-- Live region for screen reader announcements -->
<div aria-atomic="true" aria-live="polite" class="aria-live-region" id="ariaLiveRegion"></div>
<!-- Certificate Modal -->
<div aria-labelledby="certTitle" aria-modal="true" class="certificate-modal" id="certificateModal" role="dialog">
<div class="certificate" id="certificateContent">
<button aria-label="è¨¼æ˜æ›¸ã‚’é–‰ã˜ã‚‹" class="certificate-close" onclick="closeCertificate()">Ã—</button>
<div class="certificate-header" id="certTitle">Certificate of Completion</div>
<div class="certificate-subtitle">å€‹äººã®å‚åŠ è€…ãƒ‡ãƒ¼ã‚¿ ãƒ¡ã‚¿åˆ†æ</div>
<div class="certificate-body">
        ã“ã‚Œã¯ã€<br/>
<input aria-label="è¨¼æ˜æ›¸ã®åå‰" class="certificate-input" id="certName" placeholder="åå‰ã‚’å…¥åŠ›" type="text"/>
<br/><br/>
        ã‚³ãƒ¼ã‚¹<br/>
<strong>"The Hidden Patient: IPD Meta-Analysis"</strong><br/>
        demonstrating understanding of individual participant data<br/>
        åˆæˆæ–¹æ³•ã¨ãã®è‡¨åºŠã‚’æ­£å¸¸ã«å®Œäº†ã—ãŸã“ã¨ã‚’è¨¼æ˜ã—ã¾ã™ã€‚
      </div>
<div class="certificate-date" id="certDate"></div>
<div class="certificate-seal">âœ“</div>
<div class="certificate-actions">
<button aria-label="è¨¼æ˜æ›¸ã‚’å°åˆ·" onclick="printCertificate()">ğŸ–¨ï¸ Print</button>
<button aria-label="è¨¼æ˜æ›¸ã‚’ç”»åƒã¨ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰" class="primary" onclick="downloadCertificate()">ğŸ“¥ Download</button>
</div>
</div>
</div>
<div aria-label="IPDãƒ¡ã‚¿åˆ†æã‚³ãƒ¼ã‚¹" class="course-container">
<!-- Sidebar Navigation -->
<nav aria-label="ã‚³ãƒ¼ã‚¹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«" class="sidebar" role="navigation">
<div class="sidebar-header">
<a href="index.html" onmouseout="this.style.color='rgba(212,175,55,0.7)'" onmouseover="this.style.color='#D4AF37'" style="display:block;font-size:0.7rem;color:rgba(212,175,55,0.7);text-decoration:none;margin-bottom:0.5rem;">â† Course Library</a>
<h1>éš ã‚ŒãŸæ‚£è€…</h1>
<p>å€‹äººã®å‚åŠ è€…ãƒ‡ãƒ¼ã‚¿ ãƒ¡ã‚¿åˆ†æ</p>
</div>
<div aria-label="ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒªã‚¹ãƒˆ" class="module-list" id="moduleList" role="list"></div>
<div class="sidebar-footer">
<div aria-live="polite" id="progressPercent" style="color:var(--gold);margin-bottom:0.5rem;font-weight:600;"></div>
        ã€Œå…¨ä½“ã¨ã—ã¦ã€å€‹äººã¯æ¶ˆæ»…ã—ã¾ã™ã€‚ã€
        <br/><br/>
        ã™ã¹ã¦ã®æ‚£è€…ã«ã¯ç‰©èªãŒã‚ã‚Šã¾ã™ã€‚ IPD ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãã‚Œã‚’èãã“ã¨ãŒã§ãã¾ã™ã€‚
        <br/><br/>
<details style="font-size:0.65rem;opacity:0.7;">
<summary style="cursor:pointer;">Keyboard shortcuts</summary>
<div style="margin-top:0.5rem;">
            â†’ / Space: Next slide<br/>
            â†: Previous slide<br/>
            ãƒ›ãƒ¼ãƒ : æœ€åˆã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«<br/>
            çµ‚äº†: æœ€å¾Œã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
          </div>
</details>
</div>
</nav>
<!-- Main Content -->
<main class="main-content" role="main">
<header class="content-header">
<div class="breadcrumb">
          IPD Course &gt; <span id="currentModule">The Vanishing</span>
</div>
<div aria-label="ã‚³ãƒ¼ã‚¹ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³" class="header-actions" role="toolbar">
<button aria-label="Toggle theme" class="btn" id="themeToggle" onclick="toggleTheme()" title="Toggle light/dark mode">â˜€ï¸</button>
<button aria-label="ã‚³ãƒ¼ã‚¹ã®é€²è¡ŒçŠ¶æ³ã‚’ãƒªã‚»ãƒƒãƒˆ" class="btn" onclick="resetProgress()" title="æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™">Reset</button>
<button aria-label="å‚è€ƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç§»å‹•" class="btn" onclick="goToModule(16)">References</button>
<button aria-label="Continue to next slide" class="btn primary" onclick="nextSlide()">Continue</button>
</div>
</header>
<div class="content-body">
<div aria-label="ã‚³ãƒ¼ã‚¹ã®ã‚¹ãƒ©ã‚¤ãƒ‰" class="slides-container" id="main-content" role="region" tabindex="-1">
 ==================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 1: æ¶ˆæ»… (IPD ãŒé‡è¦ãªç†ç”±) =================== 
<div class="module-slides active" data-module="1">
<!-- Slide 1.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  åƒäººã®æ‚£è€…<br/>
                  can be <em>reduced to a single number</em>,<br/>
                  ãã—ã¦ãã®æ•°ã§ <em>å‘½ãŒã©ã®ã‚ˆã†ã«æ¶ˆå¤±ã™ã‚‹ã®ã‹è¦‹ãŸã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã‹</em>?
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 1.2: é›†è¨ˆéŒ¯è¦š 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">é›†åˆéŒ¯è¦–</div>
<div class="story-card animate delay-1">
<div class="place">EVERY META-ANALYSIS YOU'VE EVER READ</div>
<div class="narrative">
                    A meta-analysis reports: "Treatment reduces mortality by 15%."
                    <br/><br/>
                    ã§ã¯ã€ã©ã®æ‚£è€…ãŒåˆ©ç›Šã‚’å¾—ãŸã®ã§ã—ã‚‡ã†ã‹?è‹¥ã„äººã§ã™ã‹ã€ãã‚Œã¨ã‚‚è€äººã§ã™ã‹ï¼Ÿè»½ç—‡ã®äººã§ã™ã‹ã€ãã‚Œã¨ã‚‚é‡åº¦ã®äººã§ã™ã‹ï¼Ÿç”·æ€§ã§ã™ã‹ã€å¥³æ€§ã§ã™ã‹?
                    <br/><br/>
<strong>é›†è¨ˆã§ã¯ç­”ãˆã‚‰ã‚Œã¾ã›ã‚“ã€‚</strong>
<br/><br/>
                    å¹³å‡å€¤å†…ã§ã¯ã€æ•‘ã‚ã‚ŒãŸæ‚£è€…ã‚‚ã„ã¾ã™ãŒã€è¢«å®³ã‚’å—ã‘ãŸæ‚£è€…ã‚‚ã„ã¾ã™ã€‚
                  </div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 1.3: éš ã‚ŒãŸç•°è³ªæ€§ 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">What Aggregates Hide</div>
<div class="patient-grid animate delay-1">
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon responder">â—</span>
<span class="patient-icon non-responder">â—</span>
<span class="patient-icon responder">â—</span>
</div>
<p class="animate delay-2" style="margin-top:1rem;font-size:0.9rem;">
<span style="color:var(--green);">â— Responders</span> Â 
                  <span style="color:var(--red);">â— Non-responders</span>
</p>
<div class="simple-box animate delay-3">
<div class="simple-title">THE TRAGEDY</div>
<div class="simple-text">
                    "Overall benefit: 30%"<br/><br/>
                    But <strong>who</strong> ã¯ 30% ã§ã™ã‹?å€‹åˆ¥ã®ãƒ‡ãƒ¼ã‚¿ãŒãªã‘ã‚Œã°ã€å¿œç­”è€…ã¨éå¿œç­”è€…ã‚’ç‰¹å®šã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ <strong>precision medicine</strong>.
                  </div>
</div>
</div>
</div>
<!-- Slide 1.4: The Breast Cancer Revelation -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Oxford, 1985</div>
<div class="story-card animate delay-1">
<div class="place">EARLY BREAST CANCER TRIALISTS' COLLABORATIVE GROUP</div>
<div class="narrative">
                    Richard Peto gathered something unprecedented: the <strong>raw data</strong>
                    on every woman in every tamoxifen trial.
                    <br/><br/>
                    è¦ç´„ã‚’ç·´ç¿’ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚å¹³å‡ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ <strong>Each patient, each tumor, each outcome.</strong>
<br/><br/>
                    What he discovered changed breast cancer treatment forever.
                  </div>
<div class="source">Early Breast Cancer Trialists' Collaborative Group. Lancet 1988;2:61-72</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 1.5: ç™ºè¦‹ 
<div class="slide dark">
<div class="content text-center">
<div class="rhetorical animate">
                  å…¬é–‹ã•ã‚ŒãŸè©¦é¨“ã§ã¯æ¬¡ã®ã‚ˆã†ã«è¿°ã¹ã‚‰ã‚Œã¦ã„ã¾ã™:<br/>
                  "Tamoxifen works."
                  <br/><br/>
                  But the <em>individual data</em> revealed:
                </div>
<div class="discovery-box animate delay-2">
<div class="insight">ER+ vs ERâˆ’</div>
<div class="label">Tamoxifen only worked in estrogen receptor positive tumors</div>
</div>
<div class="simple-box animate delay-3">
<div class="simple-title">ä½•ãŒéš ã•ã‚Œã¦ã„ãŸã®ã‹</div>
<div class="simple-text">
                    ã“ã®ç›¸äº’ä½œç”¨ã‚’æ¤œå‡ºã§ãã‚‹ã»ã©å¤§è¦æ¨¡ãªå˜ä¸€è©¦é¨“ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã™ã¹ã¦ã®è©¦é¨“ã‹ã‚‰ã® <strong>å€‹ã€…ã®æ‚£è€…ãƒ‡ãƒ¼ã‚¿</strong> ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã®ã¿ã€çœŸå®ŸãŒæ˜ã‚‰ã‹ã«ãªã‚Šã¾ã™ã€‚<br/><br/>
<strong>Giving tamoxifen to ERâˆ’ patients was useless.</strong>
</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 1.6: ãƒªãƒ•ãƒ¬ã‚¤ãƒ³ 
<div class="slide black">
<div class="content text-center">
<div class="refrain insight animate">
                  ã€Œå…¨ä½“ã¨ã—ã¦ã€å€‹äººã¯æ¶ˆæ»…ã—ã¾ã™ã€‚<br/>
                  å€‹äººã§ã¯ã€çœŸå®ŸãŒç¾ã‚Œã¾ã™ã€‚<br/>
                  ã“ã‚ŒãŒã€éš ã‚ŒãŸæ‚£è€…ã‚’æ¢ã™ç†ç”±ã§ã™ã€‚"
                </div>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="color:rgba(255,255,255,0.6);font-style:italic;">
                  ã“ã‚Œã¯å€‹ã€…ã®å‚åŠ è€…ãƒ‡ãƒ¼ã‚¿ã®ãƒ¡ã‚¿åˆ†æã§ã™ã€‚
                </p>
</div>
</div>
</div>
 ==================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 2: é›†è¨ˆ VS IPD ==================== 
<div class="module-slides" data-module="2">
<!-- Slide 2.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  What is lost when we summarize?<br/>
                  What is found when we look closer?
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 2.2: 2 ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Two Ways to Synthesize</div>
<div class="compare-grid animate delay-1">
<div class="compare-box aggregate">
<h4>Aggregate Data (AD)</h4>
<ul>
<li>Study-level summaries</li>
<li>å‡ºç‰ˆç‰©ã‹ã‚‰ã®åŠ¹æœé‡</li>
<li>Mean age, % male, etc.</li>
<li>è¿…é€Ÿã‹ã¤ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½</li>
<li>Cannot see within-study variation</li>
</ul>
</div>
<div class="compare-box ipd">
<h4>å€‹ã€…ã®å‚åŠ è€…ãƒ‡ãƒ¼ã‚¿(IPD)</h4>
<ul>
<li>æ‚£è€…ãƒ¬ãƒ™ãƒ«ã®ç”Ÿãƒ‡ãƒ¼ã‚¿</li>
<li>Every participant's characteristics</li>
<li>Actual ages, actual outcomes</li>
<li>Time-intensive to obtain</li>
<li>Can see who responds and who doesn't</li>
</ul>
</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 2.3: ç”Ÿæ…‹å­¦çš„èª¤è¬¬ 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">ç”Ÿæ…‹å­¦çš„èª¤è¬¬</div>
<div class="story-card animate delay-1">
<div class="place">é›†åˆçš„æ€è€ƒã®å±é™ºæ€§</div>
<div class="narrative">
                    Imagine two trials of a drug for heart failure.
                    <br/><br/>
                    Trial A: Mean age 55 years, Effect size 0.70 (benefit)<br/>
                    Trial B: Mean age 75 years, Effect size 0.90 (less benefit)
                    <br/><br/>
<strong>Tempting conclusion:</strong> "The drug works better in younger patients."
                    <br/><br/>
<strong>But this could be completely wrong.</strong>
</div>
</div>
</div>
</div>
<!-- Slide 2.4: Why It's Wrong -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">The Trap</div>
<div class="simple-box animate delay-1">
<div class="simple-title">ECOLOGICAL FALLACY</div>
<div class="simple-text">
                    å„è©¦é¨“å†…ã§ã€å¹´é½¢ã¨æ²»ç™‚åŠ¹æœã¨ã®é–¢ä¿‚ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ <strong>completely different</strong> è£åˆ¤é–“ã®é–¢ä¿‚ã‹ã‚‰ã€‚
                    <br/><br/>
                    Perhaps in Trial A, <em>older</em> patients within that trial responded better.
                    Perhaps in Trial B, <em>younger</em> patients within that trial responded better.
                    <br/><br/>
<strong>å€‹åˆ¥ã®ãƒ‡ãƒ¼ã‚¿ãŒãªã‘ã‚Œã°ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚</strong>
</div>
</div>
<div class="formula-box animate delay-2">
<div class="label">THE RULE</div>
<div class="formula">Between-study relationships â‰  Within-study relationships</div>
<div class="label">Aggregate data can only show between-study patterns</div>
</div>
</div>
</div>
<!-- Slide 2.5: What IPD Enables -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">What IPD Enables</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--blue);">1</div>
<div class="lesson-content">
<h4>True Effect Modification</h4>
<p>Test whether treatment effect varies by patient characteristics (age, biomarkers, disease severity)</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--blue);">2</div>
<div class="lesson-content">
<h4>Time-to-Event Analysis</h4>
<p>Use actual survival curves, not just hazard ratios. Handle censoring properly.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--blue);">3</div>
<div class="lesson-content">
<h4>Consistent Definitions</h4>
<p>Standardize outcome definitions, exposure timing, covariate categories across studies</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background:var(--blue);">4</div>
<div class="lesson-content">
<h4>Subgroup Credibility</h4>
<p>ç ”ç©¶å†…ã®ç›¸äº’ä½œç”¨ã‚’ãƒ†ã‚¹ãƒˆã—ã€ç”Ÿæ…‹å­¦çš„èª¤è¬¬ã‚’å›é¿ã™ã‚‹</p>
</div>
</div>
</div>
</div>
<!-- Slide 2.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  ã€Œé›†è¨ˆãƒ‡ãƒ¼ã‚¿ã¯æ£®ã‚’ç¤ºã—ã¾ã™ã€‚<br/>
                  Individual data shows each tree.<br/>
                  ã©ã®æœ¨ãŒç—…æ°—ã«ãªã£ã¦ã„ã‚‹ã®ã‹ã‚’çŸ¥ã‚ŠãŸã„å ´åˆã¯ã€<br/>
                  you must walk among them."
                </div>
</div>
</div>
</div>
 ==================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 3: CTT ã®å•“ç¤º (ã‚¹ã‚¿ãƒãƒ³) ==================== 
<div class="module-slides" data-module="3">
<!-- Slide 3.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  ãã®æ–¹æ³•ã‚’è¦‹ãŸã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã‹ <em>one collaboration</em><br/>
                  gathered data on <em>170,000 patients</em><br/>
                  and answered questions no single trial could ask?
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 3.2: CTT 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Oxford, 1994-Present</div>
<div class="story-card animate delay-1">
<div class="place">CHOLESTEROL TREATMENT TRIALISTS' COLLABORATION</div>
<div class="narrative">
                    CTT ã¯ä»¥ä¸‹ã‹ã‚‰å€‹äººãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã—ã¾ã—ãŸã€‚ <strong>every major statin trial</strong>.
                    <br/><br/>
                    27 trials. 174,149 patients. Every baseline characteristic.
                    Every cardiovascular event. Every death.
                    <br/><br/>
                    The published trials asked: "Do statins work?"
                    <br/><br/>
                    CTTã¯æ¬¡ã®ã‚ˆã†ã«å°‹ã­ã¾ã—ãŸã€‚ <strong>ã€Œã‚¹ã‚¿ãƒãƒ³ã¯èª°ã«åŠ¹ãã®ï¼Ÿã€</strong>
</div>
<div class="source">CTT Collaboration. Lancet 2010;376:1670-81</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 3.3: æ•°å­— 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">IPDã®è¦æ¨¡</div>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value" style="color:var(--blue);">27</div>
<div class="stat-label">Trials Combined</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--gold);">174,149</div>
<div class="stat-label">Individual Patients</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--teal);">5</div>
<div class="stat-label">é•·å¹´ã«ã‚ãŸã‚‹ãƒ‡ãƒ¼ã‚¿åé›†</div>
</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">THE INVESTMENT</div>
<div class="simple-text">
                    IPD ã‚’åé›†ã™ã‚‹ã«ã¯ã€ä½•å¹´ã‚‚ã®ãƒã‚´ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ‡ãƒ¼ã‚¿è»¢é€ã€ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã€èª¿å’ŒãŒå¿…è¦ã§ã™ã€‚
                    <br/><br/>
                    ã—ã‹ã—ã€ã‚ãªãŸãŒç­”ãˆã‚‹ã“ã¨ãŒã§ãã‚‹è³ªå•ã¯ã€ <strong>æŠ•è³‡ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚‹</strong>.
                  </div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 3.4: ç™ºè¦‹ 
<div class="slide precision">
<div class="content text-center">
<div class="title purple animate">What CTT Discovered</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>Benefit Proportional to LDL Reduction</h4>
<p>Every 1 mmol/L LDL reduction = 22% lower CV events. True across all subgroups.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>No Age Threshold</h4>
<p>Benefit continues even in patients &gt;75 years (contradicting earlier AD analyses)</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>Primary Prevention Works</h4>
<p>Patients without prior CVD benefit proportionally to their baseline risk</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background:var(--red);">âœ—</div>
<div class="lesson-content">
<h4>No Cancer Signal</h4>
<p>ã‚¹ã‚¿ãƒãƒ³ãŒç™Œã‚’å¼•ãèµ·ã“ã™ã¨ã„ã†æ‡¸å¿µã¯IPDã®è¿½è·¡èª¿æŸ»ã§æ±ºå®šçš„ã«å¦å®šã•ã‚ŒãŸ</p>
</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 3.5: AD ãŒå›ç­”ã§ããªã‹ã£ãŸç†ç”± 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ãƒ‡ãƒ¼ã‚¿ã®é›†ç´„ãŒå¤±æ•—ã—ãŸç†ç”±</div>
<div class="story-card animate delay-1">
<div class="place">THE LIMITATION</div>
<div class="narrative">
                    Published trials categorized patients differently.
                    <br/><br/>
                    Trial A: "High risk" = 10-year CVD risk &gt;20%<br/>
                    Trial B: "High risk" = Prior MI<br/>
                    Trial C: "High risk" = Diabetes
                    <br/><br/>
                    You cannot compare or combine what is defined differently.
                    <br/><br/>
<strong>IPD allowed the CTT to redefine everyone consistently.</strong>
</div>
</div>
</div>
</div>
<!-- Slide 3.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain hope animate">
                  "When trials speak different languages,<br/>
                  IPD ãŒç¿»è¨³ã‚’æä¾›ã—ã¾ã™ã€‚<br/>
                  What seemed contradictory becomes clear:<br/>
                  the same truth, measured differently."
                </div>
</div>
</div>
</div>
<!-- ==================== MODULE 4: WHEN TO PURSUE IPD (DECISION TREE) ==================== -->
<div class="module-slides" data-module="4">
<!-- Slide 4.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  IPD takes <em>years</em> to gather.<br/>
                  é›†è¨ˆãƒ‡ãƒ¼ã‚¿å–å¾— <em>weeks</em>.<br/>
<br/>
                  æŠ•è³‡ã«ä¾¡å€¤ãŒã‚ã‚‹ã®ã¯ã„ã¤ã§ã™ã‹?
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 4.2: æ„æ€æ±ºå®šã®æ çµ„ã¿ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ãƒ‡ã‚£ã‚·ã‚¸ãƒ§ãƒ³ãƒ„ãƒªãƒ¼</div>
<div class="decision-tree animate delay-1">
<h4>IPDã‚’è¿½æ±‚ã™ã¹ãã§ã™ã‹?</h4>
<div class="tree-level">
<div class="tree-node root">ã”è³ªå•ã¯æ²»ç™‚åŠ¹æœã®å¤‰æ›´ã«ã¤ã„ã¦ã§ã™ã‹ï¼Ÿ</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 2rem;">
<div>
<div class="tree-node yes">YES</div>
<div class="tree-label">"Who benefits most?"</div>
</div>
<div>
<div class="tree-node no">NO</div>
<div class="tree-label">"Does it work overall?"</div>
</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 2rem;">
<div class="tree-node ipd">IPD likely needed</div>
<div class="tree-node aggregate">AD may suffice</div>
</div>
</div>
</div>
</div>
<!-- Slide 4.3: More Criteria -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">When IPD Is Essential</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Time-to-Event Outcomes</h4>
<p>æœ€çµ‚çš„ãªãƒã‚¶ãƒ¼ãƒ‰æ¯”ã ã‘ã§ãªãã€ç”Ÿå­˜æ›²ç·šãŒé‡è¦ãªå ´åˆã€‚æ¤œé–²ã‚’é©åˆ‡ã«å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã€‚</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Continuous Effect Modifiers</h4>
<p>Testing whether treatment effect varies by age, BMI, biomarker level (not just "high" vs "low")</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Outcome Definition Problems</h4>
<p>è©¦é¨“ã«ã‚ˆã£ã¦çµæœã®å®šç¾©ãŒç•°ãªã‚Šã€æ¨™æº–åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Longer Follow-Up Available</h4>
<p>ãƒˆãƒ©ã‚¤ã‚¢ãƒ«ãƒªã‚¹ãƒˆã«å«ã‚ãŸã„æœªå…¬é–‹ã®è¿½è·¡ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹å ´åˆ</p>
</div>
</div>
</div>
</div>
<!-- Slide 4.4: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-ipd-decision">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">ç ”ç©¶æˆ¦ç•¥ã®æ±ºå®š</span>
</div>
<div class="scenario-situation">
                    ã‚ãªãŸã¯ã€æ–°å‹ã‚³ãƒ­ãƒŠã‚¦ã‚¤ãƒ«ã‚¹æ„ŸæŸ“ç—‡ (COVID-19) è‚ºç‚ã«å¯¾ã™ã‚‹ã‚³ãƒ«ãƒã‚³ã‚¹ãƒ†ãƒ­ã‚¤ãƒ‰ã®ãƒ¡ã‚¿åˆ†æã‚’è¨ˆç”»ã—ã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹é©æ ¼ãª RCT ãŒ 10 ä»¶ã‚ã‚Šã¾ã™ã€‚åŒåƒšã¯ã€ã€ŒIPD ã‚’å–å¾—ã—ã‚ˆã†ã¨ã™ã‚‹ã¹ãã§ã™ã‹ã€ãã‚Œã¨ã‚‚å˜ã«é›†è¨ˆåˆ†æã‚’è¡Œã†ã¹ãã§ã—ã‚‡ã†ã‹?ã€ã¨å°‹ã­ã¾ã™ã€‚
                    <br/><br/>
                    é‡è¦ãªè³ªå•ã¯ã€ã€Œåˆ©ç›Šã¯ç—…æ°—ã®é‡ç—‡åº¦ã‚„æ²»ç™‚ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã‹?ã€ã§ã™ã€‚
                  </div>
<div class="scenario-question">ãŠã™ã™ã‚ã¯ä½•ã§ã™ã‹ï¼Ÿ</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('ipd-decision', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">AD ã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã™ - ã™ãã«çµæœãŒå¿…è¦ã§ã™ãŒã€IPD ã«ã¯æ™‚é–“ãŒã‹ã‹ã‚Šã™ãã¾ã™</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('ipd-decision', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">IPDã®è¿½æ±‚ - ç§ãŸã¡ã®è³ªå•ã¯æ‚£è€…ã®ç‰¹æ€§ã«ã‚ˆã‚‹åŠ¹æœã®å¤‰åŒ–ã«é–¢ã™ã‚‹ã‚‚ã®ã§ã™</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('ipd-decision', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">å‡ºç‰ˆç‰©ã‹ã‚‰ã®è©¦é¨“ãƒ¬ãƒ™ãƒ«ã®é‡ç—‡åº¦ã‚«ãƒ†ã‚´ãƒªã”ã¨ã«ã‚µãƒ–ã‚°ãƒ«ãƒ¼ãƒ—åˆ†æã‚’è¡Œã†</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-ipd-decision"></div>
</div>
</div>
</div>
<!-- Slide 4.5: When AD Is Enough -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">é›†è¨ˆãƒ‡ãƒ¼ã‚¿ã§ååˆ†ãªå ´åˆ</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--orange);">âœ“</div>
<div class="lesson-content">
<h4>Overall Treatment Effect</h4>
<p>ã€Œæ©Ÿèƒ½ã—ã¾ã™ã‹?ã€ã¨ã„ã†å”¯ä¸€ã®è³ªå•ãŒã‚ã‚‹å ´åˆã€Œèª°ã®ãŸã‚?ã€ã§ã¯ã‚ã‚Šã¾ã›ã‚“</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--orange);">âœ“</div>
<div class="lesson-content">
<h4>Homogeneous Population</h4>
<p>When trials enrolled similar patients and effect modification is unlikely</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--orange);">âœ“</div>
<div class="lesson-content">
<h4>Binary Outcomes, Short Follow-up</h4>
<p>æ¤œé–²ãŒå•é¡Œã§ã¯ãªãã€çµæœãŒå˜ç´”ãªã¯ã„/ã„ã„ãˆã®å ´åˆ</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background:var(--orange);">âœ“</div>
<div class="lesson-content">
<h4>IPD Unobtainable</h4>
<p>è©¦é¨“å‚åŠ è€…ãŒå…±æœ‰ã—ãªã„ã€ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã‚‹ã€ã¾ãŸã¯ãƒªã‚½ãƒ¼ã‚¹ãŒåˆ©ç”¨ã§ããªã„å ´åˆ</p>
</div>
</div>
</div>
</div>
<!-- Slide 4.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  ã€Œã™ã¹ã¦ã®è³ªå•ãŒå€‹äººã‚’å¿…è¦ã¨ã™ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br/>
                  ã—ã‹ã—ã€ã™ã¹ã¦ã®è³ªå•ãŒå€‹äººã‚’å¿…è¦ã¨ã—ã¾ã™ã€‚ about <em>which</em> individuals<br/>
                  ã¯ãƒ‡ãƒ¼ã‚¿å†…ã«å­˜åœ¨ã™ã‚‹ã“ã¨ã‚’è¦æ±‚ã—ã¾ã™ã€‚"
                </div>
</div>
</div>
</div>
 =================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 5: 1 ã‚¹ãƒ†ãƒ¼ã‚¸ VS 2 ã‚¹ãƒ†ãƒ¼ã‚¸ ==================== 
<div class="module-slides" data-module="5">
<!-- Slide 5.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  ã‚ãªãŸã¯å€‹äººã‚’é›†ã‚ã¾ã—ãŸãƒ‡ãƒ¼ã‚¿ã€‚<br/>
<br/>
                  æ¬¡: æ¬¡ã®ã‚ˆã†ã«åˆ†æã—ã¾ã™ã‹? <em>one combined dataset</em><br/>
                  or <em>trial by trial, then combine</em>?
                </div>
</div>
</div>
<!-- Slide 5.2: Two Approaches -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Two Analytical Approaches</div>
<div class="compare-grid animate delay-1">
<div class="compare-box aggregate">
<h4>Two-Stage Approach</h4>
<ul>
<li>Stage 1: Analyze each trial separately</li>
<li>ã‚¹ãƒ†ãƒ¼ã‚¸ 2: çµæœã‚’ãƒ¡ã‚¿åˆ†æã—ã¾ã™</li>
<li>Preserves trial structure</li>
<li>Familiar (like standard MA)</li>
<li>Cannot handle sparse data well</li>
</ul>
</div>
<div class="compare-box ipd">
<h4>One-Stage Approach</h4>
<ul>
<li>ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’åŒæ™‚ã«åˆ†æã—ã¾ã™</li>
<li>Mixed-effects regression model</li>
<li>ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã®ãƒ©ãƒ³ãƒ€ãƒ åŠ¹æœ</li>
<li>ã‚¹ãƒ‘ãƒ¼ã‚¹ã«é©ã—ã¦ã„ã¾ã™ãƒ‡ãƒ¼ã‚¿</li>
<li>More flexible modeling</li>
</ul>
</div>
</div>
</div>
</div>
<!-- Slide 5.3: Two-Stage Explained -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">2 æ®µéš: ãŠãªã˜ã¿ã®ãƒ‘ã‚¹</div>
<div class="formula-box animate delay-1">
<div class="label">STAGE 1 (Within Each Trial)</div>
<div class="formula">Estimate treatment effect for trial k: Î¸<sub>k</sub></div>
<div class="label">ãã®è©¦é¨“ã‹ã‚‰ã®å€‹ã€…ã®æ‚£è€…ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨</div>
</div>
<div class="formula-box animate delay-2">
<div class="label">STAGE 2 (Across Trials)</div>
<div class="formula">Meta-analyze Î¸<sub>1</sub>, Î¸<sub>2</sub>, ... Î¸<sub>K</sub></div>
<div class="label">æ¨™æº–çš„ãªå¤‰é‡åŠ¹æœæ‰‹æ³•ã‚’ä½¿ç”¨</div>
</div>
<div class="simple-box animate delay-3">
<div class="simple-title">ADVANTAGE</div>
<div class="simple-text">
                    Easy to understand. Easy to explain.
                    <br/>
                    Each trial's estimate is transparent.
                    <br/>
                    ã‚ˆãçŸ¥ã‚‰ã‚ŒãŸæ£®æ—ãƒ—ãƒ­ãƒƒãƒˆã¨ I<sup>2</sup> statistics.
                  </div>
</div>
</div>
</div>
<!-- Slide 5.4: One-Stage Explained -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">1 æ®µéš:å¼·åŠ›ãªãƒ‘ã‚¹</div>
<div class="formula-box animate delay-1">
<div class="label">MIXED-EFFECTS MODEL</div>
<div class="formula">Y<sub>ij</sub> = Î²<sub>0</sub> + Î²<sub>1</sub>Treatment<sub>ij</sub> + u<sub>j</sub> + Îµ<sub>ij</sub></div>
<div class="label">i = patient, j = trial, u<sub>j</sub> = random trial effect</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">ADVANTAGES</div>
<div class="simple-text">
<strong>1.</strong> Handles trials with zero events (no continuity corrections)<br/>
<strong>2.</strong> More powerful for detecting interactions<br/>
<strong>3.</strong> Can model complex covariate relationships<br/>
<strong>4.</strong> Exact likelihood (no normal approximations)
                  </div>
</div>
</div>
</div>
<!-- Slide 5.5: Decision Tree -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">é¸æŠã‚ãªãŸã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</div>
<div class="decision-tree animate delay-1">
<h4>One-Stage or Two-Stage?</h4>
<div class="tree-level">
<div class="tree-node question">Do trials have sparse events (rare outcomes)?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 2rem;">
<div>
<div class="tree-node yes">YES (sparse)</div>
<div class="tree-arrow">â†“</div>
<div class="tree-node ipd">One-stage preferred</div>
<div class="tree-label">Avoids zero-cell problems</div>
</div>
<div>
<div class="tree-node no">NO (common events)</div>
<div class="tree-arrow">â†“</div>
<div class="tree-node aggregate">Either works</div>
<div class="tree-label">çµæœã¯åŒæ§˜ã§ã‚ã‚‹ã¯ãšã§ã™</div>
</div>
</div>
</div>
</div>
</div>
<!-- Slide 5.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  "The two-stage preserves each trial's voice.<br/>
                  The one-stage hears all voices at once.<br/>
                  ãƒ‡ãƒ¼ã‚¿ãŒã¾ã°ã‚‰ã§ã‚¤ãƒ™ãƒ³ãƒˆãŒã¾ã‚Œãªå ´åˆã€<br/>
                  2 ã‚¹ãƒ†ãƒ¼ã‚¸ãŒè¦‹é€ƒã—ã¦ã„ã‚‹ã‚‚ã®ã‚’ 1 ã‚¹ãƒ†ãƒ¼ã‚¸ã§ã‚­ãƒ£ãƒƒãƒã—ã¾ã™ã€‚"
                </div>
</div>
</div>
</div>
 ====================ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 6: ã‚³ãƒ«ãƒã‚³ã‚¹ãƒ†ãƒ­ã‚¤ãƒ‰ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®è©± ==================== 
<div class="module-slides" data-module="6">
<!-- Slide 6.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  èµ¤ã¡ã‚ƒã‚“ã®å‘½ã‚’æ•‘ã£ãŸè–¬<br/>
                  ã®è©±ã‚’èã„ãŸã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã‹?<br/>
<em>but only if given at the right time</em>?
                </div>
</div>
</div>
<!-- Slide 6.2: Preterm Birth -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">æ—©ç”£å…ãƒ‘ãƒ©ãƒ‰ãƒƒã‚¯ã‚¹</div>
<div class="story-card animate delay-1">
<div class="place">NEONATAL INTENSIVE CARE UNITS WORLDWIDE</div>
<div class="narrative">
                    å‡ºç”Ÿå‰ã‚³ãƒ«ãƒã‚³ã‚¹ãƒ†ãƒ­ã‚¤ãƒ‰ã¯æ—©ç”£å…ã®æ­»äº¡ç‡ã‚’ä½ä¸‹ã•ã›ã‚‹ã“ã¨ã¯ã€1970 å¹´ä»£ã«ç¢ºç«‹ã•ã‚Œã¾ã—ãŸã€‚
                    <br/><br/>
                    But a puzzle remained: <strong>When should they be given?</strong>
<br/><br/>
                    24 hours before birth? 48 hours? A week?
                    <br/><br/>
                    Published trials couldn't answerâ€”they didn't report timing consistently.
                  </div>
<div class="source">Roberts D, et al. Cochrane Database Syst Rev 2017</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 6.3: IPD ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">IPD ãŒæ˜ã‚‰ã‹ã«ã—ãŸçª“</div>
<div class="stats-grid animate delay-1">
<div class="stat-box" style="border: 2px solid var(--green);">
<div class="stat-value" style="color:var(--green);">24h-7d</div>
<div class="stat-label">Optimal Window</div>
</div>
<div class="stat-box" style="border: 2px solid var(--red);">
<div class="stat-value" style="color:var(--red);">&gt;7 days</div>
<div class="stat-label">Benefit Wanes</div>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">THE DISCOVERY</div>
<div class="simple-text">
                    By examining each baby's exact time from steroid to delivery,
                    IPD meta-analysis showed:
                    <br/><br/>
<strong>Maximum benefit:</strong> 24 hours to 7 days before birth<br/>
<strong>Reduced benefit:</strong> &gt;7 days (lung maturity effect fades)<br/>
<strong>No benefit:</strong> &lt;24 hours (not enough time to work)
                  </div>
</div>
</div>
</div>
<!-- Slide 6.4: Clinical Impact -->
<div class="slide hope">
<div class="content text-center">
<div class="title green animate">Lives Saved, Practice Changed</div>
<div class="story-card animate delay-1">
<div class="place">è‡¨åºŠã€‚å½±éŸ¿</div>
<div class="narrative">
                    IPD å‰: è‡¨åºŠåŒ»ã¯ã‚¹ãƒ†ãƒ­ã‚¤ãƒ‰ã‚’æŠ•ä¸ã—ã€æœ€å–„ã®çµæœã‚’æœŸå¾…ã—ã¦ã„ã¾ã—ãŸã€‚
                    <br/><br/>
                    After IPD: Guidelines now recommend <strong>repeat dosing</strong>
                    æœ€åˆã®ã‚³ãƒ¼ã‚¹ã‹ã‚‰ 7 æ—¥ä»¥å†…ã«åˆ†å¨©ãŒè¡Œã‚ã‚Œãªã‹ã£ãŸå ´åˆã€‚
                    <br/><br/>
                    ã“ã®ç²¾åº¦ã¯ã€å€‹åˆ¥ã®ãƒ‡ãƒ¼ã‚¿ãªã—ã§ã¯ä¸å¯èƒ½ã§ã™ãŒã€ <strong>saved thousands of premature babies</strong>.
                  </div>
</div>
<div class="discovery-box animate delay-2">
<div class="insight">Timing is Treatment</div>
<div class="label">åŒã˜è–¬ã‚’é–“é•ã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æŠ•ä¸ã™ã‚‹ã¨ã€å±é™ºãªå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãƒ—ãƒ©ã‚»ãƒœã‚‚åŒæ§˜ã§ã™</div>
</div>
</div>
</div>
<!-- Slide 6.5: Why AD Failed -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">é›†è¨ˆãƒ‡ãƒ¼ã‚¿ãŒã“ã‚Œã‚’ç¤ºã›ãªã‹ã£ãŸç†ç”±</div>
<div class="simple-box animate delay-1">
<div class="simple-title">THE PROBLEM</div>
<div class="simple-text">
                    Trial A reported: "Steroid given within 48 hours"<br/>
                    Trial B reported: "Steroid given antenatally"<br/>
                    Trial C reported: "Steroid-to-delivery interval: median 3 days"
                    <br/><br/>
                    Different categories. Different definitions. <strong>Incompatible summaries.</strong>
<br/><br/>
                    Only by examining each baby's actual steroid-to-delivery time
                    could the optimal window be identified.
                  </div>
</div>
</div>
</div>
<!-- Slide 6.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain hope animate">
                  ã€Œã“ã®è–¬ã¯åŠ¹æœãŒã‚ã‚‹ã“ã¨ãŒçŸ¥ã‚‰ã‚Œã¦ã„ã¾ã—ãŸã€‚<br/>
                  But <em>when</em> ãã‚Œã‚’æŠ•ä¸ã™ã‚‹ã‹ã©ã†ã‹ã¯ä¸æ˜ã§ã—ãŸã€‚<br/>
                  IPDã¯ã€Œã„ã¤ã‹ã€ã‚’ã€Œæ­£ã—ã„ã€ã«å¤‰ãˆã¾ã—ãŸæ™‚é–“'â€”<br/>
                  ãã—ã¦ãã®æ­£ç¢ºã•ã®ä¸­ã§ã€å­ä¾›ãŸã¡ã¯ç”Ÿãã¦ã„ã¾ã—ãŸã€‚"
                </div>
</div>
</div>
</div>
 =================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 7: IPD ã®å–å¾— (ã‚¯ã‚¨ã‚¹ãƒˆ) ==================== 
<div class="module-slides" data-module="7">
<!-- Slide 7.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  ãƒ‡ãƒ¼ã‚¿ã¯å­˜åœ¨ã—ã¾ã™ã€‚<br/>
                  ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã©ã“ã‹ã§ã€<br/>
<em>ãã‚Œãã‚Œã®æ‚£è€…ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãŒè¨˜éŒ²ã•ã‚Œã‚‹</em>.<br/>
<br/>
                  å•é¡Œã¯ã€å½¼ã‚‰ãŒãã‚Œã‚’å…±æœ‰ã™ã‚‹ã‹ã©ã†ã‹ã§ã™ã€‚
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 7.2: ã‚¯ã‚¨ã‚¹ãƒˆ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ãƒ‡ãƒ¼ã‚¿ã®æ¢æ±‚</div>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value" style="color:var(--green);">60-80%</div>
<div class="stat-label">Typical IPD Retrieval Rate</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--red);">6-24</div>
<div class="stat-label">Months to Gather</div>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">REALITY CHECK</div>
<div class="simple-text">
                    ãŠãã‚‰ããã†ã™ã‚‹ã§ã—ã‚‡ã† <strong>not</strong> get 100% of trials.
                    Some investigators will refuse. Some data is lost.
                    Some companies won't share.
                    <br/><br/>
<strong>This is expected.</strong> Plan for it.
                  </div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 7.3: ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Where IPD Lives</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Trialist Collaboration</h4>
<p>Direct contact with trial investigators. Build relationships. Offer co-authorship.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>ãƒ‡ãƒ¼ã‚¿å…±æœ‰ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </h4>
<p>YODA Project, ClinicalStudyDataRequest.com, Vivli, ICPSR</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Regulatory Agencies</h4>
<p>EMA Policy 0070, FDA (limited), Health Canada</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Journal Requirements</h4>
<p>Many journals now require data sharing; check supplementary materials</p>
</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 7.4: ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚¿ãƒ¼ 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">The Approach</div>
<div class="story-card animate delay-1">
<div class="place">HOW TO ASK</div>
<div class="narrative">
<strong>1. è³ªå•ã‚’å…ˆå°ã™ã‚‹</strong>â€”explain why IPD is essential
                    <br/><br/>
<strong>2. Offer co-authorship</strong>â€”make sharing worthwhile
                    <br/><br/>
<strong>3. ãƒ‡ãƒ¼ã‚¿ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ã¤ã„ã¦èª¬æ˜ã™ã‚‹</strong>â€”how you'll protect their patients
                    <br/><br/>
<strong>4. ãƒ‡ãƒ¼ã‚¿è¾æ›¸ã®æä¾›</strong>â€”specify exactly what you need
                    <br/><br/>
<strong>5. Set clear timelines</strong>â€”respect their time
                  </div>
</div>
</div>
</div>
<!-- Slide 7.5: Missing IPD Problem -->
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">å¯ç”¨æ€§ãƒã‚¤ã‚¢ã‚¹ã®ç½ </div>
<div class="simple-box animate delay-1">
<div class="simple-title">THE DANGER</div>
<div class="simple-text">
                    ãã‚ŒãŒè©¦ç·´ã ã£ãŸã‚‰ã©ã†ãªã‚‹ã‹ <strong>share data</strong> è©¦é¨“ã¨ã¯ä½“ç³»çš„ã«ç•°ãªã‚Šã¾ã™ã€‚ <strong>don't share</strong>?
                    <br/><br/>
                    Industry trials: less likely to share<br/>
                    Negative trials: less likely to share<br/>
                    Older trials: data may be lost
                    <br/><br/>
<strong>Your IPD sample may be biased.</strong>
</div>
</div>
<div class="formula-box animate delay-2">
<div class="label">THE RULE</div>
<div class="formula">Always compare: IPD trials vs. non-IPD trials</div>
<div class="label">Do they differ in effect size, sample size, funding source?</div>
</div>
</div>
</div>
<!-- Slide 7.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  ã€Œãƒ‡ãƒ¼ã‚¿ã¯å­˜åœ¨ã—ã¾ã™ã€‚å•é¡Œã¯ä¿¡é ¼ã§ã™ã€‚<br/>
                  Will they share what they have guarded?<br/>
                  æ…é‡ã«æ©‹ã‚’æ¶ã‘ã¾ã—ã‚‡ã†â€•â€•<br/>
                  ãã®æ©‹ã®ä¸Šã§ã€æ‚£è€…ãŸã¡ã®æœªæ¥ãŒäº¤å·®ã™ã‚‹ã‹ã‚‰ã§ã™ã€‚ã€
                </div>
</div>
</div>
</div>
 ==================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 8: ãƒ‡ãƒ¼ã‚¿ã®èª¿å’Œ ==================== 
<div class="module-slides" data-module="8">
<!-- Slide 8.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã—ã¾ã—ãŸ<br/>
                  from twelve trials, five countries, three decades.<br/>
<br/>
                  But Trial A calls it <em>"cardiovascular death"</em><br/>
                  ãƒˆãƒ©ã‚¤ã‚¢ãƒ« B ã¯ãã‚Œã‚’å‘¼ã³å‡ºã—ã¾ã™ <em>"cardiac mortality"</em>.<br/>
<br/>
                  ãã‚Œã‚‰ã¯åŒã˜ã§ã™ã‹ï¼Ÿ
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 8.2: èª¿å’Œã®èª²é¡Œ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ãƒãƒ™ãƒ«ã®å¡”å•é¡Œ</div>
<div class="story-card animate delay-1">
<div class="place">EVERY IPD META-ANALYSIS</div>
<div class="narrative">
                    Trial from Japan: Age in years since 1900 (e.g., "54" = 1954 birth)<br/>
                    Trial from USA: Age in decimal years (e.g., 65.7)<br/>
                    è‹±å›½ã‹ã‚‰ã®ãƒˆãƒ©ã‚¤ã‚¢ãƒ«: å¹´é½¢å±¤ (ã€Œ65-74ã€)<br/><br/>
                    Diabetes: HbA1c â‰¥ 6.5% vs. fasting glucose â‰¥ 126 vs. "physician diagnosis"<br/><br/>
                    Outcome: "Major adverse cardiac event" (one trial includes stroke, another doesn't)<br/><br/>
<strong>åˆ†æã®å‰ã«: ã™ã¹ã¦ã‚’èª¿å’Œã•ã›ã¾ã™ã€‚</strong>
</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 8.3: ãƒ—ãƒ­ã‚»ã‚¹ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">èª¿å’Œãƒ—ãƒ­ã‚»ã‚¹</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªã®ä½œæˆ</h4>
<p>Define every variable you need: name, type, permitted values, derivation rules</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Map Each Trial's Variables</h4>
<p>Document how each trial's coding maps to your standardized definitions</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>ãƒˆãƒ©ã‚¤ã‚¢ãƒ«ãƒªã‚¹ãƒˆã«ç¢ºèªã™ã‚‹</h4>
<p>è‡ªåˆ†ã®è§£é‡ˆã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚å½¼ã‚‰ã¯ã‚ãªãŸã‚ˆã‚Šã‚‚è‡ªåˆ†ãŸã¡ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚ˆãçŸ¥ã£ã¦ã„ã¾ã™ã€‚</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Validate Transformations</h4>
<p>IPD ã‹ã‚‰å…¬é–‹ã•ã‚ŒãŸçµæœã‚’å†ç¾ã—ã¾ã™ã€‚ä¸€è‡´ã—ãªã„å ´åˆã¯ã€èª¿æŸ»ã—ã¦ãã ã•ã„ã€‚</p>
</div>
</div>
</div>
</div>
<!-- Slide 8.4: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-harmonization">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">å®šç¾©ã®ã‚¸ãƒ¬ãƒ³ãƒ</span>
</div>
<div class="scenario-situation">
                    8 ã¤ã®ç³–å°¿ç—…è©¦é¨“ã‹ã‚‰å¾—ã‚‰ã‚ŒãŸ IPD ã‚’èª¿å’Œã•ã›ã¦ã„ã¾ã™ã€‚ä¸»ãªè»¢å¸°ã¯ã€Œå¿ƒè¡€ç®¡æ­»ã€ã§ã™ã€‚
                    <br/><br/>
                    6 ä»¶ã®è©¦é¨“ã§ã¯æ¨™æº–å®šç¾© (ICD ã‚³ãƒ¼ãƒ‰) ãŒä½¿ç”¨ã•ã‚Œã¾ã—ãŸã€‚ 1990å¹´ä»£ã®2ä»¶ã®è©¦é¨“ã§ã¯ã€æ¨™æº–åŒ–ã•ã‚ŒãŸåŸºæº–ã‚’æŒãŸãšã«ã€Œç ”ç©¶è€…ãŒè©•ä¾¡ã—ãŸå¿ƒè‡“æ­»ã€ãŒä½¿ç”¨ã•ã‚ŒãŸã€‚ã“ã‚Œã‚‰ 2 ã¤ã®è©¦é¨“ã§ã¯ã€ã‚ˆã‚Šå¤§ããªæ²»ç™‚åŠ¹æœãŒç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚
                  </div>
<div class="scenario-question">ã“ã‚Œã‚’ã©ã†å¯¾å‡¦ã—ã¾ã™ã‹?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('harmonization', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">8 ä»¶ã®è©¦é¨“ã‚’ã™ã¹ã¦å«ã‚ã¾ã™ - ãƒ‡ãƒ¼ã‚¿ãŒå¤šã„ã»ã©å„ªã‚Œã¦ãŠã‚Šã€å®šç¾©ã¯ã€Œååˆ†ã«è¿‘ã„ã€ã‚‚ã®ã§ã™ã€‚</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('harmonization', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">Exclude the 2 non-standardized trials to maintain outcome consistency</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('harmonization', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">6 ã¤ã®ä¸€è²«ã—ãŸè©¦é¨“ã«ã‚ˆã‚‹ä¸€æ¬¡åˆ†æã€‚ä»–ã® 2 ã¤ã‚’è¿½åŠ ã—ãŸæ„Ÿåº¦åˆ†æ</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-harmonization"></div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 8.5: æ¤œè¨¼ã‚¹ãƒ†ãƒƒãƒ— 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">é‡è¦ãªæ¤œè¨¼</div>
<div class="simple-box animate delay-1">
<div class="simple-title">THE TEST</div>
<div class="simple-text">
<strong>æ–°ã—ã„åˆ†æã®å‰ã«:</strong>
<br/><br/>
                    IPD ã‹ã‚‰å…¬è¡¨ã•ã‚Œã¦ã„ã‚‹å„è©¦é¨“ã®çµæœã‚’å†ç¾ã—ã¾ã™ã€‚
                    <br/><br/>
                    åˆ†æã§ã¯ RR = 0.78 ã¨ç¤ºã•ã‚Œã¦ã„ã‚‹ãŒã€å‡ºç‰ˆç‰©ã«ã¯ RR = 0.85 ã¨è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€
                    <br/>
<strong>something is wrong.</strong>
<br/><br/>
                    Find the discrepancy. Fix it. Then proceed.
                  </div>
</div>
</div>
</div>
<!-- Slide 8.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  "Different languages, different rulers,<br/>
                  different ways to name the same disease.<br/>
                  çµåˆã™ã‚‹å‰ã«æ¬¡ã®ã“ã¨ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç¿»è¨³ã—ã¾ã™ã€‚<br/>
                  ç¿»è¨³ã™ã‚‹å‰ã«ã€ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"
                </div>
</div>
</div>
</div>
 ==================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 9: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ ==================== 
<div class="module-slides" data-module="9">
<!-- Slide 9.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  å‡¦ç†æ©Ÿèƒ½ã—ã¾ã™ <em>on average</em>.<br/>
<br/>
                  ã—ã‹ã—ã€ãã‚Œã¯è‹¥ã„äººã«ã‚‚è€äººã«ã‚‚åŒã˜ã‚ˆã†ã«æ©Ÿèƒ½ã—ã¾ã™ã‹?<br/>
                  è»½åº¦ã®äººã«ã‚‚é‡åº¦ã®äººã«ã‚‚?<br/>
                  ãƒã‚¤ã‚ªãƒãƒ¼ã‚«ãƒ¼ãŒã‚ã‚‹äººã¨ãªã„äººã«ã¯?
                </div>
</div>
</div>
<!-- Slide 9.2: The Tamoxifen Discovery Revisited -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">è…«ç˜å­¦ã‚’å¤‰ãˆãŸç›¸äº’ä½œç”¨</div>
<div class="story-card animate delay-1">
<div class="place">EBCTCG, 1985-1998</div>
<div class="narrative">
                    The Early Breast Cancer Trialists' Group didn't just ask "Does tamoxifen work?"
                    <br/><br/>
                    They asked: <strong>"Does the effect differ by estrogen receptor status?"</strong>
<br/><br/>
                    ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã¯å¤§è¦æ¨¡ã§ã—ãŸ:
                    <br/><br/>
                    ER-positive: 47% reduction in recurrence<br/>
                    ER-negative: <strong>No benefit at all</strong>
</div>
<div class="source">EBCTCG. Lancet 1998;351:1451-67</div>
</div>
<div class="discovery-box animate delay-2">
<div class="insight">p<sub>interaction</sub> &lt; 0.00001</div>
<div class="label">The most important interaction in cancer medicine</div>
</div>
</div>
</div>
<!-- Slide 9.3: How to Test Interactions -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Testing Treatment-Covariate Interactions</div>
<div class="formula-box animate delay-1">
<div class="label">THE MODEL</div>
<div class="formula">Outcome = Î²<sub>1</sub>Treatment + Î²<sub>2</sub>Covariate + Î²<sub>3</sub>(Treatment Ã— Covariate)</div>
<div class="label">Î²<sub>3</sub> is the interaction term - does treatment effect vary by covariate?</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">INTERPRETATION</div>
<div class="simple-text">
                    If Î²<sub>3</sub> is statistically significant:
                    <br/><br/>
                    æ²»ç™‚åŠ¹æœ <strong>differs</strong> between subgroups defined by the covariate.
                    <br/><br/>
                    ãã†ã§ãªã„å ´åˆ: æ²»ç™‚åŠ¹æœã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ <strong>similar</strong> across subgroups
                    (or you lack power to detect a difference).
                  </div>
</div>
</div>
</div>
<!-- Slide 9.4: Within vs Between Study Interactions -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">é‡è¦ãªé•ã„</div>
<div class="compare-grid animate delay-1">
<div class="compare-box aggregate">
<h4>Between-Study Interaction</h4>
<ul>
<li>Compares trial-level averages</li>
<li>Ecological fallacy risk</li>
<li>Confounded by trial design</li>
<li>Low statistical power</li>
<li>é›†è¨ˆãƒ‡ãƒ¼ã‚¿ã§å¯èƒ½</li>
</ul>
</div>
<div class="compare-box ipd">
<h4>Within-Study Interaction</h4>
<ul>
<li>Compares patients within each trial</li>
<li>No ecological fallacy</li>
<li>Randomization preserved</li>
<li>Much higher power</li>
<li>Requires IPD</li>
</ul>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">é‡è¦ãªæ´å¯Ÿ</div>
<div class="simple-text">
                    IPD ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€æ¬¡ã®ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ãƒ†ã‚¹ãƒˆ <strong>within-study interactions</strong>,
                    where randomization ensures the comparison is fair.
                    <br/><br/>
                    ã“ã‚Œã¯åŠ¹æœä¿®æ­£ã®ã‚´ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã§ã™ã€‚
                  </div>
</div>
</div>
</div>
<!-- Slide 9.5: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-interaction">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">å¹´é½¢ç›¸äº’ä½œç”¨ã®è³ªå•</span>
</div>
<div class="scenario-situation">
                    å¿ƒæˆ¿ç´°å‹•ã«å¯¾ã™ã‚‹æŠ—å‡å›ºç™‚æ³•ã® IPD ãƒ¡ã‚¿åˆ†æã«ã¯ 12,000 äººã®æ‚£è€…ãŒå«ã¾ã‚Œã¦ãŠã‚Šã€å¹´é½¢ç›¸äº’ä½œç”¨ã‚’ãƒ†ã‚¹ãƒˆã—ãŸã¨ã“ã‚ã€p=0.03 ã§ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚
                    <br/><br/>
                    åˆ†æã§ã¯ 8 ã¤ã®æ½œåœ¨çš„ãªåŠ¹æœä¿®é£¾å› å­ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã—ãŸã€‚
                  </div>
<div class="scenario-question">ã“ã®çµæœã‚’ã©ã®ã‚ˆã†ã«è§£é‡ˆã—ã¾ã™ã‹?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('interaction', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">æŠ—å‡å›ºç™‚æ³•ã¯é«˜é½¢æ‚£è€…ã®æ–¹ãŒã‚ˆãåŠ¹ãã¨ã„ã†å ±å‘Š - ç›¸äº’ä½œç”¨ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚é‡è¦</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('interaction', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">Apply multiple testing correction; with 8 tests, p=0.03 is likely a false positive</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('interaction', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">Report as hypothesis-generating, note the multiple comparisons, request external validation</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-interaction"></div>
</div>
</div>
</div>
<!-- Slide 9.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  ã€Œå¹³å‡ã¯ç›¸äº’ä½œç”¨ã‚’éš ã—ã¾ã™ã€‚<br/>
                  The interaction reveals who benefits.<br/>
                  ç ”ç©¶é–“ã§ã¯ãªãç ”ç©¶å†…ã§ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ã€‚<br/>
                  ãã“ã«çœŸå®ŸãŒè¦‹ã¤ã‹ã‚‹ã‹ã‚‰ã§ã™ã€‚ã€
                </div>
</div>
</div>
</div>
 ==================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 10:äºˆå¾Œã¨äºˆæ¸¬ ==================== 
<div class="module-slides" data-module="10">
<!-- Slide 10.1: Opening -->
<div class="slide dark active">
<div class="content text-center">
<div class="rhetorical animate">
                  IPD ã¯æ²»ç™‚ã ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br/>
<br/>
                  æ±‚ã‚ã‚‹å ´åˆã¯ <em>predict</em> who will die,<br/>
                  who will recover, who will relapseâ€”<br/>
<em>å€‹äººãŒã™ã¹ã¦ã§ã™</em>.
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 10.2: å½±éŸ¿ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Predicting Recovery After Brain Injury</div>
<div class="story-card animate delay-1">
<div class="place">IMPACT CONSORTIUM, 2005-PRESENT</div>
<div class="narrative">
                    å¤–å‚·æ€§è„³æå‚·ã®å¾Œã€å®¶æ—ã¯å£Šæ»…çš„ãªè³ªå•ã‚’ã—ã¾ã™ã€‚
                    <br/><br/>
<strong>"Will they ever wake up?"</strong>
<br/><br/>
                    Individual trials were too small to develop accurate prediction models.
                    <br/><br/>
                    IMPACT ã¯ 11 ä»¶ã®ç ”ç©¶ã€9,205 äººã®æ‚£è€…ã‹ã‚‰ IPD ã‚’åé›†ã—ã€åˆæœŸã®è‡¨åºŠç—‡çŠ¶ã‹ã‚‰ 6 ã‹æœˆå¾Œã®è»¢å¸°ã‚’äºˆæ¸¬ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚
                  </div>
<div class="source">IMPACT Study Group. PLoS Med 2008;5:e165</div>
</div>
</div>
</div>
<!-- Slide 10.3: Why IPD for Prognosis -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Why Prognosis Demands IPD</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>External Validation Across Populations</h4>
<p>Develop in some studies, validate in others. True test of generalizability.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Non-linear Relationships</h4>
<p>Explore how predictors relate to outcome: linear? threshold? U-shaped?</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Multiple Predictor Interactions</h4>
<p>Age + GCS + pupil reactivity may interact in ways aggregate data cannot reveal</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number">4</div>
<div class="lesson-content">
<h4>Proper Handling of Missing Predictors</h4>
<p>ç ”ç©¶ã§ã¯ãªãæ‚£è€…ãƒ¬ãƒ™ãƒ«ã§ã®å¤šé‡ä»£å…¥ãƒ¬ãƒ™ãƒ«</p>
</div>
</div>
</div>
</div>
<!-- Slide 10.4: The TRIPOD+PRISMA-IPD Framework -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Reporting Standards</div>
<div class="compare-grid animate delay-1">
<div class="compare-box aggregate">
<h4>TRIPOD</h4>
<ul>
<li>Prediction model reporting</li>
<li>é–‹ç™ºã¨æ¤œè¨¼</li>
<li>æ ¡æ­£ã¨è­˜åˆ¥</li>
<li>22 item checklist</li>
</ul>
</div>
<div class="compare-box ipd">
<h4>PRISMA-IPD</h4>
<ul>
<li>IPD meta-analysis reporting</li>
<li>ãƒ‡ãƒ¼ã‚¿å–å¾—ã®è©³ç´°</li>
<li>Harmonization process</li>
<li>Integrity checking</li>
</ul>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">IPD äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«</div>
<div class="simple-text">
                    You need <strong>both</strong>: ãƒ¢ãƒ‡ãƒ«è‡ªä½“ã«ã¯ TRIPODã€ãƒ‡ãƒ¼ã‚¿ã«ã¯ PRISMA-IPDåˆæˆãƒ—ãƒ­ã‚»ã‚¹ã€‚
                  </div>
</div>
</div>
</div>
<!-- Slide 10.5: Clinical Impact -->
<div class="slide hope">
<div class="content text-center">
<div class="title green animate">When Prediction Saves Lives</div>
<div class="story-card animate delay-1">
<div class="place">è‡¨åºŠã€‚å½±éŸ¿</div>
<div class="narrative">
                    The IMPACT model is now embedded in clinical decision support systems worldwide.
                    <br/><br/>
                    å¤–å‚·æ€§è„³æå‚·ã‚’è² ã£ãŸæ‚£è€…ãŒæ¥é™¢ã™ã‚‹ã¨ã€ãƒ¢ãƒ‡ãƒ«ã¯ <strong>probability of survival</strong>
                    and <strong>probability of favorable outcome</strong>.
                    <br/><br/>
                    ã‚’æä¾›ã—ã€å®¶æ—ã¨ã®ä¼šè©±ã‚’ã‚¬ã‚¤ãƒ‰ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šæ²»ç™‚ã®å¼·åº¦ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€ICU ãƒªã‚½ãƒ¼ã‚¹ã®å‰²ã‚Šå½“ã¦ã«å½¹ç«‹ã¡ã¾ã™ã€‚
                    <br/><br/>
<strong>å€‹ã€…ã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æ§‹ç¯‰ã•ã‚Œã¾ã™ã€‚å€‹ã€…ã®æ‚£è€…ã«ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚</strong>
</div>
</div>
</div>
</div>
<!-- Slide 10.6: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain hope animate">
                  "To predict one patient's future,<br/>
                  ä½•åƒã‚‚ã®éå»ã‹ã‚‰å­¦ã°ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚<br/>
                  IPD ã¯ã“ã‚Œã‚‰ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ä¿æŒã—ã¦ã„ã¾ã™â€”<br/>
                  each one a teacher, if you will listen."
                </div>
</div>
</div>
</div>
 ==================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 11: ã‚¢ã‚¹ãƒ”ãƒªãƒ³ã®ãƒ‘ãƒ©ãƒ‰ãƒƒã‚¯ã‚¹ (ATT) ==================== 
<div class="module-slides" data-module="11">
<!-- Slide 11.1: Opening Sign -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  å½¼ã‚‰ã®å¿ƒè‡“ã®ãŸã‚ã«<br/>
                  ã«ä¸ãˆã‚‰ã‚ŒãŸå°ã•ãªç™½ã„ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ <em>millions</em> ã«ã¤ã„ã¦è€ƒãˆã¦ã¿ã¾ã›ã‚“ã‹?<br/>
<br/>
                  è¨€ã£ãŸ: <em>ã€Œã“ã‚Œã‚’å—ã‘å–ã‚Œã°ã€ã‚ãªãŸã¯å®ˆã‚‰ã‚Œã¾ã™ã€‚ã€</em><br/>
<br/>
                  But was every heart equally in need of protection?
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 11.2: Netflix è³ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Netflix è³ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼</div>
<div class="story-card animate delay-1">
<div class="place">A TRUE STORY</div>
<div class="narrative">
                    In 2006, Netflix released 100 million "anonymized" movie ratings for a $1 million prize.
                    <br/><br/>
                    Researchers quickly re-identified users by matching ratings with public IMDb reviews.
                    <br/><br/>
                    One lawsuit alleged a closeted lesbian was outed through her viewing patterns.
                    <br/><br/>
<strong>The lesson: removing names isn't anonymization.</strong>
<br/><br/>
                    IPD ã«ã¯ã€å€‹äººã‚’ä¸€æ„ã«è­˜åˆ¥ã™ã‚‹ã®ã«ååˆ†ãªå¹´é½¢ã€è¨ºæ–­ã€æ²»ç™‚åå¿œã€ãŠã‚ˆã³æ—¥ä»˜ã®çµ„ã¿åˆã‚ã›ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã«ã¯ã€åå‰åˆ—ã‚’å‰Šé™¤ã™ã‚‹ã ã‘ã§ã¯ä¸ååˆ†ã§ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã®çµ„ã¿åˆã‚ã›ãŒã©ã®ã‚ˆã†ã«æŒ‡ç´‹ã«ãªã‚‹ã®ã‹ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
                  </div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 11.3: ATT ã®ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">Oxford, 2009</div>
<div class="story-card animate delay-1">
<div class="place">ANTITHROMBOTIC TRIALISTS' COLLABORATION</div>
<div class="narrative">
                    ATT ã¯ã€ <strong>95,000 patients</strong>
                    across 6 primary prevention trials of aspirin.
                    <br/><br/>
                    The published trials said: "Aspirin prevents heart attacks."
                    <br/><br/>
                    ã‹ã‚‰å€‹ã€…ã®ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã—ã¾ã—ãŸãŒã€ATT ã¯ç¦æ–­ã®è³ªå•ã‚’ã—ã¾ã—ãŸã€‚
                    <br/><br/>
<strong>ã€Œã‚³ã‚¹ãƒˆã¯ã„ãã‚‰ã§ã™ã‹?èª°?"</strong>
</div>
<div class="source">ATT Collaboration. Lancet 2009;373:1849-60</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 11.4: æš´éœ² 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">æ˜ã‚‰ã‹ã«ãªã£ãŸæ•°å­—</div>
<div class="stats-grid animate delay-1">
<div class="stat-box" style="border: 2px solid var(--green);">
<div class="stat-value" style="color:var(--green);">-12%</div>
<div class="stat-label">Heart Attacks Prevented</div>
</div>
<div class="stat-box" style="border: 2px solid var(--red);">
<div class="stat-value" style="color:var(--red);">+32%</div>
<div class="stat-label">Major Bleeds Caused</div>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">THE BALANCE</div>
<div class="simple-text">
                    For every <strong>1,000 low-risk patients</strong> 5 å¹´é–“ã®ã‚¢ã‚¹ãƒ”ãƒªãƒ³æœç”¨:
                    <br/><br/>
<span style="color:var(--green);">2-3 heart attacks prevented</span><br/>
<span style="color:var(--red);">2-3 major bleeds caused</span>
<br/><br/>
<strong>åˆ©ç›Šã¨å®³ã¯ç›¸æ®ºã•ã‚Œã¾ã™ã€‚</strong>
</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰11.5: æ„æ€æ±ºå®šãƒ„ãƒªãƒ¼ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ãƒªã‚¹ã‚¯ãƒ™ãƒ¼ã‚¹ã®æ±ºå®š</div>
<div class="decision-tree animate delay-1">
<h4>ã“ã®æ‚£è€…ã¯ä¸€æ¬¡äºˆé˜²ã®ãŸã‚ã«ã‚¢ã‚¹ãƒ”ãƒªãƒ³ã‚’æœç”¨ã™ã¹ãã‹?</h4>
<div class="tree-level">
<div class="tree-node root">10-Year CVD Risk?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 1rem;">
<div>
<div class="tree-node yes" style="background:rgba(34,197,94,0.3);">&gt;20%</div>
<div class="tree-label">High Risk</div>
</div>
<div>
<div class="tree-node question">10-20%</div>
<div class="tree-label">Intermediate</div>
</div>
<div>
<div class="tree-node no" style="background:rgba(197,48,48,0.3);">&lt;10%</div>
<div class="tree-label">Low Risk</div>
</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 1rem;">
<div class="tree-node action">Consider aspirin<br/>(benefit &gt; harm)</div>
<div class="tree-node aggregate">Shared decision<br/>(benefit â‰ˆ harm)</div>
<div class="tree-node" style="background:rgba(197,48,48,0.5);border-color:var(--red);">Avoid aspirin<br/>(harm &gt; benefit)</div>
</div>
</div>
</div>
</div>
<!-- Slide 11.6: Why Aggregate Failed -->
<div class="slide dark">
<div class="content text-center">
<div class="rhetorical animate">
                  Why did published meta-analyses miss this?
                </div>
<div class="simple-box animate delay-1">
<div class="simple-title">é›†åˆä½“ã®ç›²ç›®</div>
<div class="simple-text">
                    Published trials reported <strong>average benefits</strong>.
                    <br/><br/>
                    å½¼ã‚‰ã¯ã€é«˜ãƒªã‚¹ã‚¯ã®æ‚£è€…ãŒã€ç²å¾—<br/>
                    while low-risk patients lost.
                    <br/><br/>
                    Only by examining each patient's baseline risk,<br/>
                    each patient's outcomes,<br/>
                    could the <strong>interaction</strong> be revealed.
                  </div>
</div>
</div>
</div>
<!-- Slide 11.7: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-aspirin">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">ä¸€æ¬¡äºˆé˜²ã®ã‚¸ãƒ¬ãƒ³ãƒ</span>
</div>
<div class="scenario-situation">
                    52 æ­³ã®ç”·æ€§ãŒã€å¿ƒè‡“ç™ºä½œäºˆé˜²ã®ãŸã‚ã®ã‚¢ã‚¹ãƒ”ãƒªãƒ³ã«ã¤ã„ã¦å°‹ã­ã¾ã™ã€‚å½¼ã«ã¯CVDã®æ—¢å¾€ã¯ãªãã€ã‚³ãƒ¬ã‚¹ãƒ†ãƒ­ãƒ¼ãƒ«ã¯å¢ƒç•Œç·šã«ã‚ã‚Šã€è¡€åœ§ã¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã•ã‚Œã¦ãŠã‚Šã€éå–«ç…™è€…ã§ã‚ã‚‹ã€‚å½¼ã® 10 å¹´é–“ã® CVD ãƒªã‚¹ã‚¯ã¯ 8% ã§ã™ã€‚
                    <br/><br/>
                    å½¼ã¯ã€Œã‚¢ã‚¹ãƒ”ãƒªãƒ³ãŒå¿ƒè‡“ç™ºä½œã‚’äºˆé˜²ã™ã‚‹ã€ã¨ã„ã†æƒ…å ±ã‚’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§èª­ã‚“ã§ã€ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æ±‚ã‚ã¦ã„ã¾ã™ã€‚
                  </div>
<div class="scenario-question">å½¼ã«ä½•ã¨è¨€ã„ã¾ã™ã‹?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('aspirin', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">"Yes, take aspirin daily - it's proven to prevent heart attacks"</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('aspirin', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">"At your risk level, aspirin's bleeding risk roughly equals its heart benefit - I'd recommend against it"</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('aspirin', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">"Take baby aspirin - the lower dose is safer"</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-aspirin"></div>
</div>
</div>
</div>
<!-- Slide 11.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain warning animate">
                  ã€Œçµ¶æ»…ã®å±æ©Ÿã«ç€•ã—ã¦ã„ã‚‹äººãŸã¡ã‚’æ•‘ã†è–¬<br/>
                  ã¯ã€äººä½“ã«å®³ã‚’åŠã¼ã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã€å®‰å…¨ã§ã™ã€‚<br/>
<br/>
                  å‡¦æ–¹ã™ã‚‹å‰ã«æ‚£è€…ã®ãƒªã‚¹ã‚¯ã‚’çŸ¥ã£ã¦ãã ã•ã„ã€‚<br/>
                  ã“ã‚ŒãŒå€‹ã€…ã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æ•™ãˆã‚‰ã‚ŒãŸã“ã¨ã§ã™ã€‚"
                </div>
<div class="gold-line animate delay-2"></div>
<p class="animate delay-3" style="color:rgba(255,255,255,0.6);font-style:italic;">
                  95,000 patients. One truth: risk determines benefit.
                </p>
</div>
</div>
</div>
 =================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 12: è¡€åœ§ã®è§£æ˜ (BPLTTC) ==================== 
<div class="module-slides" data-module="12">
<!-- Slide 12.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  ä½•åå¹´ã‚‚ã®é–“ã€å½¼ã‚‰ãŒã©ã®ã‚ˆã†ã«è­°è«–ã—ã¦ã„ãŸã‹è¦‹ãŸã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“:<br/>
<em>ã€Œè€äººã¯è‹¥è€…ã¨åŒã˜ã‚ˆã†ã«æ‰±ã‚ã‚Œã‚‹ã¹ãã§ã™ã‹?ã€</em><br/>
<br/>
                  Some said: "Lower is always better."<br/>
                  ä»–ã®äººãŸã¡ã¯è¨€ã„ã¾ã—ãŸã€‚ã€Œè€äººã¯å£Šã‚Œã‚„ã™ã„ã€‚æ…é‡ã§ã™ã€‚ã€<br/>
<br/>
                  èª°ãŒæ­£ã—ã‹ã£ãŸã§ã—ã‚‡ã†ã‹?
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 12.2: è­°è«– 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">J ã‚«ãƒ¼ãƒ–è«–äº‰</div>
<div class="story-card animate delay-1">
<div class="place">CARDIOLOGY CONFERENCES, 1980s-2000s</div>
<div class="narrative">
                    ä½•å¹´ã‚‚ã®é–“ã€åŒ»å¸«ãŸã¡ã¯æ¬¡ã®ã‚ˆã†ã«ä¸»å¼µã—ã¾ã—ãŸ:
                    <br/><br/>
<strong>æ”»æ’ƒé™£å–¶:</strong> "Every mmHg of BP reduction saves lives.<br/>
                    Treat everyone to target 120/80."
                    <br/><br/>
<strong>ä¿å®ˆæ´¾ã‚­ãƒ£ãƒ³ãƒ—:</strong> "In the elderly, low BP causes falls, strokes, death.<br/>
                    There's a J-curveâ€”too low is dangerous."
                    <br/><br/>
                    Individual trials were too small to settle it.
                    <strong>BPLTTC ãŒå€‹åˆ¥ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã™ã‚‹ã¾ã§ã€‚</strong>
</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 12.3: ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">The Blood Pressure Lowering Treatment Trialists</div>
<div class="stats-grid animate delay-1">
<div class="stat-box">
<div class="stat-value" style="color:var(--blue);">48</div>
<div class="stat-label">Trials Combined</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--gold);">344,716</div>
<div class="stat-label">Individual Patients</div>
</div>
<div class="stat-box">
<div class="stat-value" style="color:var(--teal);">15+</div>
<div class="stat-label">Years of Follow-up</div>
</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">THE QUESTION</div>
<div class="simple-text">
                    Does the benefit of BP lowering vary by age?
                    <br/>
                    Is there a J-curve at very low pressures?
                    <br/>
                    Do the very old (&gt;80 years) still benefit?
                  </div>
</div>
<div class="source animate delay-3" style="color:rgba(255,255,255,0.5);font-size:0.8rem;margin-top:1rem;">
                  BPLTTC. Lancet 2021;397:1625-36
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 12.4: ç­”ãˆ 
<div class="slide hope">
<div class="content text-center">
<div class="title green animate">ã¤ã„ã«ç­”ãˆãŒå®Œæˆ</div>
<div class="discovery-box animate delay-1">
<div class="insight">Benefit at Every Age</div>
<div class="label">æ¯”ä¾‹ãƒªã‚¹ã‚¯å‰Šæ¸›55 æ­³ã‹ã‚‰ 85 æ­³ã¾ã§ä¸€è²«ã—ã¦ã„ã¾ã—ãŸ +</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">WHAT IPD SHOWED</div>
<div class="simple-text">
<strong>Every 5 mmHg BP reduction:</strong>
<br/><br/>
                    Age 55-64: 10% lower major CV events<br/>
                    Age 65-74: 10% lower major CV events<br/>
                    Age 75-84: 10% lower major CV events<br/>
                    Age â‰¥85: <strong>Still 10% lower</strong>
<br/><br/>
<em>p</em><sub>interaction</sub> = 0.85ã€‚å¹´é½¢å¤‰åŒ–ã®è¨¼æ‹ ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                  </div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 12.5: J ã‚«ãƒ¼ãƒ–ã®ç¥è©± 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">J ã‚«ãƒ¼ãƒ–ã«ã¤ã„ã¦ã¯ã©ã†ã§ã™ã‹?</div>
<div class="story-card animate delay-1">
<div class="place">THE RESOLUTION</div>
<div class="narrative">
                    BPLTTC ã¯æ‚£è€…ã‚’æ¤œæŸ»ã—ã¦ J ã‚«ãƒ¼ãƒ–ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã—ãŸ<br/>
                    who achieved very low blood pressures.
                    <br/><br/>
<strong>Result:</strong> No J-curve in randomized comparisons.
                    <br/><br/>
                    è¦³å¯Ÿãƒ‡ãƒ¼ã‚¿ã«ãŠã‘ã‚‹è¦‹ã‹ã‘ã® J ã‚«ãƒ¼ãƒ– <em>reverse causation</em>â€”
                    sick patients have low BP because they're sick,
                    not sick because their BP is low.
                    <br/><br/>
<strong>RCT ã® IPD ã ã‘ãŒã“ã‚Œã‚’è§£ãæ˜ã‹ã™ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</strong>
</div>
</div>
</div>
</div>
<!-- Slide 12.6: Decision Tree -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Treating Hypertension by Age</div>
<div class="decision-tree animate delay-1">
<h4>Should This Elderly Patient Get BP Treatment?</h4>
<div class="tree-level">
<div class="tree-node root">Patient Age?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 2rem;">
<div class="tree-node yes" style="min-width:80px;">55-74</div>
<div class="tree-node yes" style="min-width:80px;">75-84</div>
<div class="tree-node yes" style="min-width:80px;">85+</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level">
<div class="tree-node action" style="background:var(--green);min-width:300px;">
                      Treat if BP elevated<br/>
<span style="font-size:0.75rem;">Proportional benefit maintained across all ages</span>
</div>
</div>
</div>
<div class="simple-box animate delay-2" style="margin-top:1.5rem;">
<div class="simple-title">THE LESSON</div>
<div class="simple-text">
                    Age alone is not a reason to withhold treatment.
                    <br/>
                    Consider frailty, life expectancy, patient preferenceâ€”but not age.
                  </div>
</div>
</div>
</div>
<!-- Slide 12.7: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-elderly-bp">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">82 æ­³ã®è¡€åœ§</span>
</div>
<div class="scenario-situation">
                    82 æ­³ã®å¥³æ€§ã®è¡€åœ§ã¯ 158/88 ã§ã™ã€‚å½¼å¥³ã¯è‡ªç«‹ã—ã¦ãŠã‚Šã€èªçŸ¥æ©Ÿèƒ½ã«å•é¡Œã¯ãªãã€è»¢å€’æ­´ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚åŒåƒšã®ä¸€äººãŒè¨€ã†:ã€Œå½¼å¥³ã¯ç©æ¥µçš„ãªè¡€åœ§æ²»ç™‚ã«ã¯å¹´ã‚’ã¨ã‚Šã™ãã¦ã„ã¾ã™ã€‚J ã‚«ãƒ¼ãƒ–ã§ã™ã€‚ã€
                    <br/><br/>
                    BPLTTC IPD ãƒ¡ã‚¿åˆ†æã‚’è¦šãˆã¦ã„ã¾ã™ã€‚
                  </div>
<div class="scenario-question">What do you do?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('elderly-bp', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">åŒåƒšã®æ„è¦‹ã«åŒæ„ - é«˜é½¢è€…ã«ã¯ã‚ˆã‚Šé«˜ã„è¡€åœ§ç›®æ¨™ã‚’å—ã‘å…¥ã‚Œã¾ã™</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('elderly-bp', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">è¶…é«˜é½¢è€…ã§ã‚‚åŠ¹æœãŒç¶šãã¨ã„ã† BPLTTC ã®è¨¼æ‹ ã‚’å¼•ç”¨ã—ã€æ²»ç™‚ã‚’é–‹å§‹ã—ã¾ã™æ²»ç™‚</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('elderly-bp', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">Wait for a cardiovascular event before treating</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-elderly-bp"></div>
</div>
</div>
</div>
<!-- Slide 12.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain hope animate">
                  ã€Œé«˜é½¢è€…ã¯è™šå¼±ã™ãã¦è–¬ãŒé£²ã‚ãªã„ã¨å½¼ã‚‰ã¯è¨€ã„ã¾ã—ãŸã€‚<br/>
                  ã—ã‹ã—ã€å€‹ã€…ã®ãƒ‡ãƒ¼ã‚¿ã¯ãã†ã§ã¯ãªã„ã“ã¨ã‚’ç¤ºã—ã¾ã—ãŸ:<br/>
<br/>
                  At every age, the benefit endures.<br/>
                  Do not let age alone deny protection."
                </div>
</div>
</div>
</div>
 ==================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 13: è„³å’ä¸­æ™‚é–“ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦=================== 
<div class="module-slides" data-module="13">
<!-- Slide 13.1: Opening Sign -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  æ™‚é–“ã¨ã®å‹è² ã‚’ç›®æ’ƒã—ãŸã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã‹<br/>
                  when a clot blocks the brain?<br/>
<br/>
                  Every minute, <em>two million neurons die</em>.<br/>
<br/>
                  But when does the window close?<br/>
                  When is it too late to intervene?
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 13.2: ã‚¹ãƒ†ãƒ¼ã‚¯ã‚¹ 
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">Time Is Brain</div>
<div class="stats-grid animate delay-1">
<div class="stat-box" style="border: 2px solid var(--red);">
<div class="stat-value" style="color:var(--red);">1.9M</div>
<div class="stat-label">Neurons Lost Per Minute</div>
</div>
<div class="stat-box" style="border: 2px solid var(--orange);">
<div class="stat-value" style="color:var(--orange);">14B</div>
<div class="stat-label">Synapses Lost Per Minute</div>
</div>
</div>
<div class="story-card animate delay-2">
<div class="place">THE QUESTION</div>
<div class="narrative">
                    è¡€æ “æº¶è§£ç™‚æ³•ã¯è¡€æ “ã‚’æº¶è§£ã—ã€è¡€æµã‚’å›å¾©ã—ã¾ã™ã€‚
                    <br/><br/>
                    But given too late, it causes bleeding into dying brain tissue.
                    <br/><br/>
<strong>What is the time window? 3 hours? 4.5 hours? 6 hours?</strong>
<br/><br/>
                    Individual trials disagreed. Guidelines were uncertain.
                  </div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰13.3: IPD ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">è„³å’ä¸­è¡€æ “æº¶è§£ç™‚æ³•ã®ãƒˆãƒ©ã‚¤ã‚¢ãƒ«æ‹…å½“è€…</div>
<div class="story-card animate delay-1">
<div class="place">STT COLLABORATIVE GROUP, 2014</div>
<div class="narrative">
                    STT ã¯ <strong>6,756 patients</strong>
                    across 9 major alteplase trials.
                    <br/><br/>
                    They knew <em>exactly</em> when each patient's stroke began.
                    They knew <em>exactly</em> when thrombolysis was given.
                    They knew <em>exactly</em> who lived, who died, who recovered.
                    <br/><br/>
<strong>They could map benefit against time, minute by minute.</strong>
</div>
<div class="source">STT Collaborative Group. Lancet 2014;384:1929-35</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 13.4: æ™‚é–“æ›²ç·š 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ãƒ•ã‚§ãƒ¼ã‚¸ãƒ³ã‚°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦</div>
<div class="stats-grid animate delay-1">
<div class="stat-box" style="border: 2px solid var(--green);">
<div class="stat-value" style="color:var(--green);">0-3h</div>
<div class="stat-label">ORè‰¯å¥½ãªçµæœã®å ´åˆã¯ 1.75</div>
</div>
<div class="stat-box" style="border: 2px solid var(--teal);">
<div class="stat-value" style="color:var(--teal);">3-4.5h</div>
<div class="stat-label">ã€ã¾ãŸã¯è‰¯å¥½ãªçµæœã®å ´åˆã¯ 1.26</div>
</div>
<div class="stat-box" style="border: 2px solid var(--orange);">
<div class="stat-value" style="color:var(--orange);">4.5-6h</div>
<div class="stat-label">OR 1.15 (not significant)</div>
</div>
</div>
<div class="simple-box animate delay-2">
<div class="simple-title">åˆ©ç›Šã®æ¸›å°‘</div>
<div class="simple-text">
                    Every 15 minutes of delay reduced the benefit.
                    <br/><br/>
                    Treated at 90 min: <strong>1 in 4</strong> achieve excellent outcome<br/>
                    Treated at 180 min: <strong>1 in 7</strong> achieve excellent outcome<br/>
                    Treated at 270 min: <strong>1 in 14</strong> achieve excellent outcome
                  </div>
</div>
</div>
</div>
<!-- Slide 13.5: Decision Tree -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">è¡€æ “æº¶è§£ç™‚æ³•ã®æ±ºå®š</div>
<div class="decision-tree animate delay-1">
<h4>Acute Ischemic Stroke: Give Thrombolysis?</h4>
<div class="tree-level">
<div class="tree-node root">Time Since Symptom Onset?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 0.75rem;">
<div>
<div class="tree-node yes" style="background:rgba(34,197,94,0.5);min-width:90px;">0-3h</div>
<div class="tree-label">Strong benefit</div>
</div>
<div>
<div class="tree-node yes" style="background:rgba(0,212,170,0.4);min-width:90px;">3-4.5h</div>
<div class="tree-label">Moderate benefit</div>
</div>
<div>
<div class="tree-node question" style="min-width:90px;">4.5-6h</div>
<div class="tree-label">Uncertain</div>
</div>
<div>
<div class="tree-node no" style="background:rgba(197,48,48,0.5);min-width:90px;">&gt;6h</div>
<div class="tree-label">Harm likely</div>
</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 0.75rem;">
<div class="tree-node action" style="font-size:0.7rem;padding:0.5rem;">TREAT<br/>URGENTLY</div>
<div class="tree-node action" style="font-size:0.7rem;padding:0.5rem;">TREAT<br/>if eligible</div>
<div class="tree-node aggregate" style="font-size:0.7rem;padding:0.5rem;">Consider<br/>imaging</div>
<div class="tree-node" style="background:rgba(197,48,48,0.5);font-size:0.7rem;padding:0.5rem;">Generally<br/>avoid</div>
</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 13.6: ãªãœ AD ã¯ã§ããªã‹ã£ãŸã®ã‹å›ç­” 
<div class="slide dark">
<div class="content text-center">
<div class="rhetorical animate">
                  Why did we need individual data?
                </div>
<div class="simple-box animate delay-1">
<div class="simple-title">å¹³å‡ã®é™ç•Œ</div>
<div class="simple-text">
                    Trial A: "Patients treated within 3 hours" (average: 2.1 hours)<br/>
                    Trial B: "Patients treated within 6 hours" (average: 4.2 hours)
                    <br/><br/>
                    These <em>overlapping, inconsistent windows</em> couldn't be compared.
                    <br/><br/>
                    Only by knowing <strong>each patient's exact time</strong><br/>
                    could the continuous decay of benefit be mapped.
                  </div>
</div>
</div>
</div>
<!-- Slide 13.7: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-stroke">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">4 æ™‚é–“ã®è„³å’ä¸­</span>
</div>
<div class="scenario-situation">
                    ç—‡çŠ¶ã®ç™ºç—‡ã¯ 4 æ™‚é–“å‰ã§ã€NIHSS ã‚¹ã‚³ã‚¢ã¯ 12 (ä¸­ç¨‹åº¦) ã§ã—ãŸã€‚ ã€Œè¡€æ “ã‚’ç ´å£Šã™ã‚‹è–¬ã§ã¯æ‰‹é…ã‚Œã§ã™ã‹ï¼Ÿã€ã¨å°‹ã­ã¾ã™ã€‚
                    <br/><br/>
                    Door-to-needle time will add 30 minutes, making total time ~4.5 hours.
                  </div>
<div class="scenario-question">What do you do?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('stroke', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">"It's too late - the 3-hour window has passed"</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('stroke', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">ã€Œã¾ã  4.5 æ™‚é–“ä»¥å†…ã§ã™ - è¡€æ “æº¶è§£ç™‚æ³•ã‚’ç·Šæ€¥ã«é€²ã‚ã¦ãã ã•ã„ã€‚ã€</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('stroke', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">"Wait for MRI to see if there's salvageable tissue"</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-stroke"></div>
</div>
</div>
</div>
<!-- Slide 13.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain warning animate">
                  "Every minute the clot remains,<br/>
                  two million neurons perish.<br/>
<br/>
                  IPD ã¯ãƒ•ã‚§ãƒ¼ã‚¸ãƒ³ã‚° ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ç¤ºã—ã¾ã—ãŸã€‚<br/>
                  Act quickly, or the window closes forever."
                </div>
</div>
</div>
</div>
 ==================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 14: IPD ã®ãƒ‡ãƒ¼ã‚¿ãŒæ¬ è½ã—ã¦ã„ã¾ã™==================== 
<div class="module-slides" data-module="14">
<!-- Slide 14.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  ã‚ãªãŸã¯å€‹äººã‚’é›†ã‚ã¾ã—ãŸãƒ‡ãƒ¼ã‚¿ã€‚<br/>
                  å¸Œæœ›ã‚’æŒã£ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã¾ã™ã€‚<br/>
<br/>
                  ãã—ã¦æ¬¡ã®ã‚‚ã®ãŒè¡¨ç¤ºã•ã‚Œã¾ã™: <em>empty cells</em>.<br/>
<br/>
                  Age: 67. Sex: Male. Smoking status: <em>missing</em>.<br/>
                  Outcome at 1 year: <em>missing</em>.<br/>
<br/>
                  What now?
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 14.2: 3 ã¤ã®ã‚¿ã‚¤ãƒ— 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ã® 3 ç¨®é¡æ¬ æ</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--green);">1</div>
<div class="lesson-content">
<h4>Missing Completely at Random (MCAR)</h4>
<p>Lab machine broke randomly. No relation to patient characteristics. <strong>Safe to ignore (but wasteful).</strong></p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--orange);">2</div>
<div class="lesson-content">
<h4>Missing at Random (MAR)</h4>
<p>Older patients more likely to miss follow-up. Missingness related to <em>observed</em> variables. <strong>Imputation can help.</strong></p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--red);">3</div>
<div class="lesson-content">
<h4>ãƒ©ãƒ³ãƒ€ãƒ ã§ã¯ãªã„æ¬ æ (MNAR)</h4>
<p>è»¢å¸°ä¸è‰¯ã®æ‚£è€…ã¯è„±è½ã—ã¾ã™ã€‚ <em>missing value itself</em>. <strong>ã«é–¢é€£ã™ã‚‹æ¬ è½ã¯å±é™ºã§ã™ã€‚æ„Ÿåº¦åˆ†æãŒå¿…è¦ã§ã™ã€‚</strong></p>
</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 14.3: ãƒ‡ã‚·ã‚¸ãƒ§ãƒ³ ãƒ„ãƒªãƒ¼ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">æ¬ æãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†</div>
<div class="decision-tree animate delay-1">
<h4>æ¬ æå€¤ã‚’ã©ã†ã™ã‚‹ã‹?</h4>
<div class="tree-level">
<div class="tree-node root">How much is missing?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 1.5rem;">
<div>
<div class="tree-node yes" style="background:rgba(34,197,94,0.3);">&lt;5%</div>
<div class="tree-label">Minor</div>
</div>
<div>
<div class="tree-node question">5-20%</div>
<div class="tree-label">Moderate</div>
</div>
<div>
<div class="tree-node no" style="background:rgba(197,48,48,0.3);">&gt;20%</div>
<div class="tree-label">Substantial</div>
</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 1.5rem;">
<div class="tree-node action" style="font-size:0.75rem;">Complete case<br/>may suffice</div>
<div class="tree-node ipd" style="font-size:0.75rem;">Multiple<br/>imputation</div>
<div class="tree-node aggregate" style="font-size:0.75rem;">Impute +<br/>sensitivity</div>
</div>
</div>
</div>
</div>
<!-- Slide 14.4: Multiple Imputation -->
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">è¤‡æ•°ä»£å…¥: æ¨™æº–</div>
<div class="formula-box animate delay-1">
<div class="label">THE PROCESS</div>
<div class="formula">1. Impute â†’ 2. Analyze â†’ 3. Pool</div>
<div class="label">Create M imputed datasets, analyze each, combine using Rubin's rules</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">WHY MULTIPLE?</div>
<div class="simple-text">
                    å˜ä¸€è£œå®Œã¯ã€æ¬ æå€¤ã‚’çŸ¥ã£ã¦ã„ã‚‹ãµã‚Šã‚’ã—ã¾ã™ã€‚
                    <br/><br/>
                    Multiple imputation (M=20-50 datasets) reflects <strong>uncertainty</strong>
                    æ¬ æå€¤ãŒä½•ã§ã‚ã£ãŸã‹ã«ã¤ã„ã¦ã€‚
                    <br/><br/>
                    ã“ã‚Œã«ã‚ˆã‚Šã€æœ‰åŠ¹ãªæ¨™æº–èª¤å·®ã¨ p å€¤ãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚
                  </div>
</div>
</div>
</div>
<!-- Slide 14.5: IPD-Specific Issues -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">IPD å›ºæœ‰ã®æ¬ æãƒ‡ãƒ¼ã‚¿ã®èª²é¡Œ</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number">1</div>
<div class="lesson-content">
<h4>Systematically Missing Variables</h4>
<p>Trial A measured biomarker X. Trial B didn't. Can't impute what was never collected.</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number">2</div>
<div class="lesson-content">
<h4>Multilevel Structure</h4>
<p>Patients nested within trials. Imputation model must account for clustering.</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number">3</div>
<div class="lesson-content">
<h4>Different Follow-up Durations</h4>
<p>ãƒˆãƒ©ã‚¤ã‚¢ãƒ« A ã¯ 2 å¹´é–“ç¶šãã¾ã—ãŸã€‚ãƒˆãƒ©ã‚¤ã‚¢ãƒ«Bã¯5å¹´é–“ã€‚ç”Ÿå­˜åˆ†æã«ã¯æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚</p>
</div>
</div>
</div>
</div>
<!-- Slide 14.6: Decision Tree for Systematically Missing -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">When a Variable Is Missing Entirely</div>
<div class="decision-tree animate delay-1">
<h4>Trial Didn't Collect Your Key Covariate</h4>
<div class="tree-level">
<div class="tree-node root">Is it an effect modifier or confounder?</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 2rem;">
<div>
<div class="tree-node question">Effect Modifier</div>
<div class="tree-arrow">â†“</div>
<div class="tree-node aggregate" style="font-size:0.75rem;">Restrict interaction<br/>analysis to trials<br/>å¤‰æ•°</div>
</div>
<div>
<div class="tree-node question">Confounder</div>
<div class="tree-arrow">â†“</div>
<div class="tree-node ipd" style="font-size:0.75rem;">Sensitivity analysis<br/>varying assumptions<br/>about unmeasured</div>
</div>
</div>
</div>
</div>
</div>
<!-- Slide 14.7: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-missing">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">æ¬ è½ã—ã¦ã„ã‚‹ãƒã‚¤ã‚ªãƒãƒ¼ã‚«ãƒ¼</span>
</div>
<div class="scenario-situation">
                    ã‚’ä½¿ç”¨ã—ã¦ã€IPD-MA ã¯ã€ãƒã‚¤ã‚ªãƒãƒ¼ã‚«ãƒ¼é™½æ€§æ‚£è€…ã«ãŠã„ã¦æ–°ã—ã„æŠ—ãŒã‚“å‰¤ãŒã‚ˆã‚Šã‚ˆãåŠ¹ãã‹ã©ã†ã‹ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚ 8 å›ã®è©¦é¨“ã§ IPD ã‚’å–å¾—ã—ã¾ã—ãŸã€‚ã—ã‹ã—ã€3 ã¤ã®è©¦é¨“ (æ‚£è€…ã® 40%) ã§ã¯ãƒã‚¤ã‚ªãƒãƒ¼ã‚«ãƒ¼ãŒã¾ã£ãŸãæ¸¬å®šã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚
                    <br/><br/>
                    ã“ã‚Œã‚‰ 3 ã¤ã®è©¦é¨“ã¯å¤ãã€å°è¦æ¨¡ã§ã‚ã‚‹å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚
                  </div>
<div class="scenario-question">ç›¸äº’ä½œç”¨ã‚’ã©ã®ã‚ˆã†ã«åˆ†æã—ã¾ã™ã‹?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('missing', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">Impute the biomarker status based on other patient characteristics</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('missing', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">ãƒã‚¤ã‚ªãƒãƒ¼ã‚«ãƒ¼ ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦ 5 ã¤ã®è©¦é¨“ã®ã¿ã§ç›¸äº’ä½œç”¨ã‚’åˆ†æã—ã¾ã™ã€‚å…¨ä½“çš„ãªåŠ¹æœã«é–¢ã™ã‚‹ã™ã¹ã¦ã®è©¦é¨“ã‚’å«ã‚€æ„Ÿåº¦åˆ†æ</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('missing', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">ãƒ¡ã‚¿åˆ†æã‹ã‚‰ 3 ã¤ã®è©¦é¨“ã‚’å®Œå…¨ã«é™¤å¤–ã—ã¾ã™</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-missing"></div>
</div>
</div>
</div>
<!-- Slide 14.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain animate">
                  ã€Œç©ºã®ã‚»ãƒ«ã¯ä½•ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚<br/>
                  It is a question: <em>ã“ã‚Œã¯ãªãœä¸æ˜ã§ã™ã‹?</em><br/>
<br/>
                  ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«è¨˜å…¥ã™ã‚‹å‰ã«ã€ãã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„ã€‚ã‚®ãƒ£ãƒƒãƒ—â€”<br/>
                  ä¸åœ¨ã®ç†ç”±ãŒè§£æ±ºç­–ã‚’å½¢æˆã—ã¾ã™ã€‚"
                </div>
</div>
</div>
</div>
 =================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 15: å¯ç”¨æ€§ã®ç½  ==================== 
<div class="module-slides" data-module="15">
<!-- Slide 15.1: Opening -->
<div class="slide black active">
<div class="content text-center">
<div class="rhetorical animate">
                  ç ”ç©¶è€…<br/>
                  èª°ãŒ <em>willing</em> trialists<br/>
                  ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã—ã€å‹åˆ©ã‚’å®£è¨€ã—ã¾ã—ãŸã‹?<br/>
<br/>
                  But the <em>unwilling</em> held secrets.<br/>
                  ãã—ã¦ãã‚Œã‚‰ã®ç§˜å¯†ãŒã™ã¹ã¦ã‚’å¤‰ãˆã¾ã—ãŸã€‚
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 15.2: ã‚¿ãƒŸãƒ•ãƒ«ã®ç‰©èª 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">ã‚¿ãƒŸãƒ•ãƒ«</div>
<div class="story-card animate delay-1">
<div class="place">A TRUE STORY</div>
<div class="narrative">
                    å„å›½æ”¿åºœã¯ä½•å¹´ã‚‚ã®é–“ã€ãƒ‘ãƒ³ãƒ‡ãƒŸãƒƒã‚¯ãƒ»ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶ã«å‚™ãˆã¦ã‚¿ãƒŸãƒ•ãƒ«ã‚’å‚™è“„ã—ã€æ•°åå„„ãƒ‰ãƒ«ã‚’è²»ã‚„ã—ãŸã€‚
                    <br/><br/>
                    Cochrane reviewers requested trial data to verify efficacy. Roche refused, citing confidentiality.
                    <br/><br/>
                    5å¹´é–“ã€BMJã¯é€æ˜æ€§ã‚’æ±‚ã‚ã‚‹é‹å‹•ã‚’è¡Œã£ãŸã€‚ 2014 å¹´ã«å®Œå…¨ãªè‡¨åºŠç ”ç©¶å ±å‘Šæ›¸ãŒæœ€çµ‚çš„ã«ç™ºè¡¨ã•ã‚ŒãŸã¨ãã€çŠ¶æ³ã¯å¤‰ã‚ã‚Šã¾ã—ãŸã€‚ã‚¿ãƒŸãƒ•ãƒ«ã¯ç—‡çŠ¶ã®æŒç¶šæœŸé–“ã‚’ 1 æ—¥æœªæº€ã«çŸ­ç¸®ã—ã¾ã—ãŸãŒã€åˆä½µç—‡ã¯äºˆé˜²ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚
                    <br/><br/>
<strong>å®Œå…¨ãªè¨¼æ‹ ãŒå°å°ã•ã‚Œã¦ã„ãŸè–¬å‰¤ã«æ•°åå„„ãƒ‰ãƒ«ãŒè²»ã‚„ã•ã‚Œã¾ã—ãŸã€‚</strong>
<br/><br/>
                    ã‚¿ãƒŸãƒ•ãƒ«ã®ç‰©èªã¯æœŸå¾…ã‚’ä¸€å¤‰ã•ã›ã¾ã—ãŸã€‚ä»Šæ—¥ã€è‡¨åºŠè©¦é¨“ã®é€æ˜æ€§ã¯ä¾‹å¤–ã§ã¯ãªãæ¨™æº–ã«ãªã‚Šã¤ã¤ã‚ã‚Šã¾ã™ã€‚
                  </div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 15.3: è¨¼æ‹  
<div class="slide blood">
<div class="content text-center">
<div class="title red animate">When IPD Is Selectively Available</div>
<div class="simple-box animate delay-1">
<div class="simple-title">å®Ÿè¨¼çµæœ</div>
<div class="simple-text">
                    ç ”ç©¶ã§ã¯ã€IPD ã‚’å…±æœ‰ã™ã‚‹è©¦é¨“ã¨ã€IPD ã‚’å…±æœ‰ã™ã‚‹è©¦é¨“ã‚’æ¯”è¼ƒã—ã¾ã—ãŸã€‚ç¦æ­¢äº‹é …:
                    <br/><br/>
<strong>Industry-sponsored trials:</strong> Less likely to share<br/>
<strong>å¦å®šçš„ãªçµæœãŒå¾—ã‚‰ã‚ŒãŸè©¦é¨“:</strong> Less likely to share<br/>
<strong>Older trials:</strong> é »ç¹ã«ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã‚‹
                    <br/><br/>
                    If these trials systematically differ in effect size,<br/>
<strong>IPD-MA ã«åã‚ŠãŒã‚ã‚Šã¾ã™ã€‚</strong>
</div>
</div>
<div class="source animate delay-2" style="color:rgba(255,255,255,0.5);font-size:0.8rem;margin-top:1rem;">
                  Ahmed I, et al. BMJ 2012;344:d7762
                </div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 15.4: æ¯”è¼ƒ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">Always Compare: IPD vs. Non-IPD Trials</div>
<div class="decision-tree animate delay-1">
<h4>Assessing Availability Bias</h4>
<div class="tree-level">
<div class="tree-node root">Compare AD effects: trials with IPD vs. without</div>
</div>
<div class="tree-arrow">â†“</div>
<div class="tree-level" style="gap: 2rem;">
<div>
<div class="tree-node yes">Similar Effects</div>
<div class="tree-arrow">â†“</div>
<div class="tree-node action" style="font-size:0.75rem;">Low concern<br/>for bias</div>
</div>
<div>
<div class="tree-node no">Different Effects</div>
<div class="tree-arrow">â†“</div>
<div class="tree-node" style="background:rgba(197,48,48,0.5);font-size:0.75rem;">High concern<br/>æ„Ÿåº¦åˆ†æå¿…è¦</div>
</div>
</div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 15.5: ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ 
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">å¯ç”¨æ€§ãƒã‚¤ã‚¢ã‚¹ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</div>
<div class="lesson-item animate delay-1">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>Report IPD retrieval rate</h4>
<p>ã€Œ12/15 è©¦é¨“ã‹ã‚‰ IPD ã‚’å–å¾—ã—ã¾ã—ãŸ (80%)ã€</p>
</div>
</div>
<div class="lesson-item animate delay-2">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>Compare IPD vs. non-IPD trial characteristics</h4>
<p>ã‚µãƒ³ãƒ—ãƒ« ã‚µã‚¤ã‚ºã€è³‡é‡‘æä¾›ã€å‡ºç‰ˆæ—¥ã€é›†è¨ˆã‹ã‚‰ã®åŠ¹æœé‡ãƒ‡ãƒ¼ã‚¿</p>
</div>
</div>
<div class="lesson-item animate delay-3">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>Sensitivity analysis including non-IPD trials</h4>
<p>éå…±æœ‰è©¦é¨“ã® IPD + AD ã‚’çµ„ã¿åˆã‚ã›ãŸ 2 æ®µéšè§£æ</p>
</div>
</div>
<div class="lesson-item animate delay-4">
<div class="lesson-number" style="background:var(--green);">âœ“</div>
<div class="lesson-content">
<h4>éå…±æœ‰ã®ç†ç”±ã«ã¤ã„ã¦è©±ã—åˆã†</h4>
<p>Data lost? Refused? Never requested? Each has different implications.</p>
</div>
</div>
</div>
</div>
<!-- Slide 15.6: Branching Scenario -->
<div class="slide gradient">
<div class="content text-center">
<div class="scenario-panel animate" id="scenario-availability">
<div class="scenario-header">
<span class="scenario-icon">ğŸ”€</span>
<span class="scenario-title">æ¶ˆæ¥µçš„ãªæ²»é¨“æ‹…å½“è€…</span>
</div>
<div class="scenario-situation">
                    å¤–ç§‘çš„ä»‹å…¥ã® IPD-MA ã¯ã€å¯¾è±¡ã¨ãªã‚‹ 12 ä»¶ã®è©¦é¨“ã®ã†ã¡ 8 ä»¶ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã—ãŸã€‚ (67%)ã€‚ 4 ã¤ã®éå…±æœ‰è©¦é¨“ã¯ã™ã¹ã¦æ¥­ç•Œã®è³‡é‡‘æä¾›ã‚’å—ã‘ã¦ãŠã‚Šã€8 ã¤ã® IPD è©¦é¨“ (ãƒ—ãƒ¼ãƒ« OR 0.72) ã¨æ¯”è¼ƒã—ã¦ã€å‡ºç‰ˆç‰©ã§ç¤ºã•ã‚Œã¦ã„ã‚‹åˆ©ç‚¹ãŒå°ã•ã„ (ãƒ—ãƒ¼ãƒ« OR 0.95)ã€‚
                    <br/><br/>
                    IPD åˆ†æã§ã¯ OR 0.70 ãŒç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚
                  </div>
<div class="scenario-question">å ±å‘Šæ–¹æ³•ã“ã‚Œã¯?</div>
<div class="scenario-choices">
<div class="scenario-choice" onclick="selectScenarioChoice('availability', 'a')">
<span class="choice-letter">A</span>
<span class="choice-text">Report IPD result (OR 0.70) as the main finding - IPD is gold standard</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('availability', 'b')">
<span class="choice-letter">B</span>
<span class="choice-text">éå…±æœ‰è©¦é¨“ã«ã‚ˆã‚‹ AD ã‚’å«ã‚€å¯ç”¨æ€§ãƒã‚¤ã‚¢ã‚¹ã¨æ„Ÿåº¦åˆ†æã«é–¢ã™ã‚‹é¡•è‘—ãªè­¦å‘Šã‚’å«ã‚€ IPD çµæœã‚’å ±å‘Šã—ã¾ã™</span>
</div>
<div class="scenario-choice" onclick="selectScenarioChoice('availability', 'c')">
<span class="choice-letter">C</span>
<span class="choice-text">Wait until you get 100% IPD before publishing</span>
</div>
</div>
<div class="scenario-consequence" id="consequence-availability"></div>
</div>
</div>
</div>
 ã‚¹ãƒ©ã‚¤ãƒ‰ 15.7: è¤‡åˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒ 
<div class="slide ipd">
<div class="content text-center">
<div class="title blue animate">é IPD ã‹ã‚‰ã® 2 æ®µéšãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³</div>
<div class="formula-box animate delay-1">
<div class="label">COMBINING IPD + AD</div>
<div class="formula">Stage 1: Analyze IPD trials â†’ get Î¸<sub>IPD</sub></div>
<div class="formula">Stage 2: Meta-analyze Î¸<sub>IPD</sub> + Î¸<sub>AD</sub> è©¦é¨“</div>
<div class="label">Uses all available evidence, even when IPD incomplete</div>
</div>
<div class="simple-box blue animate delay-2">
<div class="simple-title">THE PRINCIPLE</div>
<div class="simple-text">
<strong>IPD ã¯ã‚ªãƒ¼ãƒ«ãƒ»ã‚ªã‚¢ãƒ»ãƒŠãƒƒã‚·ãƒ³ã‚°ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</strong>
<br/><br/>
                    IPD ãŒã‚ã‚‹å ´åˆã¯ IPD ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ (ç›¸äº’ä½œç”¨ãƒ†ã‚¹ãƒˆç”¨)ã€‚<br/>
                    å…¨ä½“çš„ãªåŠ¹æœã®æ¨å®šã«ã¯ AD ã‚’è£œè¶³ã—ã¾ã™ã€‚<br/>
                    ç”±æ¥ã«é–¢ã™ã‚‹é€æ˜æ€§ã“ã“ã§ã€‚
                  </div>
</div>
</div>
</div>
<!-- Slide 15.8: Refrain -->
<div class="slide black">
<div class="content text-center">
<div class="refrain warning animate">
                  ã€Œæ„å¿—ãŒå…¨ä½“ã‚’è¡¨ã™ã¨ã¯é™ã‚Šã¾ã›ã‚“ã€‚<br/>
                  é–‹ã„ãŸãƒ‰ã‚¢ã¯ã€éµã®ã‹ã‹ã£ãŸãƒ‰ã‚¢ã®èƒŒå¾Œã«çœŸå®Ÿã‚’éš ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚<br/>
<br/>
                  Always ask: Who refused to share?<br/>
                  And what might they be hiding?"
                </div>
</div>
</div>
</div>
 =================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 16: ã‚¯ã‚¤ã‚ºã¨å‚è€ƒè³‡æ–™==================== 
<div class="module-slides" data-module="16">
<!-- Slide 11.1: Quiz 1 -->
<div class="slide dark active">
<div class="content text-center">
<div class="quiz-container animate">
<div class="quiz-question">åˆæœŸä¹³ãŒã‚“è‡¨åºŠè©¦é¨“æ‹…å½“è€…ã‚°ãƒ«ãƒ¼ãƒ—ã¯ã€å€‹åˆ¥ã®è©¦é¨“ã§ã¯ç™ºè¦‹ã§ããªã‹ã£ãŸã“ã¨ã‚’ç™ºè¦‹ã—ã¾ã—ãŸã‹?</div>
<div class="quiz-options">
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Tamoxifen works better than placebo</div>
<div class="quiz-option" onclick="checkAnswer(this, true)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Tamoxifen only works in estrogen receptor positive tumors</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Tamoxifen has significant side effects</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Tamoxifen works better in younger women</div>
</div>
<div class="quiz-feedback"></div>
</div>
</div>
</div>
<!-- Slide 11.2: Quiz 2 -->
<div class="slide dark">
<div class="content text-center">
<div class="quiz-container animate">
<div class="quiz-question">What is the "ecological fallacy" in meta-analysis?</div>
<div class="quiz-options">
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Assuming environmental factors don't affect treatment</div>
<div class="quiz-option" onclick="checkAnswer(this, true)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Assuming between-study relationships apply to within-study (individual) relationships</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">ã•ã¾ã–ã¾ãªç”Ÿæ…‹å­¦çš„åœ°åŸŸã‹ã‚‰ã®ç ”ç©¶ã‚’ãƒ—ãƒ¼ãƒ«ã™ã‚‹</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Using outdated trials in modern meta-analyses</div>
</div>
<div class="quiz-feedback"></div>
</div>
</div>
</div>
<!-- Slide 11.3: Quiz 3 -->
<div class="slide dark">
<div class="content text-center">
<div class="quiz-container animate">
<div class="quiz-question">1 æ®µéš IPD åˆ†æãŒå¥½ã¾ã‚Œã‚‹ã®ã¯ã©ã‚“ãªå ´åˆã§ã™ã‹?äºŒæ®µéš?</div>
<div class="quiz-options">
<div class="quiz-option" onclick="checkAnswer(this, true)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">When trials have sparse events or rare outcomes</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">When you have many large trials</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">When you want to create forest plots</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">çµæœãŒå…±é€šã§è¿½è·¡æœŸé–“ãŒçŸ­ã„å ´åˆ</div>
</div>
<div class="quiz-feedback"></div>
</div>
</div>
</div>
<!-- Slide 11.4: Quiz 4 -->
<div class="slide dark">
<div class="content text-center">
<div class="quiz-container animate">
<div class="quiz-question">è¤‡æ•°ã®è©¦é¨“ã‹ã‚‰ IPD ã‚’åˆ†æã™ã‚‹å‰ã«ä½•ã‚’ã™ã¹ãã§ã™ã‹?</div>
<div class="quiz-options">
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç›´ã¡ã«ãƒ—ãƒ¼ãƒ«ã—ã€ãƒ¡ã‚¤ãƒ³åˆ†æã‚’å®Ÿè¡Œã—ã¾ã™</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Exclude trials with missing variables</div>
<div class="quiz-option" onclick="checkAnswer(this, true)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">ãƒ‡ãƒ¼ã‚¿ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã« IPD ã‹ã‚‰å„è©¦é¨“ã®å…¬é–‹çµæœã‚’å†ç¾ã—ã¾ã™å®Œå…¨æ€§</div>
<div class="quiz-option" onclick="checkAnswer(this, false)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();this.click();}" role="button" tabindex="0">Convert all continuous variables to categorical</div>
</div>
<div class="quiz-feedback"></div>
</div>
</div>
</div>
<!-- Slide 11.5: References -->
<div class="slide dark">
<div class="content text-center">
<div class="title gold animate">References</div>
<div class="references animate delay-1">
<h4>ã“ã®æ–‡æ›¸ã§å¼•ç”¨ã•ã‚Œã¦ã„ã‚‹ä¸»ãªæƒ…å ±æºã‚³ãƒ¼ã‚¹</h4>
<ol>
<li>Riley RD, et al. <span class="journal">å€‹äººã®å‚åŠ è€…ãƒ‡ãƒ¼ã‚¿ã®ãƒ¡ã‚¿åˆ†æ: ãƒ˜ãƒ«ã‚¹ã‚±ã‚¢ç ”ç©¶ã®ãŸã‚ã®ãƒãƒ³ãƒ‰ãƒ–ãƒƒã‚¯ã€‚</span> Wiley, 2021.</li>
<li>Stewart LAã€ä»– PRISMA-IPD: å€‹äººã®å‚åŠ è€…ãƒ‡ãƒ¼ã‚¿ã®ç³»çµ±çš„ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ãƒ¡ã‚¿åˆ†æã«æ¨å¥¨ã•ã‚Œã‚‹å ±å‘Šé …ç›®ã€‚ <span class="journal">JAMA</span> 2015;313:1657-65.</li>
<li>Early Breast Cancer Trialists' Collaborative Group. Tamoxifen for early breast cancer. <span class="journal">Cochrane Database Syst Rev</span> 2001.</li>
<li>Cholesterol Treatment Trialists' Collaboration. Efficacy and safety of LDL-lowering therapy. <span class="journal">Lancet</span> 2010;376:1670-81.</li>
<li>Roberts D, et al. Antenatal corticosteroids for accelerating fetal lung maturation. <span class="journal">Cochrane Database Syst Rev</span> 2017.</li>
<li>IMPACT Study Group. Predicting outcome after traumatic brain injury. <span class="journal">PLoS Med</span> 2008;5:e165.</li>
<li>Debray TPA, et al. Get real in individual participant data meta-analysis. <span class="journal">Int J Epidemiol</span> 2015;44:1287-97.</li>
<li>Burke DL, et al. Meta-analysis using individual participant data. <span class="journal">Stat Med</span> 2017;36:320-38.</li>
</ol>
</div>
</div>
</div>
<!-- Slide 11.6: Completion -->
<div class="slide hope">
<div class="content text-center">
<div class="big-number green animate" style="font-size:5rem;">âœ”</div>
<div class="title green animate delay-1">Course Complete</div>
<div class="gold-line animate delay-2"></div>
<div class="refrain hope animate delay-3">
                  ã€Œå…¨ä½“ã¨ã—ã¦ã€å€‹äººã¯æ¶ˆæ»…ã—ã¾ã™ã€‚<br/>
                  But you have learned to find them.<br/>
                  You have learned to ask: Who benefits? Who is harmed?<br/>
<br/>
                  ã•ã‚ã€æ‚£è€…ã‚’æ®‹ã•ãªã„å¹³å‡ã§ã¯æ¶ˆãˆã¦ã—ã¾ã†ã€‚ã€
                </div>
<p class="animate delay-4" style="color:var(--gold);font-family:'Cormorant Garamond',serif;font-size:1.2rem;margin-top:1.5rem;">
                  éš ã‚ŒãŸæ‚£è€… â€” ä»Šã€ã‚ãªãŸã«å½¼ã‚‰ãŒè¦‹ãˆã¾ã™ã€‚
                </p>
<button aria-label="ä¿®äº†è¨¼æ˜æ›¸ã‚’å–å¾—ã™ã‚‹" class="btn primary animate delay-5" onclick="showCertificate()" style="margin-top:2rem;padding:1rem 2rem;font-size:1.1rem;">
                  ğŸ“ è¨¼æ˜æ›¸ã‚’å–å¾—ã—ã¦ãã ã•ã„
                </button>
</div>
</div>
</div>
<!-- Navigation -->
<nav aria-label="Slide navigation" class="slide-nav" role="navigation">
<button aria-label="Previous slide" class="nav-btn" onclick="prevSlide()" title="Previous slide (Left arrow)">â†</button>
<div class="nav-center">
<div aria-atomic="true" aria-live="polite" class="slide-counter" id="slideCounter">1 / 6</div>
<div aria-label="Slide indicators" class="progress" id="progressDots" role="tablist"></div>
</div>
<button aria-label="Next slide" class="nav-btn" onclick="nextSlide()" title="Next slide (Right arrow or Space)">â†’</button>
</nav>
</div>
</div>
</main>
</div>
<script>
    function toggleSidebar() {
      document.querySelector('.sidebar').classList.toggle('open');
      var overlay = document.querySelector('.sidebar-overlay');
      if (overlay) overlay.classList.toggle('show');
      var btn = document.querySelector('.mobile-menu-toggle, .sidebar-toggle, .hamburger');
      if (btn) btn.setAttribute('aria-expanded', btn.getAttribute('aria-expanded') === 'true' ? 'false' : 'true');
    }

    const modules = [
      { id: 1, title: "The Vanishing", subtitle: "Why IPD matters", slides: 6 },
      { id: 2, title: "Aggregate vs IPD", subtitle: "ç”Ÿæ…‹å­¦çš„èª¤è¬¬", slides: 6 },
      { id: 3, title: "CTT ã®å•“ç¤º", subtitle: "Statins for 170,000", slides: 6 },
      { id: 4, title: "When to Pursue IPD", subtitle: "ãƒ‡ã‚·ã‚¸ãƒ§ãƒ³ ãƒ„ãƒªãƒ¼", slides: 6 },
      { id: 5, title: "One-Stage vs Two-Stage", subtitle: "Analysis approaches", slides: 6 },
      { id: 6, title: "ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®ç™ºè¦‹", subtitle: "Corticosteroids & preterm birth", slides: 6 },
      { id: 7, title: "Obtaining IPD", subtitle: "ãƒ‡ãƒ¼ã‚¿ã®æ¢æ±‚", slides: 6 },
      { id: 8, title: "Data Harmonization", subtitle: "Speaking one language", slides: 6 },
      { id: 9, title: "Testing Interactions", subtitle: "Who benefits most?", slides: 6 },
      { id: 10, title: "Prognosis & Prediction", subtitle: "ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã¨ãã®å…ˆã¸", slides: 6 },
      { id: 11, title: "ã‚¢ã‚¹ãƒ”ãƒªãƒ³ã®ãƒ‘ãƒ©ãƒ‰ãƒƒã‚¯ã‚¹", subtitle: "ATT: Risk determines benefit", slides: 8 },
      { id: 12, title: "The BP Revelation", subtitle: "BPLTTC: å¹´é½¢ã¯éšœå£ã§ã¯ã‚ã‚Šã¾ã›ã‚“", slides: 8 },
      { id: 13, title: "ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦", subtitle: "Time is brain", slides: 8 },
      { id: 14, title: "Missing Data", subtitle: "ç©ºã®ã‚»ãƒ«", slides: 8 },
      { id: 15, title: "å¯ç”¨æ€§ãƒˆãƒ©ãƒƒãƒ—", subtitle: "Who refused to share?", slides: 8 },
      { id: 16, title: "Quiz & Sources", subtitle: "ãƒ†ã‚¹ãƒˆçŸ¥è­˜", slides: 6 }
    ];

    // State management with localStorage persistence
    const STORAGE_KEY = 'ipd-course-progress';

    function loadProgress() {
      try {
        const saved = localStorage.getItem(STORAGE_KEY);
        if (saved) {
          const data = JSON.parse(saved);
          return {
            currentModule: Math.min(Math.max(1, data.currentModule || 1), modules.length),
            currentSlide: Math.max(1, data.currentSlide || 1),
            completedModules: new Set(data.completedModules || [])
          };
        }
      } catch (e) {
        console.warn('Could not load progress:', e);
      }
      return { currentModule: 1, currentSlide: 1, completedModules: new Set() };
    }

    function saveProgress() {
      try {
        const data = {
          currentModule,
          currentSlide,
          completedModules: Array.from(completedModules)
        };
        localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
      } catch (e) {
        console.warn('Could not save progress:', e);
      }
    }

    // Initialize state from localStorage or defaults
    const savedState = loadProgress();
    let currentModule = savedState.currentModule;
    let currentSlide = savedState.currentSlide;
    const completedModules = savedState.completedModules;

    // Branching scenarios
    const scenarios = {
      'ipd-decision': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'å±é™ºãªã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ! WHO REACT ä½œæ¥­éƒ¨ä¼šã¯ã€æ–°å‹ã‚³ãƒ­ãƒŠã‚¦ã‚¤ãƒ«ã‚¹ã‚¹ãƒ†ãƒ­ã‚¤ãƒ‰ã® IPD ã‚’è¿½æ±‚ã—ã€é‡è¦ãªç›¸äº’ä½œç”¨ã‚’ç™ºè¦‹ã—ã¾ã—ãŸã€‚é…¸ç´ ã‚’å¿…è¦ã¨ã™ã‚‹æ‚£è€…ã«ãŠã„ã¦åŠ¹æœãŒæœ€ã‚‚æ˜ã‚‰ã‹ã§ã—ãŸã€‚é›†è¨ˆåˆ†æã§ã¯ã€è‡¨åºŠå®Ÿè·µã‚’å½¢ä½œã‚‹ã“ã®å¾®å¦™ãªé•ã„ãŒè¦‹é€ƒã•ã‚Œã¦ã„ãŸã§ã—ã‚‡ã†ã€‚', lesson: 'å•é¡ŒãŒã€Œèª°ã«åˆ©ç›Šã‚’ã‚‚ãŸã‚‰ã™ã®ã‹ã€ã¨ã„ã†å ´åˆã€IPD ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚' },
          'b': { type: 'good', text: 'æ­£è§£ã§ã™ã€‚é‡ç—‡åº¦ã¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã‚ˆã‚‹åŠ¹æœã®å¤‰åŒ–ã«é–¢ã™ã‚‹ã”è³ªå•ã«ã¯ã€æ‚£è€…ãƒ¬ãƒ™ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒå¿…è¦ã§ã™ã€‚ REACT ã‚°ãƒ«ãƒ¼ãƒ—ã® IPD åˆ†æã¯ã€ãƒ‡ã‚­ã‚µãƒ¡ã‚¿ã‚¾ãƒ³ã®åˆ©ç‚¹ãŒé…¸ç´ æ‘‚å–ä¸­ã®æ‚£è€…ã«é›†ä¸­ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã€æ¨™çš„æ²»ç™‚ã‚’å°ãã¾ã—ãŸã€‚' , lesson: 'IPD is essential when testing treatment-covariate interactions.' },
          'c': { type: 'neutral', text: 'é­…åŠ›çš„ã§ã™ãŒæ¬ é™¥ãŒã‚ã‚Šã¾ã™ã€‚ãƒˆãƒ©ã‚¤ã‚¢ãƒ« ãƒ¬ãƒ™ãƒ«ã®ã‚«ãƒ†ã‚´ãƒªã¯ç•°ãªã‚Šã¾ã™ã€‚ãƒˆãƒ©ã‚¤ã‚¢ãƒ« A ã®ã€Œé‡åº¦ã€ã¯ãƒˆãƒ©ã‚¤ã‚¢ãƒ« B ã®ã€Œä¸­ç¨‹åº¦ã€ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãƒªãƒ³ã‚´ã¨ã‚ªãƒ¬ãƒ³ã‚¸ã‚’æ¯”è¼ƒã™ã‚‹ã“ã¨ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚ã™ã¹ã¦ã®æ‚£è€…ã«ä¸€è²«ã—ãŸé‡ç—‡åº¦ã®å®šç¾©ã‚’é©ç”¨ã§ãã‚‹ã®ã¯ IPD ã ã‘ã§ã™ã€‚', lesson: 'ã‚µãƒ–ã‚°ãƒ«ãƒ¼ãƒ—ã®é›†åˆåˆ†æã«ã¯ç”Ÿæ…‹å­¦çš„èª¤è¬¬ãŒã‚ã‚Šã¾ã™ã€‚' }
        }
      },
      'harmonization': {
        correct: 'c',
        consequences: {
          'a': { type: 'bad', text: 'å±é™º!çµæœã®å®šç¾©ãŒç•°ãªã‚‹ã¨ã€ãã‚Œã‚‰ã®è©¦é¨“ã«ãŠã‘ã‚‹ã‚ˆã‚Šå¤§ããªåŠ¹æœã‚’èª¬æ˜ã§ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼ˆå®šç¾©ãŒç·©ã‚„ã‹ã§ã‚ã‚Œã°ã€ã‚ˆã‚Šå¤šãã®ã‚¤ãƒ™ãƒ³ãƒˆãŒæ•æ‰ã•ã‚Œã¾ã™ï¼‰ã€‚ç¢ºèªãªã—ã«ãã‚Œã‚‰ã‚’å«ã‚ã‚‹ã¨ã€ãƒ—ãƒ¼ãƒ«ã•ã‚ŒãŸè¦‹ç©ã‚‚ã‚ŠãŒè†¨ã‚‰ã‚€å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚', lesson: 'Definition heterogeneity is a form of bias. Acknowledge it.' },
          'b': { type: 'neutral', text: 'ä¿å®ˆçš„ã§ã™ãŒã€è²´é‡ãªæƒ…å ±ãŒå¤±ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ 1990 å¹´ä»£ã®è©¦é¨“ã«ã¯ã€ç ”ç©¶ã™ã‚‹ä¾¡å€¤ã®ã‚ã‚‹ã•ã¾ã–ã¾ãªæ¯é›†å›£ãŒå«ã¾ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚å®Œå…¨ãªé™¤å¤–ã¯åå°„çš„ã§ã¯ãªãæ­£å½“åŒ–ã•ã‚Œã‚‹ã¹ãã§ã™ã€‚', lesson: 'é™¤å¤–ã¯çµæœã‚’ä¼´ã†æ±ºå®šã§ã™ã€‚æ¨è«–ã‚’æ–‡æ›¸åŒ–ã—ã¦ãã ã•ã„ã€‚' },
          'c': { type: 'good', text: 'æ­£è§£ã§ã™ã€‚ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã¯ã€å …ç‰¢æ€§ã‚’èª¿æŸ»ã—ãªãŒã‚‰ã€æ˜ç¢ºãªä¸€æ¬¡æ¨å®šå€¤ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚æ¨™æº–åŒ–ã•ã‚Œã¦ã„ãªã„è©¦é¨“ã§çµæœãŒå¤§å¹…ã«å¤‰ã‚ã‚‹å ´åˆã€ãã‚Œã¯çµæœã®å®šç¾©ã«å¯¾ã™ã‚‹æ„Ÿåº¦ã«é–¢ã™ã‚‹é‡è¦ãªæƒ…å ±ã§ã™ã€‚', lesson: 'Sensitivity analyses reveal what depends on your assumptions.' }
        }
      },
      'interaction': {
        correct: 'c',
        consequences: {
          'a': { type: 'bad', text: 'Overinterpretation! With 8 tests at alpha=0.05, you expect ~0.4 false positives by chance. A single p=0.03 after multiple testing is not compelling evidence of true effect modification.', lesson: 'Multiple testing inflates false positive risk. Adjust or acknowledge.' },
          'b': { type: 'neutral', text: 'Statistically appropriate (Bonferroni: 0.05/8 = 0.006 threshold) but perhaps too rigid. Biological plausibility matters too - older patients have higher stroke risk, so larger relative benefit is mechanistically sensible.', lesson: 'Statistics and biology should inform each other.' },
          'c': { type: 'good', text: 'æ­£è§£ã§ã™ã€‚æ¢ç´¢çš„æ€§è³ªã®é€æ˜æ€§ã®ã‚ã‚‹å ±å‘Šã€è¤‡æ•°ã®ãƒ†ã‚¹ãƒˆã®æ‰¿èªã€ãŠã‚ˆã³å¤–éƒ¨æ¤œè¨¼ã®è¦æ±‚ãŒç§‘å­¦çš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã™ã€‚ã“ã®ç™ºè¦‹ã¯èˆˆå‘³æ·±ã„ã‚‚ã®ã§ã™ãŒã€æ±ºå®šçš„ãªã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚', lesson: 'Subgroup findings require replication before changing practice.' }
        }
      },
      'aspirin': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'å˜ç´”åŒ–ã—ã™ãã¦å±é™ºã§ã™ã€‚ 95,000äººã®æ‚£è€…ã‚’å¯¾è±¡ã¨ã—ãŸATT IPDåˆ†æã§ã¯ã€ä½ãƒªã‚¹ã‚¯ã®äººï¼ˆã“ã®æ‚£è€…ã®ã‚ˆã†ãª10å¹´ãƒªã‚¹ã‚¯ãŒ8ï¼…ï¼‰ã§ã¯ã€å‡ºè¡€ã«ã‚ˆã‚‹å®³ãŒå¿ƒè¡€ç®¡ã¸ã®åˆ©ç›Šã¨ã»ã¼ç­‰ã—ã„ã“ã¨ãŒç¤ºã•ã‚ŒãŸã€‚ã‚ãªãŸã¯å½¼ã‚’å‡ºè¡€ãƒªã‚¹ã‚¯ã«ã•ã‚‰ã™ã“ã¨ã«ãªã‚Šã¾ã™ãŒã€ç´”åˆ©ç›Šã¯ã”ãã‚ãšã‹ã§ã™ã€‚', lesson: 'Average benefit masks risk-stratified truth. Not everyone benefits equally.' },
          'b': { type: 'good', text: 'æ­£è§£ã§ã™ã€‚ ATT IPD-MA ã¯ã€ã‚¢ã‚¹ãƒ”ãƒªãƒ³ã®åˆ©ç›Šã¨å®³ã®ãƒãƒ©ãƒ³ã‚¹ãŒãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã® CVD ãƒªã‚¹ã‚¯ã«ä¾å­˜ã™ã‚‹ã“ã¨ã‚’å®Ÿè¨¼ã—ã¾ã—ãŸã€‚ 10 å¹´ãƒªã‚¹ã‚¯ãŒ 8% ã®å ´åˆã€æ²»ç™‚ã«å¿…è¦ãªæ•°ã¨å±å®³ã‚’åŠ ãˆã‚‹ã®ã«å¿…è¦ãªæ•°ã¯åŒç¨‹åº¦ã§ã™ã€‚ç¾åœ¨ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ (AHA 2019) ã§ã¯ã€ä½ãƒªã‚¹ã‚¯ã®ä¸€æ¬¡äºˆé˜²ã§ã¯æ—¥å¸¸çš„ãªã‚¢ã‚¹ãƒ”ãƒªãƒ³ã®ä½¿ç”¨ã‚’æ¨å¥¨ã—ã¦ã„ã¾ã›ã‚“ã€‚', lesson: 'IPD ã¯ã€hid ã‚’é›†ç´„ã™ã‚‹ãƒªã‚¹ã‚¯ã¨åˆ©ç›Šã®ç›¸äº’ä½œç”¨ã‚’æ˜ã‚‰ã‹ã«ã—ã¾ã—ãŸã€‚' },
          'c': { type: 'bad', text: 'ç”¨é‡ã¯æ ¹æœ¬çš„ãªå•é¡Œã‚’å¤‰ãˆã¾ã›ã‚“ã€‚ä½ç”¨é‡ã®ã‚¢ã‚¹ãƒ”ãƒªãƒ³ã¯ä¾ç„¶ã¨ã—ã¦å‡ºè¡€ã‚’å¢—åŠ ã•ã›ã¾ã™ã€‚ ATT ã¯ã€åˆ©ç›Šã¨å®³ã®ãƒãƒ©ãƒ³ã‚¹ãŒç”¨é‡ã§ã¯ãªãã€ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã®ãƒªã‚¹ã‚¯ã«ä¾å­˜ã™ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã—ãŸã€‚ CVD ãƒªã‚¹ã‚¯ãŒä½ã„å ´åˆã€ä¹³å…ç”¨ã‚¢ã‚¹ãƒ”ãƒªãƒ³ã§ã‚ã£ã¦ã‚‚ã€è‰¯ã„å½±éŸ¿ã‚ˆã‚Šã‚‚å®³ã®æ–¹ãŒå¤§ãã„ã§ã™ã€‚', lesson: 'Changing the dose doesn\'t fix an indication problem.' }
        }
      },
      'elderly-bp': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'J ã‚«ãƒ¼ãƒ–ã®ç¥è©±ã¯ã€IPD ã®è¨¼æ‹ ã«ã‚ˆã£ã¦èª¤ã‚Šã§ã‚ã‚‹ã“ã¨ãŒè¨¼æ˜ã•ã‚Œã¾ã—ãŸã€‚ 344,716 äººã®æ‚£è€…ã‚’å¯¾è±¡ã¨ã—ãŸ BPLTTC ãƒ¡ã‚¿ã‚¢ãƒŠãƒªã‚·ã‚¹ã§ã¯ã€85 æ­³ä»¥ä¸Šã®æ‚£è€…ã§ã‚ã£ã¦ã‚‚è¡€åœ§é™ä¸‹ã«ã‚ˆã‚‹æ¯”ä¾‹ã—ãŸåˆ©ç›ŠãŒç¶­æŒã•ã‚Œã‚‹ã“ã¨ãŒç¤ºã•ã‚Œã¾ã—ãŸã€‚å¹´é½¢ã«åŸºã¥ãæ²»ç™‚ãƒ‹ãƒ’ãƒªã‚ºãƒ ã¯ã€æœ€ã‚‚åˆ©ç›Šã‚’å¾—ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹äººã€…ï¼ˆçµ¶å¯¾ãƒªã‚¹ã‚¯ãŒé«˜ã„ï¼‰ã«å¯¾ã™ã‚‹åŠ¹æœçš„ãªäºˆé˜²ã‚’å¦å®šã—ã¾ã™ã€‚', lesson: 'è¦³å¯Ÿãƒ‡ãƒ¼ã‚¿ã® J ã‚«ãƒ¼ãƒ–ã¯é€†å› æœé–¢ä¿‚ã§ã‚ã‚Šã€æ²»ç™‚ã«ã‚ˆã‚‹å®³ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚' },
          'b': { type: 'good', text: 'Correct! The BPLTTC IPD-MA found no interaction between age and treatment benefit (p=0.85). A fit 82-year-old with elevated BP stands to gain from treatment. Consider frailty and life expectancy, but not age alone.', lesson: 'RCT ã‹ã‚‰ã® IPD ã¯ã€è¦³å¯Ÿç ”ç©¶ã‹ã‚‰ã®ç”Ÿæ…‹å­¦çš„é–¢é€£æ€§ã‚ˆã‚Šã‚‚å„ªã‚Œã¦ã„ã¾ã™ã€‚' },
          'c': { type: 'bad', text: 'è„³å’ä¸­ã‚„å¿ƒç­‹æ¢—å¡ã‚’å¾…ã£ã¦ã‹ã‚‰æ²»ç™‚ã™ã‚‹ã“ã¨ã¯ã€äºˆé˜²ã®ç›®çš„ã‚’ç„¡åŠ¹ã«ã—ã¾ã™ã€‚ BPLTTC ã¯ã€ã‚ã‚‰ã‚†ã‚‹å¹´é½¢å±¤ã‚’å¯¾è±¡ã¨ã—ãŸä¸€æ¬¡äºˆé˜²ã®å–ã‚Šçµ„ã¿ã‚’ç¤ºã—ã¾ã—ãŸã€‚æ˜ã‚‰ã‹ãªå…†å€™ãŒã‚ã‚‹æ‚£è€…ã‚’æ³¨æ„æ·±ãå¾…ã¤ã“ã¨ã¯æœ‰å®³ã§ã™ã€‚', lesson: 'äºˆé˜²ã¨ã¯ã€äº‹è±¡ãŒç™ºç”Ÿã—ãŸå¾Œã§ã¯ãªãã€äº‹è±¡ãŒç™ºç”Ÿã™ã‚‹å‰ã«æ²»ç™‚ã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚' }
        }
      },
      'stroke': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'Outdated thinking! The STT IPD analysis showed benefit extends to 4.5 hours, and the 2018 guidelines expanded the window. The 3-hour cutoff was from earlier, smaller trials. Every minute counts, but 4 hours is not too late.', lesson: 'IPD allowed continuous modeling of time-benefit relationship.' },
          'b': { type: 'good', text: 'æ­£è§£ã§ã™ã€‚ STT IPD-MA ã¯ã€è¡€æ “æº¶è§£åŠ¹æœã¯æ¸›å°‘ã™ã‚‹ã‚‚ã®ã®ã€æœ€å¤§ 4.5 æ™‚é–“æŒç¶šã™ã‚‹ã“ã¨ã‚’å®Ÿè¨¼ã—ã¾ã—ãŸã€‚ 4 ï½ 4.5 æ™‚é–“ã®æ™‚ç‚¹ã§ã‚‚ã€è‰¯å¥½ãªçµæœã® OR ã¯ ~1.26 ã§ã™ã€‚æ€¥ã„ã§ç¶šè¡Œã—ã¦ãã ã•ã„ã€‚ã•ã‚‰ã«é…ã‚Œã‚Œã° 1 åˆ†ã”ã¨ã«åˆ©ç›ŠãŒæ¸›å°‘ã—ã¾ã™ã€‚', lesson: 'IPD ã¯ã€é›¢æ•£è©¦é¨“ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒè¦†ã„éš ã—ã¦ã„ãŸæ¸›è¡°æ›²ç·šã‚’æ˜ã‚‰ã‹ã«ã—ã¾ã—ãŸã€‚' },
          'c': { type: 'bad', text: 'Dangerous delay! MRI takes time you don\'t have. The STT showed benefit declines continuously with time. At 4 hours, you\'re already in the diminishing returns zone. Standard CT to rule out hemorrhage is sufficient; adding MRI delays treatment when every minute costs neurons.', lesson: 'Perfect is the enemy of good when time is brain.' }
        }
      },
      'missing': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'å±é™ºãªä»£å…¥!ä»–ã®ç‰¹æ€§ã«åŸºã¥ã„ã¦æ¸¬å®šã•ã‚ŒãŸã“ã¨ãŒãªã„ãƒã‚¤ã‚ªãƒãƒ¼ã‚«ãƒ¼ã‚’ç¢ºå®Ÿã«æ¨å®šã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ã“ã‚Œã¯ã€Œä½“ç³»çš„ã«æ¬ è½ã—ã¦ã„ã‚‹ã€ãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚ä»£å…¥ã¯åˆ†æã®ãµã‚Šã‚’ã—ãŸæ¨æ¸¬ã«ãªã‚Šã¾ã™ã€‚æ¬ è½ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¯ MNAR (æ¸¬å®šã—ãªã‹ã£ãŸè©¦é¨“ã«ã¯ç†ç”±ãŒã‚ã£ãŸå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™)ã€‚', lesson: 'åé›†ã•ã‚Œãªã‹ã£ãŸã‚‚ã®ã‚’è£œå®Œã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ã“ã‚Œã¯æé€ ã§ã¯ãªãã€æé€ ã§ã™ã€‚' },
          'b': { type: 'good', text: 'Correct! Interaction analysis should be restricted to trials with the data. For the overall effect, you can include all trials (two-stage: IPD from 5 trials + AD from 3 trials). This maximizes appropriate use of available data while maintaining validity for each analysis type.', lesson: 'è³ªå•ãŒç•°ãªã‚Œã°ã€ãƒ‡ãƒ¼ã‚¿ã®ç•°ãªã‚‹ã‚µãƒ–ã‚»ãƒƒãƒˆãŒä½¿ç”¨ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚' },
          'c': { type: 'neutral', text: 'æ”»æ’ƒçš„ã™ãã¾ã™ã€‚ã“ã‚Œã‚‰ 3 ã¤ã®è©¦é¨“ã¯ã€ãŸã¨ãˆãƒã‚¤ã‚ªãƒãƒ¼ã‚«ãƒ¼ã®ç›¸äº’ä½œç”¨ã«ã¤ã„ã¦ã¯æƒ…å ±ã‚’æä¾›ã§ããªã‹ã£ãŸã¨ã—ã¦ã‚‚ã€å…¨ä½“çš„ãªæ²»ç™‚åŠ¹æœã«é–¢ã™ã‚‹æœ‰åŠ¹ãªæƒ…å ±ã«è²¢çŒ®ã—ã¾ã™ã€‚ãã‚Œã‚‰ã‚’é™¤å¤–ã™ã‚‹ã¨è¨¼æ‹ ãŒå®Œå…¨ã«ç„¡é§„ã«ãªã‚Šã€ç³»çµ±çš„ã«ç•°ãªã‚‹å ´åˆã«ã¯é¸æŠãƒã‚¤ã‚¢ã‚¹ãŒç”Ÿã˜ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚', lesson: 'Exclusion should be proportionate to the problem.' }
        }
      },
      'availability': {
        correct: 'b',
        consequences: {
          'a': { type: 'bad', text: 'å¯ç”¨æ€§ãƒã‚¤ã‚¢ã‚¹ã®è­¦å‘Š!éå…±æœ‰è©¦é¨“ã§ã¯ã€å®Ÿè³ªçš„ã«å°ã•ã„åŠ¹æœãŒç¤ºã•ã‚Œã¦ã„ã¾ã™ (OR 0.95 vs 0.70)ã€‚ã“ã®çŸ›ç›¾ã‚’èªè­˜ã›ãšã« IPD çµæœã®ã¿ã‚’å ±å‘Šã™ã‚‹ã¨ã€æ²»ç™‚åŠ¹æœã‚’èª‡å¼µã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚æ¥­ç•Œã®è©¦é¨“ã§ã¯ã€å¦å®šçš„ãªãƒ‡ãƒ¼ã‚¿ãŒå…±æœ‰ã•ã‚Œãªã„ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã™ã€‚', lesson: 'Available IPD may be a biased sample of all evidence.' },
          'b': { type: 'good', text: 'Correct! Transparent reporting includes: (1) IPD retrieval rate, (2) comparison of IPD vs non-IPD trial characteristics and effects, (3) sensitivity analysis combining IPD + AD. This lets readers judge the impact of availability bias.', lesson: 'IPD quality cannot compensate for selection bias in which trials share.' },
          'c': { type: 'neutral', text: '100% ã® IPD ãŒç†æƒ³çš„ã§ã™ãŒã€é”æˆã§ãã‚‹ã“ã¨ã¯ã»ã¨ã‚“ã©ã‚ã‚Šã¾ã›ã‚“ã€‚ã„ã¤ã¾ã§ã‚‚å¾…ã¤ã¨ã„ã†ã“ã¨ã¯ã€è¨¼æ‹ ãŒæ±ºã—ã¦åˆæˆã•ã‚Œãªã„ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚å®Œç’§ã‚’å–„ã®æ•µã¨ã™ã‚‹ã‚ˆã‚Šã‚‚ã€é©åˆ‡ãªè­¦å‘Šã¨æ„Ÿåº¦åˆ†æã‚’è¡Œã£ãŸæ–¹ãŒè‰¯ã„ã§ã—ã‚‡ã†ã€‚', lesson: 'Some IPD with caveats beats no synthesis at all.' }
        }
      }
    };

    let scenarioState = {};

    function selectScenarioChoice(scenarioId, choice) {
      if (scenarioState[scenarioId]) return;

      scenarioState[scenarioId] = choice;
      const scenario = scenarios[scenarioId];
      const consequence = scenario.consequences[choice];
      const isCorrect = choice === scenario.correct;

      // Update choice styling
      const panel = document.getElementById(`scenario-${scenarioId}`);
      const choices = panel.querySelectorAll('.scenario-choice');
      choices.forEach(c => {
        c.classList.add('answered');
        const letter = c.querySelector('.choice-letter').textContent.toLowerCase();
        if (letter === scenario.correct) c.classList.add('correct');
        if (letter === choice && !isCorrect) c.classList.add('incorrect');
      });

      // Show consequence
      const conseqDiv = document.getElementById(`consequence-${scenarioId}`);
      conseqDiv.innerHTML = `
        <div class="consequence-title">${isCorrect ? '&#10003; Good decision!' : '&#10007; Problematic decision'}</div>
        <div class="consequence-text">${consequence.text}</div>
        <div class="consequence-lesson">"${consequence.lesson}"</div>
      `;
      conseqDiv.classList.add('visible', consequence.type);
    }

    function init() {
      // Restore saved progress - activate correct module and slide
      if (currentModule > 1 || currentSlide > 1) {
        // Deactivate default first module
        document.querySelectorAll('.module-slides').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.slide').forEach(el => el.classList.remove('active'));

        // Activate saved module
        const targetModuleEl = document.querySelector(`.module-slides[data-module="${currentModule}"]`);
        if (targetModuleEl) {
          targetModuleEl.classList.add('active');

          // Activate saved slide within module
          const slides = targetModuleEl.querySelectorAll('.slide');
          const targetSlideIndex = Math.min(currentSlide - 1, slides.length - 1);
          if (slides[targetSlideIndex]) {
            slides[targetSlideIndex].classList.add('active');
          }
        }

        // Update breadcrumb
        const moduleTitle = modules[currentModule - 1];
        if (moduleTitle) {
          document.getElementById('currentModule').textContent = moduleTitle.title;
        }

        // Progress restored: Module ${currentModule}, Slide ${currentSlide}
      }

      renderModuleList();
      updateSlideNav();

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        // Don't intercept if user is in an input/interactive field
        if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' ||
            e.target.tagName === 'SELECT' || e.target.tagName === 'BUTTON' ||
            e.target.tagName === 'A' ||
            (e.target.getAttribute && e.target.getAttribute('role') === 'button')) return;

        if (e.key === 'ArrowRight' || e.key === ' ') {
          e.preventDefault();
          nextSlide();
        } else if (e.key === 'ArrowLeft') {
          e.preventDefault();
          prevSlide();
        } else if (e.key === 'Home') {
          e.preventDefault();
          goToModule(1);
        } else if (e.key === 'End') {
          e.preventDefault();
          goToModule(modules.length);
        }
      });

      // Touch swipe support for mobile
      let touchStartX = 0;
      let touchEndX = 0;
      const slidesContainer = document.getElementById('main-content');

      if (slidesContainer) {
        slidesContainer.addEventListener('touchstart', (e) => {
          touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        slidesContainer.addEventListener('touchend', (e) => {
          touchEndX = e.changedTouches[0].screenX;
          handleSwipe();
        }, { passive: true });
      }

      function handleSwipe() {
        const swipeThreshold = 50;
        const diff = touchStartX - touchEndX;
        if (Math.abs(diff) > swipeThreshold) {
          if (diff > 0) {
            nextSlide(); // Swipe left = next
          } else {
            prevSlide(); // Swipe right = prev
          }
        }
      }

      // Save progress before user leaves
      window.addEventListener('beforeunload', saveProgress);

      // Announce initial slide to screen readers
      announceSlide();

      // Show initial progress percentage
      updateProgressPercent();
    }

    // Accessibility: Announce slide changes to screen readers
    function announceSlide() {
      const module = modules[currentModule - 1];
      if (!module) return;

      const announcement = `Module ${currentModule}: ${module.title}. Slide ${currentSlide} of ${module.slides}.`;
      const liveRegion = document.getElementById('ariaLiveRegion');
      if (liveRegion) {
        liveRegion.textContent = announcement;
      }

      updateProgressPercent();
    }

    // Update completion percentage display
    function updateProgressPercent() {
      const totalSlides = modules.reduce((sum, m) => sum + m.slides, 0);
      let completedSlides = 0;

      // Count slides in completed modules
      completedModules.forEach(moduleId => {
        const mod = modules.find(m => m.id === moduleId);
        if (mod) completedSlides += mod.slides;
      });

      // Add current progress in current module
      completedSlides += currentSlide - 1;

      const percent = Math.round((completedSlides / totalSlides) * 100);
      const progressEl = document.getElementById('progressPercent');
      if (progressEl) {
        progressEl.textContent = `Progress: ${percent}%`;
      }
    }

    function renderModuleList() {
      const list = document.getElementById('moduleList');
      list.innerHTML = modules.map(m => `
        <div class="module-item ${m.id === currentModule ? 'active' : ''} ${completedModules.has(m.id) ? 'completed' : ''}"
             onclick="goToModule(${m.id})"
             onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();event.stopPropagation();goToModule(${m.id});}"
             role="listitem"
             tabindex="0"
             aria-label="Module ${m.id}: ${m.title}. ${m.subtitle}. ${completedModules.has(m.id) ? 'Completed.' : ''} ${m.id === currentModule ? 'Current module.' : ''}"
             aria-current="${m.id === currentModule ? 'true' : 'false'}">
          <div class="module-number" aria-hidden="true">${completedModules.has(m.id) ? '&#10003;' : m.id}</div>
          <div class="module-info">
            <div class="module-title">${m.title}</div>
            <div class="module-subtitle">${m.subtitle}</div>
          </div>
        </div>
      `).join('');
    }

    function goToModule(moduleId) {
      // Bounds checking
      if (moduleId < 1 || moduleId > modules.length) {
        console.warn(`Invalid module ID: ${moduleId}. Must be between 1 and ${modules.length}.`);
        return;
      }

      if (moduleId > currentModule) completedModules.add(currentModule);
      currentModule = moduleId;

      // Ensure slide is within bounds for new module
      const targetModule = modules[moduleId - 1];
      currentSlide = Math.min(Math.max(1, currentSlide), targetModule.slides);
      currentSlide = 1; // Start at first slide of new module

      document.querySelectorAll('.module-slides').forEach(el => el.classList.remove('active'));
      const targetModuleEl = document.querySelector(`.module-slides[data-module="${moduleId}"]`);
      if (targetModuleEl) {
        targetModuleEl.classList.add('active');
      }

      updateSlideVisibility();
      updateSlideNav();
      renderModuleList();

      const moduleTitle = modules[moduleId - 1];
      if (moduleTitle) {
        document.getElementById('currentModule').textContent = moduleTitle.title;
      }

      saveProgress();
      announceSlide();
    }

    function updateSlideVisibility() {
      const moduleSlides = document.querySelector(`.module-slides[data-module="${currentModule}"]`);
      if (!moduleSlides) {
        console.warn(`Module slides not found for module ${currentModule}`);
        return;
      }
      const slides = moduleSlides.querySelectorAll('.slide');
      slides.forEach((slide, index) => slide.classList.toggle('active', index + 1 === currentSlide));
    }

    function updateSlideNav() {
      const module = modules[currentModule - 1];
      if (!module) {
        console.warn(`Module data not found for index ${currentModule - 1}`);
        return;
      }
      const slideCounter = document.getElementById('slideCounter');
      const progressDots = document.getElementById('progressDots');
      if (slideCounter) {
        slideCounter.textContent = `${currentSlide} / ${module.slides}`;
      }
      if (progressDots) {
        progressDots.innerHTML = Array.from({ length: module.slides }, (_, i) =>
          `<div class="progress-dot ${i + 1 === currentSlide ? 'active' : ''}"
                onclick="goToSlide(${i + 1})"
                onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();event.stopPropagation();goToSlide(${i + 1});}"
                role="tab"
                tabindex="${i + 1 === currentSlide ? '0' : '-1'}"
                aria-selected="${i + 1 === currentSlide ? 'true' : 'false'}"
                aria-label="Go to slide ${i + 1}"></div>`
        ).join('');
      }
    }

    // Reset progress function (can be called from console or UI)
    function resetProgress() {
      try {
        localStorage.removeItem(STORAGE_KEY);
        currentModule = 1;
        currentSlide = 1;
        completedModules.clear();

        // Reset UI
        document.querySelectorAll('.module-slides').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.slide').forEach(el => el.classList.remove('active'));

        const firstModule = document.querySelector('.module-slides[data-module="1"]');
        if (firstModule) {
          firstModule.classList.add('active');
          const firstSlide = firstModule.querySelector('.slide');
          if (firstSlide) firstSlide.classList.add('active');
        }

        document.getElementById('currentModule').textContent = modules[0].title;
        renderModuleList();
        updateSlideNav();
        updateProgressPercent();
        announceSlide();

        // Progress reset successfully
      } catch (e) {
        console.error('Failed to reset progress:', e);
      }
    }

    function goToSlide(slideNum) {
      // Bounds checking
      const module = modules[currentModule - 1];
      if (!module || slideNum < 1 || slideNum > module.slides) {
        console.warn(`Invalid slide number: ${slideNum}. Must be between 1 and ${module ? module.slides : '?'}.`);
        return;
      }

      currentSlide = slideNum;
      updateSlideVisibility();
      updateSlideNav();
      saveProgress();
      announceSlide();
    }

    function nextSlide() {
      // Bounds checking
      if (currentModule < 1 || currentModule > modules.length) {
        console.warn('Invalid current module state');
        currentModule = 1;
        currentSlide = 1;
        saveProgress();
        return;
      }

      const module = modules[currentModule - 1];
      if (!module) return;

      if (currentSlide < module.slides) {
        currentSlide++;
        updateSlideVisibility();
        updateSlideNav();
        saveProgress();
        announceSlide();
      } else if (currentModule < modules.length) {
        goToModule(currentModule + 1);
      }
      // If at last slide of last module, do nothing (already handled)
    }

    function prevSlide() {
      // Bounds checking
      if (currentModule < 1 || currentModule > modules.length) {
        console.warn('Invalid current module state');
        currentModule = 1;
        currentSlide = 1;
        saveProgress();
        return;
      }

      if (currentSlide > 1) {
        currentSlide--;
        updateSlideVisibility();
        updateSlideNav();
        saveProgress();
        announceSlide();
      } else if (currentModule > 1) {
        // Bounds check for previous module
        const prevModuleIndex = currentModule - 2;
        if (prevModuleIndex < 0 || prevModuleIndex >= modules.length) {
          console.warn('Invalid previous module index');
          return;
        }

        const prevModuleSlides = modules[prevModuleIndex].slides;
        currentModule--;
        currentSlide = prevModuleSlides;

        document.querySelectorAll('.module-slides').forEach(el => el.classList.remove('active'));
        const targetModuleEl = document.querySelector(`.module-slides[data-module="${currentModule}"]`);
        if (targetModuleEl) {
          targetModuleEl.classList.add('active');
        }

        updateSlideVisibility();
        updateSlideNav();
        renderModuleList();

        const moduleTitle = modules[currentModule - 1];
        if (moduleTitle) {
          document.getElementById('currentModule').textContent = moduleTitle.title;
        }

        saveProgress();
        announceSlide();
      }
      // If at first slide of first module, do nothing (already handled)
    }

    function checkAnswer(element, isCorrect) {
      const container = element.closest('.quiz-container');
      const options = container.querySelectorAll('.quiz-option');
      const feedback = container.querySelector('.quiz-feedback');

      options.forEach(opt => {
        opt.style.pointerEvents = 'none';
        if (opt === element) opt.classList.add(isCorrect ? 'correct' : 'incorrect');
      });

      feedback.classList.add('show', isCorrect ? 'correct' : 'incorrect');
      feedback.innerHTML = isCorrect
        ? '<strong>Correct!</strong> You understand the key concept.'
        : '<strong>Not quite.</strong> Review the module to understand why.';
    }

    // ==================== THEME TOGGLE ====================
    function toggleTheme() {
      const body = document.body;
      const themeBtn = document.getElementById('themeToggle');
      const isLight = body.classList.toggle('light-theme');

      // Update button icon
      if (themeBtn) {
        themeBtn.textContent = isLight ? 'ğŸŒ™' : 'â˜€ï¸';
        themeBtn.setAttribute('aria-label', isLight ? 'Switch to dark mode' : 'Switch to light mode');
      }

      // Save preference
      try {
        localStorage.setItem('ipd-course-theme', isLight ? 'light' : 'dark');
      } catch (e) {
        console.warn('Could not save theme preference');
      }
    }

    function loadTheme() {
      try {
        const savedTheme = localStorage.getItem('ipd-course-theme');
        const themeBtn = document.getElementById('themeToggle');

        if (savedTheme === 'light') {
          document.body.classList.add('light-theme');
          if (themeBtn) {
            themeBtn.textContent = 'ğŸŒ™';
            themeBtn.setAttribute('aria-label', 'Switch to dark mode');
          }
        }
      } catch (e) {
        console.warn('Could not load theme preference');
      }
    }

    // ==================== CERTIFICATE ====================
    function showCertificate() {
      const modal = document.getElementById('certificateModal');
      const dateEl = document.getElementById('certDate');

      if (modal) {
        modal.classList.add('visible');

        // Set current date
        if (dateEl) {
          const now = new Date();
          const options = { year: 'numeric', month: 'long', day: 'numeric' };
          dateEl.textContent = `Completed on ${now.toLocaleDateString('en-US', options)}`;
        }

        // Focus the name input
        const nameInput = document.getElementById('certName');
        if (nameInput) {
          setTimeout(() => nameInput.focus(), 100);
        }
      }
    }

    function closeCertificate() {
      const modal = document.getElementById('certificateModal');
      if (modal) {
        modal.classList.remove('visible');
      }
    }

    function printCertificate() {
      const name = document.getElementById('certName')?.value || 'Course Participant';
      const certContent = document.getElementById('certificateContent');

      if (!certContent) return;

      // Temporarily replace input with name text
      const nameInput = document.getElementById('certName');
      const originalHTML = nameInput?.outerHTML;
      if (nameInput) {
        const nameSpan = document.createElement('span');
        nameSpan.className = 'certificate-name';
        nameSpan.textContent = name;
        nameInput.replaceWith(nameSpan);
      }

      // Hide action buttons for print
      const actions = certContent.querySelector('.certificate-actions');
      const closeBtn = certContent.querySelector('.certificate-close');
      if (actions) actions.style.display = 'none';
      if (closeBtn) closeBtn.style.display = 'none';

      // Print
      const printWindow = window.open('', '_blank');
      printWindow.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Certificate - IPD Meta-Analysis Course</title>
          <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet">
          <style>
            body { margin: 0; padding: 2rem; font-family: 'Cormorant Garamond', Georgia, serif; }
            .certificate {
              background: linear-gradient(135deg, #faf8f5 0%, #fff 100%);
              border: 8px solid #D4AF37;
              border-radius: 12px;
              padding: 3rem;
              max-width: 700px;
              margin: 0 auto;
              text-align: center;
            }
            .certificate-header { font-size: 2.5rem; color: #1E2761; margin-bottom: 0.5rem; }
            .certificate-subtitle { font-size: 1rem; color: #718096; margin-bottom: 2rem; letter-spacing: 0.2em; text-transform: uppercase; }
            .certificate-body { font-size: 1.2rem; color: #2D3748; line-height: 1.8; margin-bottom: 2rem; }
            .certificate-name { font-size: 2rem; font-weight: 700; color: #1E2761; border-bottom: 2px solid #D4AF37; display: inline-block; padding: 0 2rem 0.5rem; margin: 1rem 0; }
            .certificate-date { font-size: 0.9rem; color: #718096; margin-top: 1.5rem; }
            .certificate-seal { width: 80px; height: 80px; background: linear-gradient(135deg, #D4AF37, #B8860B); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 1.5rem auto 0; color: white; font-size: 2rem; }
          </style>
        </head>
        <body>
          ${certContent.innerHTML}
        </body>
        </html>
      `);
      printWindow.document.close();
      printWindow.print();

      // Restore original state
      if (actions) actions.style.display = '';
      if (closeBtn) closeBtn.style.display = '';
      const nameSpan = certContent.querySelector('.certificate-name');
      if (nameSpan && originalHTML) {
        nameSpan.outerHTML = originalHTML;
      }
    }

    function downloadCertificate() {
      const name = document.getElementById('certName')?.value || 'Course Participant';
      const dateEl = document.getElementById('certDate')?.textContent || '';

      // Create a canvas-based certificate image
      const canvas = document.createElement('canvas');
      canvas.width = 1000;
      canvas.height = 700;
      const ctx = canvas.getContext('2d');

      // Background gradient
      const gradient = ctx.createLinearGradient(0, 0, 1000, 700);
      gradient.addColorStop(0, '#faf8f5');
      gradient.addColorStop(1, '#ffffff');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, 1000, 700);

      // Border
      ctx.strokeStyle = '#D4AF37';
      ctx.lineWidth = 16;
      ctx.strokeRect(20, 20, 960, 660);

      // Inner border
      ctx.strokeStyle = '#1E2761';
      ctx.lineWidth = 2;
      ctx.strokeRect(40, 40, 920, 620);

      // Header
      ctx.fillStyle = '#1E2761';
      ctx.font = 'bold 48px Georgia, serif';
      ctx.textAlign = 'center';
      ctx.fillText('Certificate of Completion', 500, 120);

      // Subtitle
      ctx.fillStyle = '#718096';
      ctx.font = '18px Arial, sans-serif';
      ctx.letterSpacing = '0.2em';
      ctx.fillText('INDIVIDUAL PARTICIPANT DATA META-ANALYSIS', 500, 160);

      // Body text
      ctx.fillStyle = '#2D3748';
      ctx.font = '22px Georgia, serif';
      ctx.fillText('This certifies that', 500, 240);

      // Name
      ctx.fillStyle = '#1E2761';
      ctx.font = 'bold 36px Georgia, serif';
      ctx.fillText(name, 500, 300);

      // Name underline
      const nameWidth = ctx.measureText(name).width;
      ctx.strokeStyle = '#D4AF37';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(500 - nameWidth/2 - 20, 315);
      ctx.lineTo(500 + nameWidth/2 + 20, 315);
      ctx.stroke();

      // More body text
      ctx.fillStyle = '#2D3748';
      ctx.font = '22px Georgia, serif';
      ctx.fillText('has successfully completed the course', 500, 380);
      ctx.font = 'bold 24px Georgia, serif';
      ctx.fillText('"The Hidden Patient: IPD Meta-Analysis"', 500, 420);
      ctx.font = '18px Georgia, serif';
      ctx.fillText('demonstrating understanding of individual participant data', 500, 460);
      ctx.fillText('synthesis methods and their clinical applications.', 500, 485);

      // Date
      ctx.fillStyle = '#718096';
      ctx.font = '16px Arial, sans-serif';
      ctx.fillText(dateEl, 500, 540);

      // Seal
      ctx.fillStyle = '#D4AF37';
      ctx.beginPath();
      ctx.arc(500, 610, 40, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = 'white';
      ctx.font = 'bold 36px Arial, sans-serif';
      ctx.fillText('âœ“', 500, 625);

      // Download
      const link = document.createElement('a');
      link.download = `IPD-Certificate-${name.replace(/[^a-zA-Z0-9\s-]/g, '').replace(/\s+/g, '-')}.png`;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    // Close certificate with Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeCertificate();
      }
    });

    // Close certificate when clicking outside
    document.getElementById('certificateModal')?.addEventListener('click', (e) => {
      if (e.target.id === 'certificateModal') {
        closeCertificate();
      }
    });

    // ==================== INIT ====================
    init();
    loadTheme();
  </script>
</body>
</html>
